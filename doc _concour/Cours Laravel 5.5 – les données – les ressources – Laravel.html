<!DOCTYPE html>
<!-- saved from url=(0071)https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/ -->
<html lang="fr-FR" slick-uniqueid="3"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://laravel.sillo.org/xmlrpc.php">
	
<title>Cours Laravel 5.5 – les données – les ressources – Laravel</title>
<link rel="dns-prefetch" href="https://s0.wp.com/">
<link rel="dns-prefetch" href="https://secure.gravatar.com/">
<link rel="dns-prefetch" href="https://fonts.googleapis.com/">
<link rel="dns-prefetch" href="https://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="Laravel » Flux" href="https://laravel.sillo.org/feed/">
<link rel="alternate" type="application/rss+xml" title="Laravel » Flux des commentaires" href="https://laravel.sillo.org/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Laravel » Cours Laravel 5.5 – les données – les ressources Flux des commentaires" href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/laravel.sillo.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.2.2"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/wp-emoji-release.min.js.téléchargement" type="text/javascript" defer=""></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="oblique-bootstrap-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/bootstrap.min.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-block-library-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/style.min.css" type="text/css" media="all">
<link rel="stylesheet" id="oblique-body-fonts-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/css" type="text/css" media="all">
<link rel="stylesheet" id="oblique-headings-fonts-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/css(1)" type="text/css" media="all">
<link rel="stylesheet" id="oblique-style-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/style.css" type="text/css" media="all">
<style id="oblique-style-inline-css" type="text/css">
.site-title { font-size:82px; }
.site-description { font-size:18px; }
.main-navigation li { font-size:16px; }
.site-branding { padding:150px 0; }
@media only screen and (max-width: 1024px) { .site-branding { padding:100px 0; } }
.site-logo, .woocommerce .site-logo, .woocommerce-page .site-logo { max-width:200px; }
.svg-block { fill:#1c1c1c;}
.footer-svg.svg-block { fill:#17191B;}
.site-footer { background-color:#17191B;}
body { color:#50545C}
.site-title a, .site-title a:hover { color:#f9f9f9}
.site-description { color:#dddddd}
.entry-title, .entry-title a { color:#000}
.entry-meta, .entry-meta a, .entry-footer, .entry-footer a { color:#9d9d9d}
.widget-area { background-color:#17191B}
.widget-area, .widget-area a { color:#f9f9f9}
.social-navigation li a { color:#ffffff}
.sidebar-toggle, .comment-form, .comment-respond .comment-reply-title { color:#ffffff}

</style>
<link rel="stylesheet" id="oblique-font-awesome-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/fontawesome-all.min.css" type="text/css" media="all">
<link rel="stylesheet" id="enlighter-local-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/EnlighterJS.min.css" type="text/css" media="all">
<link rel="stylesheet" id="social-logos-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/social-logos.min.css" type="text/css" media="all">
<link rel="stylesheet" id="jetpack_css-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/jetpack.css" type="text/css" media="all">
<link rel="stylesheet" id="core3.0-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/shCore.css" type="text/css" media="all">
<link rel="stylesheet" id="core-RDark3.0-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/shCoreRDark.css" type="text/css" media="all">
<link rel="stylesheet" id="theme-RDark3.0-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/shThemeRDark.css" type="text/css" media="all">
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/jquery.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/jquery-migrate.min.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/imagesloaded.pkgd.min.js.téléchargement"></script>
<script type="text/javascript">
/* <![CDATA[ */
var oblique_disable_fitvids_var = {"oblique_disable_fitvids":""};
/* ]]> */
</script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/scripts.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/imagesloaded.min.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/masonry.min.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/masonry-init.js.téléchargement"></script>
<link rel="https://api.w.org/" href="https://laravel.sillo.org/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://laravel.sillo.org/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://laravel.sillo.org/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Cours Laravel 5.5 – les données – la pagination" href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-la-pagination/">
<link rel="next" title="Cours Laravel 5.5 – les données – les assistants" href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-assistants/">
<meta name="generator" content="WordPress 5.2.2">
<link rel="canonical" href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/">
<link rel="shortlink" href="https://wp.me/p7hA4S-1cN">
<link rel="alternate" type="application/json+oembed" href="https://laravel.sillo.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Flaravel.sillo.org%2Fcours-laravel-5-5-les-donnees-les-ressources%2F">
<link rel="alternate" type="text/xml+oembed" href="https://laravel.sillo.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Flaravel.sillo.org%2Fcours-laravel-5-5-les-donnees-les-ressources%2F&amp;format=xml">
    <style type="text/css" media="screen">
      div.printfriendly a, div.printfriendly a:link, div.printfriendly a:hover, div.printfriendly a:visited, div.printfriendly a:focus {
        text-decoration: none;
        border: none;
        -webkit-box-shadow:none!important;
        box-shadow:none!important;
      }
    </style>
           <style type="text/css" media="screen">
          div.printfriendly {
            margin: 12px 12px 12px 12px;
          }
          div.printfriendly a, div.printfriendly a:link, div.printfriendly a:visited {
            font-size: 14px;
            color: #3AAA11;
          }
        </style>
		<link rel="stylesheet" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/printfriendly.css" media="screen">
        <style type="text/css" media="print">
          .printfriendly {
            display: none;
          }
        </style>

<!-- WP SyntaxHighlighter Ver.1.7.3 CSS for code Begin -->
<style type="text/css">
.syntaxhighlighter,
.syntaxhighlighter a,
.syntaxhighlighter div,
.syntaxhighlighter code,
.syntaxhighlighter table,
.syntaxhighlighter table td,
.syntaxhighlighter table tr,
.syntaxhighlighter table tbody,
.syntaxhighlighter table thead,
.syntaxhighlighter table caption,
.syntaxhighlighter textarea {
font-size: 12px !important; /* Set the font size in pixels */  
font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; /* Set the font type */  
}
.syntaxhighlighter table caption {
/* For Title(Caption) */  
font-size: 14px !important; /* Set the font size in pixels */  
font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; /* Set the font type */  
}
.syntaxhighlighter.nogutter td.code .line {
/* Set the left padding space when no-gutter in ver. 3.0 */  
padding-left: 3px !important;
}
.syntaxhighlighter {
/* For Chrome/Safari(WebKit) */  
/* Hide the superfluous vertical scrollbar in ver. 3.0 */  
overflow-y: hidden !important;
padding: 1px !important;
}
.widget-area.syntaxhighlighter a,
.widget-area.syntaxhighlighter div,
.widget-area.syntaxhighlighter code,
.widget-area.syntaxhighlighter table,
.widget-area.syntaxhighlighter table td,
.widget-area.syntaxhighlighter table tr,
.widget-area.syntaxhighlighter table tbody,
.widget-area.syntaxhighlighter table thead,
.widget-area.syntaxhighlighter table caption,
.widget-area.syntaxhighlighter textarea {
/* For Widget */  
font-size: 14px !important; /* Set the font size in pixels */  
font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; /* Set the font type */  
}
.widget-area table caption {
/* For Widget */  
/* For Title(Caption) */  
font-size: 10px !important; /* Set the font size in pixels */  
font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important; /* Set the font type */  
}
</style>
<!-- WP SyntaxHighlighter Ver.1.7.3 CSS for code End -->

<link rel="dns-prefetch" href="https://v0.wordpress.com/">
<style type="text/css">img#wpstats{display:none}</style><!--[if lt IE 9]>
<script src="https://laravel.sillo.org/wp-content/themes/oblique/js/vendor/html5shiv.js"></script>
<![endif]-->
		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
					<style type="text/css">
					.site-header {
						background: url(https://laravel.sillo.org/wp-content/uploads/2018/01/laravel-3.png) no-repeat;
						background-position: center top;
						background-attachment: fixed;
						background-size: cover;
					}
		</style>
		
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article">
<meta property="og:title" content="Cours Laravel 5.5 – les données – les ressources">
<meta property="og:url" content="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/">
<meta property="og:description" content="Avec Laravel on peut créer facilement un routage et un contrôleur REST/CRUD, autrement appelé contrôleur de ressource. Il est aussi aisé de bâtir des API et de travailler avec du JSON. Dans ce chap…">
<meta property="article:published_time" content="2017-10-01T17:01:44+00:00">
<meta property="article:modified_time" content="2017-10-08T21:05:30+00:00">
<meta property="og:site_name" content="Laravel">
<meta property="og:image" content="http://laravel.sillo.org/wp-content/uploads/2017/10/Capture-16.png">
<meta property="og:image:width" content="756">
<meta property="og:image:height" content="312">
<meta property="og:locale" content="fr_FR">
<meta name="twitter:text:title" content="Cours Laravel 5.5 – les données – les ressources">
<meta name="twitter:card" content="summary">

<!-- End Jetpack Open Graph Tags -->
<style type="text/css"></style><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style><link rel="stylesheet" type="text/css" id="gravatar-card-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/hovercard.min.css"><link rel="stylesheet" type="text/css" id="gravatar-card-services-css" href="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/services.min.css"><script src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/a"></script></head>

<body class="post-template-default single single-post postid-4637 single-format-standard">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/#content">Aller au contenu</a>

		<div class="sidebar-toggle">
			<i class="fa fa-bars"></i>
			</div>

	<div class="top-bar container">
									<div class="header-search">
				<form role="search" method="get" class="search-form" action="https://laravel.sillo.org/">
				<label>
					<span class="screen-reader-text">Rechercher&nbsp;:</span>
					<input type="search" class="search-field" placeholder="Recherche…" value="" name="s">
				</label>
				<input type="submit" class="search-submit" value="Rechercher">
			</form>			</div>
			</div>

	<div class="svg-container nav-svg svg-block">
		<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1950 150">
		  <g transform="translate(0,-902.36218)"></g>
		  <path d="m 898.41609,-33.21176 0.01,0 -0.005,-0.009 -0.005,0.009 z"></path>
		  <path d="m 898.41609,-33.21176 0.01,0 -0.005,-0.009 -0.005,0.009 z"></path>
		  <path d="M 0,150 0,0 1950,0"></path>
		</svg>
	</div>	<header id="masthead" class="site-header" role="banner" style="background-position: 50% -133px;">
		<div class="overlay"></div>
		<div class="container">
			<div class="site-branding">
									<h1 class="site-title"><a href="https://laravel.sillo.org/" rel="home">Laravel</a></h1>
					<h2 class="site-description">Un framework qui rend heureux</h2>
							</div><!-- .site-branding -->
		</div>
		<div class="svg-container header-svg svg-block">
			
		<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1890 150">
			<g transform="translate(0,-902.36218)"></g>
			  <path d="m 898.41609,-33.21176 0.01,0 -0.005,-0.009 -0.005,0.009 z"></path>
			  <path d="m 898.41609,-33.21176 0.01,0 -0.005,-0.009 -0.005,0.009 z"></path>
			  <path d="m 1925,0 0,150 -1925,0"></path>
		</svg>
			</div>		
	</header><!-- #masthead -->

	<div id="content" class="site-content">
		<div class="container content-wrapper">
		<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<div class="svg-container single-post-svg svg-block">
	
		<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1890 150">
			<g transform="translate(0,-902.36218)"></g>
			  <path d="m 898.41609,-33.21176 0.01,0 -0.005,-0.009 -0.005,0.009 z"></path>
			  <path d="m 898.41609,-33.21176 0.01,0 -0.005,-0.009 -0.005,0.009 z"></path>
			  <path d="m 1925,0 0,150 -1925,0"></path>
		</svg>
	</div>
<article id="post-4637" class="post-4637 post type-post status-publish format-standard hentry category-laravel_5">

	<header class="entry-header">
		<h1 class="entry-title">Cours Laravel 5.5 – les données – les ressources</h1>
		<div class="entry-meta">
			<span class="posted-on"><a href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/" rel="bookmark"><time class="entry-date published" datetime="2017-10-01T19:01:44+02:00">1 octobre 2017</time><time class="updated" datetime="2017-10-08T23:05:30+02:00">8 octobre 2017</time></a></span><span class="byline"> <span class="author vcard"><a class="url fn n" href="https://laravel.sillo.org/author/lara/">bestmomo</a></span></span><span class="cat-links"><a href="https://laravel.sillo.org/category/laravel_5/" rel="category tag">Laravel 5</a></span>		</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

			

	<div class="entry-content">
		<div class="pf-content"><p>Avec Laravel on peut créer facilement un routage et un contrôleur REST/CRUD, autrement appelé contrôleur de ressource. Il est aussi aisé de bâtir des API et de travailler avec du JSON. Dans ce chapitre je vous propose d’explorer cet aspect de Laravel.</p>
<h1>Préparation</h1>
<p>Pour ce chapitre on va partir d’une installation vierge de Laravel :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="null" style="display: none;">composer create-project --prefer-dist laravel/laravel laravel5</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">composer create</span><span class="sy0">-</span><span class="">project </span><span class="sy0">-</span><span class="sy0">-</span><span class="">prefer</span><span class="sy0">-</span><span class="">dist laravel/laravel laravel5</span></li></ul><pre style="display: none;">composer create-project --prefer-dist laravel/laravel laravel5</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Complétée par l’authentification :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="null" style="display: none;">php artisan make:auth</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">php artisan make:auth</span></li></ul><pre style="display: none;">php artisan make:auth</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Et par une migration (avec la bonne configuration dans le fichier <strong>.env</strong>) :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="null" style="display: none;">php artisan migrate</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">php artisan migrate</span></li></ul><pre style="display: none;">php artisan migrate</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Vous devez ainsi avoir un Laravel fonctionnel :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-353/" rel="attachment wp-att-4638"><img data-attachment-id="4638" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-353/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/09/Capture-238.png" data-orig-size="618,163" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/09/Capture-238-300x79.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/09/Capture-238.png" class="size-full wp-image-4638 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-238.png" alt="" width="618" height="163" srcset="https://laravel.sillo.org/wp-content/uploads/2017/09/Capture-238.png 618w, https://laravel.sillo.org/wp-content/uploads/2017/09/Capture-238-300x79.png 300w" sizes="(max-width: 618px) 100vw, 618px"></a></p>
<p>Et les tables dans la base :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-354/" rel="attachment wp-att-4639"><img data-attachment-id="4639" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-354/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/09/Capture-239.png" data-orig-size="119,127" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/09/Capture-239.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/09/Capture-239.png" class="size-full wp-image-4639 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-239.png" alt="" width="119" height="127" scale="0"></a></p>
<p>On va utiliser <strong>tinker</strong> pour créer quelques utilisateurs :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="null" style="display: none;">php artisan tinker

Psy Shell v0.8.11 (PHP 7.1.9 — cli) by Justin Hileman

&gt;&gt;&gt; factory(App\User::class, 10)-&gt;create()

=&gt; Illuminate\Database\Eloquent\Collection {#765
    all: [
       App\User {#761
       name: "Rigoberto Balistreri Sr.",
       email: "xstroman@example.com",
       updated_at: "2017-09-30 22:03:29",
       created_at: "2017-09-30 22:03:29",
       id: 1,
    },
   ...</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">php artisan tinker</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">Psy Shell v0</span><span class="nu0">.8</span><span class="nu0">.11</span><span class=""> </span><span class="br0">(</span><span class="kw4">PHP</span><span class=""> </span><span class="nu0">7.1</span><span class="nu0">.9</span><span class=""> — cli</span><span class="br0">)</span><span class=""> by Justin Hileman</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="sy0">&gt;</span><span class="sy0">&gt;</span><span class="sy0">&gt;</span><span class=""> </span><span class="me0">factory</span><span class="br0">(</span><span class="">App\User::</span><span class="kw1">class</span><span class="">, </span><span class="nu0">10</span><span class="br0">)</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me0">create</span><span class="br0">(</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> Illuminate\Database\Eloquent\Collection </span><span class="br0">{</span><span class="">#</span><span class="nu0">765</span><span class=""></span></li><li class=" even"><span class="">    all: </span><span class="br0">[</span><span class=""></span></li><li class=" odd"><span class="">       App\User </span><span class="br0">{</span><span class="">#</span><span class="nu0">761</span><span class=""></span></li><li class=" even"><span class="">       name: </span><span class="st0">"Rigoberto Balistreri Sr."</span><span class="">,</span></li><li class=" odd"><span class="">       email: </span><span class="st0">"xstroman@example.com"</span><span class="">,</span></li><li class=" even"><span class="">       updated_at: </span><span class="st0">"2017-09-30 22:03:29"</span><span class="">,</span></li><li class=" odd"><span class="">       created_at: </span><span class="st0">"2017-09-30 22:03:29"</span><span class="">,</span></li><li class=" even"><span class="">       id: </span><span class="nu0">1</span><span class="">,</span></li><li class=" odd"><span class="">    </span><span class="br0">}</span><span class="">,</span></li><li class=" even"><span class="">   ...</span></li></ul><pre style="display: none;">php artisan tinker

Psy Shell v0.8.11 (PHP 7.1.9 — cli) by Justin Hileman

&gt;&gt;&gt; factory(App\User::class, 10)-&gt;create()

=&gt; Illuminate\Database\Eloquent\Collection {#765
    all: [
       App\User {#761
       name: "Rigoberto Balistreri Sr.",
       email: "xstroman@example.com",
       updated_at: "2017-09-30 22:03:29",
       created_at: "2017-09-30 22:03:29",
       id: 1,
    },
   ...</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>J’ai déjà parlé des factories dans un précédent chapitre.</p>
<p>On utilise alors la méthode <strong>create</strong> d’Eloquent pour enregistrer les données dans la base :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-356/" rel="attachment wp-att-4643"><img data-attachment-id="4643" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-356/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-1.png" data-orig-size="1096,305" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-1-300x83.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-1-1024x285.png" class="size-full wp-image-4643 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-1.png" alt="" width="1096" height="305" srcset="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-1.png 1096w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-1-300x83.png 300w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-1-768x214.png 768w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-1-1024x285.png 1024w" sizes="(max-width: 1096px) 100vw, 1096px"></a></p>
<p>Vous voyez ce qu’on peut faire avec juste une ligne dans <strong>tinker</strong> !</p>
<h1>Les contrôleurs de ressource</h1>
<h2>Le contrôleur</h2>
<p>Lorsque vous créez un contrôleur vous devez déterminer le nom des méthodes, les créer puis les coder. Un contrôleur de ressource peut bien vous aider dans cette tâche en normalisant (REST/CRUD)&nbsp; les méthodes. Pour créer un contrôleur de ressource c’est tout simple :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="null" style="display: none;">php artisan make:controller UserController --resource</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">php artisan make:controller UserController </span><span class="sy0">-</span><span class="sy0">-</span><span class="kw4">resource</span></li></ul><pre style="display: none;">php artisan make:controller UserController --resource</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Vous avez alors la création du contrôleur comme on l’a déjà vu dans ce cours :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-357/" rel="attachment wp-att-4644"><img data-attachment-id="4644" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-357/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-2.png" data-orig-size="202,136" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-2.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-2.png" class="size-full wp-image-4644 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-2.png" alt="" width="202" height="136" scale="0"></a></p>
<p>Mais le fait d’ajouter l’option –<strong>-resource</strong> crée ce code :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">&lt;?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class UserController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function index()
    {
        //
    }

    /**
     * Show the form for creating a new resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function create()
    {
        //
    }

    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\Response
     */
    public function store(Request $request)
    {
        //
    }

    /**
     * Display the specified resource.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function show($id)
    {
        //
    }

    /**
     * Show the form for editing the specified resource.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function edit($id)
    {
        //
    }

    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function update(Request $request, $id)
    {
        //
    }

    /**
     * Remove the specified resource from storage.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function destroy($id)
    {
        //
    }
}</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="de1">&lt;?php</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">namespace</span><span class=""> App\Http\Controllers;</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">use</span><span class=""> Illuminate\Http\Request;</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">class</span><span class=""> UserController </span><span class="kw1">extends</span><span class=""> Controller</span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="co2">/**</span></li><li class=" even"><span class="co2">     * Display a listing of the resource.</span></li><li class=" odd"><span class="co2">     *</span></li><li class=" even"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" odd"><span class="co2">     */</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">index</span><span class="br0">(</span><span class="br0">)</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">    </span><span class="co2">/**</span></li><li class=" even"><span class="co2">     * Show the form for creating a new resource.</span></li><li class=" odd"><span class="co2">     *</span></li><li class=" even"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" odd"><span class="co2">     */</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">create</span><span class="br0">(</span><span class="br0">)</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">    </span><span class="co2">/**</span></li><li class=" even"><span class="co2">     * Store a newly created resource in storage.</span></li><li class=" odd"><span class="co2">     *</span></li><li class=" even"><span class="co2">     * @param  \Illuminate\Http\Request  $request</span></li><li class=" odd"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" even"><span class="co2">     */</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">store</span><span class="br0">(</span><span class="">Request </span><span class="kw3">$request</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">    </span><span class="co2">/**</span></li><li class=" odd"><span class="co2">     * Display the specified resource.</span></li><li class=" even"><span class="co2">     *</span></li><li class=" odd"><span class="co2">     * @param  int  $id</span></li><li class=" even"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" odd"><span class="co2">     */</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">show</span><span class="br0">(</span><span class="kw3">$id</span><span class="br0">)</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">    </span><span class="co2">/**</span></li><li class=" even"><span class="co2">     * Show the form for editing the specified resource.</span></li><li class=" odd"><span class="co2">     *</span></li><li class=" even"><span class="co2">     * @param  int  $id</span></li><li class=" odd"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" even"><span class="co2">     */</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">edit</span><span class="br0">(</span><span class="kw3">$id</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">    </span><span class="co2">/**</span></li><li class=" odd"><span class="co2">     * Update the specified resource in storage.</span></li><li class=" even"><span class="co2">     *</span></li><li class=" odd"><span class="co2">     * @param  \Illuminate\Http\Request  $request</span></li><li class=" even"><span class="co2">     * @param  int  $id</span></li><li class=" odd"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" even"><span class="co2">     */</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">update</span><span class="br0">(</span><span class="">Request </span><span class="kw3">$request</span><span class="">, </span><span class="kw3">$id</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">    </span><span class="co2">/**</span></li><li class=" odd"><span class="co2">     * Remove the specified resource from storage.</span></li><li class=" even"><span class="co2">     *</span></li><li class=" odd"><span class="co2">     * @param  int  $id</span></li><li class=" even"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" odd"><span class="co2">     */</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">destroy</span><span class="br0">(</span><span class="kw3">$id</span><span class="br0">)</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">&lt;?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class UserController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function index()
    {
        //
    }

    /**
     * Show the form for creating a new resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function create()
    {
        //
    }

    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\Response
     */
    public function store(Request $request)
    {
        //
    }

    /**
     * Display the specified resource.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function show($id)
    {
        //
    }

    /**
     * Show the form for editing the specified resource.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function edit($id)
    {
        //
    }

    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function update(Request $request, $id)
    {
        //
    }

    /**
     * Remove the specified resource from storage.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function destroy($id)
    {
        //
    }
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>On se retrouve avec 7 méthodes correspondant aux tâches classiques :</p>
<ul>
<li><strong>index</strong> : afficher la liste des utilisateurs</li>
<li><strong>create</strong> : afficher le formulaire pour la création d’un utilisateur</li>
<li><strong>store</strong> : créer un utilisateur</li>
<li><strong>show</strong> : afficher l’utilisateur</li>
<li><strong>edit</strong> : afficher le formulaire pour la modification d’un utilisateur</li>
<li><strong>update</strong> : modifier un utilisateur</li>
<li><strong>destroy</strong> : supprimer un utilisateur</li>
</ul>
<p>Évidemment il vous reste à coder toutes ces méthodes…</p>
<h2>Les routes</h2>
<p>Pour générer les routes vers les 7 méthodes du contrôleur de ressource c’est aussi très simple. Entrez ce code dans le fichier <strong>routes/web.php</strong> :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">Route::resource('users', 'UserController');</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">Route::</span><span class="kw4">resource</span><span class="br0">(</span><span class="st1">'users'</span><span class="">, </span><span class="st1">'UserController'</span><span class="br0">)</span><span class="">;</span></li></ul><pre style="display: none;">Route::resource('users', 'UserController');</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Si maintenant vous regardez les routes générées avec :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="null" style="display: none;">php artisan route:list</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">php artisan route:</span><span class="kw1">list</span></li></ul><pre style="display: none;">php artisan route:list</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Vous obtenez ceci :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-358/" rel="attachment wp-att-4645"><img data-attachment-id="4645" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-358/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-3.png" data-orig-size="806,119" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-3-300x44.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-3.png" class="size-full wp-image-4645 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-3.png" alt="" width="806" height="119" srcset="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-3.png 806w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-3-300x44.png 300w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-3-768x113.png 768w" sizes="(max-width: 806px) 100vw, 806px"></a></p>
<p>On a 7 routes, chacune correspondant à une méthode du contrôleur :</p>
<table>
<tbody>
<tr>
<td style="text-align: center;">Verbe</td>
<td style="text-align: center;">URL</td>
<td style="text-align: center;">Méthode du contrôleur</td>
<td style="text-align: center;">Nom</td>
<td style="text-align: center;">Description</td>
</tr>
<tr>
<td>GET</td>
<td>users</td>
<td>index()</td>
<td>users.index</td>
<td>Liste de tous les utilisateurs</td>
</tr>
<tr>
<td>GET</td>
<td>users/create</td>
<td>create()</td>
<td>users.create</td>
<td>Affichage formulaire de création</td>
</tr>
<tr>
<td>POST</td>
<td>users</td>
<td>store()</td>
<td>users.store</td>
<td>Création de l’utilisateur</td>
</tr>
<tr>
<td>GET</td>
<td>users/{user}</td>
<td>show()</td>
<td>users.show</td>
<td>Affichage de l’utilisateur</td>
</tr>
<tr>
<td>GET</td>
<td>users/{user}/edit</td>
<td>edit()</td>
<td>users.edit</td>
<td>Affichage formulaire de modification</td>
</tr>
<tr>
<td>PUT/PATCH</td>
<td>users/{user}</td>
<td>update()</td>
<td>users.update</td>
<td>Modification de l’utilisateur</td>
</tr>
<tr>
<td>DELETE</td>
<td>users/{user}</td>
<td>destroy()</td>
<td>users.destroy</td>
<td>Suppression de l’utilisateur</td>
</tr>
</tbody>
</table>
<h2>Un peu de code</h2>
<h3>Liste des utilisateurs</h3>
<p>Maintenant qu’on a un contrôleur et des routes dédiées il suffit de compléter le code. On va commencer par déclarer l’espace de nom pour le modèle pour simplifier la syntaxe :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">use App\User;</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">use</span><span class=""> App\User;</span></li></ul><pre style="display: none;">use App\User;</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Ensuite on code la méthode <strong>index</strong> :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">public function index()
{
    $users = User::all();
    foreach ($users as $user) {
        echo $user-&gt;name . '&lt;br&gt;';
    }
}</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">index</span><span class="br0">(</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw3">$users</span><span class=""> </span><span class="sy0">=</span><span class=""> User::</span><span class="me0">all</span><span class="br0">(</span><span class="br0">)</span><span class="">;</span></li><li class=" even"><span class="">    </span><span class="kw1">foreach</span><span class=""> </span><span class="br0">(</span><span class="kw3">$users</span><span class=""> </span><span class="kw1">as</span><span class=""> </span><span class="kw3">$user</span><span class="br0">)</span><span class=""> </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="kw1">echo</span><span class=""> </span><span class="kw3">$user</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me1">name</span><span class=""> . </span><span class="st1">'&lt;br&gt;'</span><span class="">;</span></li><li class=" even"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">public function index()
{
    $users = User::all();
    foreach ($users as $user) {
        echo $user-&gt;name . '&lt;br&gt;';
    }
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Et pour l’url <strong>…/users</strong> on obtient quelque chose dans ce genre :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="null" style="display: none;">Rigoberto Balistreri Sr.
Noble Fisher Sr.
Brenna Mohr
Helen Graham
Gardner Trantow
Adrianna Kautzer
Eladio Douglas IV
Susie Koch
Mr. Ned Harvey V
Kareem Hirthe</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">Rigoberto Ba</span><span class="kw1">list</span><span class="">reri Sr.</span></li><li class=" even"><span class="">Noble Fisher Sr.</span></li><li class=" odd"><span class="">Brenna Mohr</span></li><li class=" even"><span class="">Helen Graham</span></li><li class=" odd"><span class="">Gardner Trantow</span></li><li class=" even"><span class="">Adrianna Kautzer</span></li><li class=" odd"><span class="">Eladio Douglas IV</span></li><li class=" even"><span class="">Susie Koch</span></li><li class=" odd"><span class="">Mr. Ned Harvey V</span></li><li class=" even"><span class="">Kareem Hirthe</span></li></ul><pre style="display: none;">Rigoberto Balistreri Sr.
Noble Fisher Sr.
Brenna Mohr
Helen Graham
Gardner Trantow
Adrianna Kautzer
Eladio Douglas IV
Susie Koch
Mr. Ned Harvey V
Kareem Hirthe</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<h3>Afficher un utilisateur</h3>
<p>C’est la méthode <strong>show</strong> qui est concernée :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">public function show(User $user)
{
    echo 'Nom :' . $user-&gt;name . '&lt;br&gt;';
    echo 'Email :' . $user-&gt;email . '&lt;br&gt;';
}</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">show</span><span class="br0">(</span><span class="">User </span><span class="kw3">$user</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">echo</span><span class=""> </span><span class="st1">'Nom :'</span><span class=""> . </span><span class="kw3">$user</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me1">name</span><span class=""> . </span><span class="st1">'&lt;br&gt;'</span><span class="">;</span></li><li class=" even"><span class="">    </span><span class="kw1">echo</span><span class=""> </span><span class="st1">'Email :'</span><span class=""> . </span><span class="kw3">$user</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me1">email</span><span class=""> . </span><span class="st1">'&lt;br&gt;'</span><span class="">;</span></li><li class=" odd"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">public function show(User $user)
{
    echo 'Nom :' . $user-&gt;name . '&lt;br&gt;';
    echo 'Email :' . $user-&gt;email . '&lt;br&gt;';
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p style="text-align: center;"><em>On a déjà vu dans un précédent chapitre la liaison implicite entre le paramètre dans l’url et un modèle.</em></p>
<p>Avec une url du genre <strong>…users/1</strong> on obtient :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="null" style="display: none;">Nom :Rigoberto Balistreri Sr.
Email :xstroman@example.com</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">Nom :Rigoberto Ba</span><span class="kw1">list</span><span class="">reri Sr.</span></li><li class=" even"><span class="">Email :xstroman</span><span class="sy0">@</span><span class="">example.com</span></li></ul><pre style="display: none;">Nom :Rigoberto Balistreri Sr.
Email :xstroman@example.com</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<h3>Créer un utilisateur</h3>
<p>Pour la création d’un utilisateur deux méthodes sont concernées :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">public function create()
{
    return view('create');
}

public function store(Request $request)
{
    User::create($request-&gt;all());
    
    return "Utilisateur créé !";
}</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">create</span><span class="br0">(</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">return</span><span class=""> </span><span class="me0">view</span><span class="br0">(</span><span class="st1">'create'</span><span class="br0">)</span><span class="">;</span></li><li class=" even"><span class=""></span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class=""></span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">store</span><span class="br0">(</span><span class="">Request </span><span class="kw3">$request</span><span class="br0">)</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">    User::</span><span class="me0">create</span><span class="br0">(</span><span class="kw3">$request</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me0">all</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="">;</span></li><li class=" odd"><span class="">    </span></li><li class=" even"><span class="">    </span><span class="kw1">return</span><span class=""> </span><span class="st0">"Utilisateur créé !"</span><span class="">;</span></li><li class=" odd"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">public function create()
{
    return view('create');
}

public function store(Request $request)
{
    User::create($request-&gt;all());
    
    return "Utilisateur créé !";
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p style="text-align: center;"><em>Pour simplifier je n’ai pas prévu de validation.</em></p>
<p>Voici la vue <strong>create</strong> :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="html" style="display: none;">@extends('layouts.app')

@section('content')
&lt;div class="container"&gt;
    &lt;div class="row"&gt;
        &lt;div class="col-md-8 col-md-offset-2"&gt;
            &lt;div class="panel panel-default"&gt;
                &lt;div class="panel-heading"&gt;Créer un utilisateur&lt;/div&gt;

                &lt;div class="panel-body"&gt;
                    &lt;form class="form-horizontal" method="POST" action="{{ route('users.store') }}"&gt;
                        {{ csrf_field() }}

                        &lt;div class="form-group"&gt;
                            &lt;label for="name" class="col-md-4 control-label"&gt;Nom&lt;/label&gt;

                            &lt;div class="col-md-6"&gt;
                                &lt;input id="name" type="text" class="form-control" name="name" required autofocus&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;

                        &lt;div class="form-group"&gt;
                            &lt;label for="email" class="col-md-4 control-label"&gt;E-Mail&lt;/label&gt;

                            &lt;div class="col-md-6"&gt;
                                &lt;input id="email" type="email" class="form-control" name="email" required&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;

                        &lt;div class="form-group"&gt;
                            &lt;label for="password" class="col-md-4 control-label"&gt;Mot de passe&lt;/label&gt;

                            &lt;div class="col-md-6"&gt;
                                &lt;input id="password" type="password" class="form-control" name="password" required&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;

                        &lt;div class="form-group"&gt;
                            &lt;div class="col-md-8 col-md-offset-4"&gt;
                                &lt;button type="submit" class="btn btn-primary"&gt;
                                    Enregistrer
                                &lt;/button&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
@endsection
</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">@extends('layouts.app')</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">@section('content')</span></li><li class=" even"><span class=""></span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"container"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"row"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-8 col-md-offset-2"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">            </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"panel panel-default"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">                </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"panel-heading"</span><span class="kw1">&gt;</span><span class="">Créer un utilisateur</span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">                </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"panel-body"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                    </span><span class="kw1">&lt;form</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-horizontal"</span><span class=""> </span><span class="kw2">method</span><span class="kw1">=</span><span class="st0">"POST"</span><span class=""> </span><span class="kw2">action</span><span class="kw1">=</span><span class="st0">"{{ route('</span><span class="">users.store') }}"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">                        {{ csrf_field() }}</span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">                        </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-group"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                            </span><span class="kw1">&lt;label</span><span class=""> </span><span class="kw2">for</span><span class="kw1">=</span><span class="st0">"name"</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-4 control-label"</span><span class="kw1">&gt;</span><span class="">Nom</span><span class="kw1">&lt;/label&gt;</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">                            </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-6"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">                                </span><span class="kw1">&lt;input</span><span class=""> </span><span class="kw2">id</span><span class="kw1">=</span><span class="st0">"name"</span><span class=""> </span><span class="kw2">type</span><span class="kw1">=</span><span class="st0">"text"</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-control"</span><span class=""> </span><span class="kw2">name</span><span class="kw1">=</span><span class="st0">"name"</span><span class=""> required autofocus</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                            </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class="">                        </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">                        </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-group"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                            </span><span class="kw1">&lt;label</span><span class=""> </span><span class="kw2">for</span><span class="kw1">=</span><span class="st0">"email"</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-4 control-label"</span><span class="kw1">&gt;</span><span class="">E-Mail</span><span class="kw1">&lt;/label&gt;</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">                            </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-6"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">                                </span><span class="kw1">&lt;input</span><span class=""> </span><span class="kw2">id</span><span class="kw1">=</span><span class="st0">"email"</span><span class=""> </span><span class="kw2">type</span><span class="kw1">=</span><span class="st0">"email"</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-control"</span><span class=""> </span><span class="kw2">name</span><span class="kw1">=</span><span class="st0">"email"</span><span class=""> required</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                            </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class="">                        </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">                        </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-group"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                            </span><span class="kw1">&lt;label</span><span class=""> </span><span class="kw2">for</span><span class="kw1">=</span><span class="st0">"password"</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-4 control-label"</span><span class="kw1">&gt;</span><span class="">Mot de passe</span><span class="kw1">&lt;/label&gt;</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">                            </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-6"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">                                </span><span class="kw1">&lt;input</span><span class=""> </span><span class="kw2">id</span><span class="kw1">=</span><span class="st0">"password"</span><span class=""> </span><span class="kw2">type</span><span class="kw1">=</span><span class="st0">"password"</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-control"</span><span class=""> </span><span class="kw2">name</span><span class="kw1">=</span><span class="st0">"password"</span><span class=""> required</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                            </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class="">                        </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">                        </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-group"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                            </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-8 col-md-offset-4"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">                                </span><span class="kw1">&lt;button</span><span class=""> </span><span class="kw2">type</span><span class="kw1">=</span><span class="st0">"submit"</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"btn btn-primary"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                                    Enregistrer</span></li><li class=" even"><span class="">                                </span><span class="kw1">&lt;/button&gt;</span><span class=""></span></li><li class=" odd"><span class="">                            </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class="">                        </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class="">                    </span><span class="kw1">&lt;/form&gt;</span><span class=""></span></li><li class=" even"><span class="">                </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class="">            </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class=""></span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class="">@endsection</span></li></ul><pre style="display: none;">@extends('layouts.app')

@section('content')
&lt;div class="container"&gt;
    &lt;div class="row"&gt;
        &lt;div class="col-md-8 col-md-offset-2"&gt;
            &lt;div class="panel panel-default"&gt;
                &lt;div class="panel-heading"&gt;Créer un utilisateur&lt;/div&gt;

                &lt;div class="panel-body"&gt;
                    &lt;form class="form-horizontal" method="POST" action="{{ route('users.store') }}"&gt;
                        {{ csrf_field() }}

                        &lt;div class="form-group"&gt;
                            &lt;label for="name" class="col-md-4 control-label"&gt;Nom&lt;/label&gt;

                            &lt;div class="col-md-6"&gt;
                                &lt;input id="name" type="text" class="form-control" name="name" required autofocus&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;

                        &lt;div class="form-group"&gt;
                            &lt;label for="email" class="col-md-4 control-label"&gt;E-Mail&lt;/label&gt;

                            &lt;div class="col-md-6"&gt;
                                &lt;input id="email" type="email" class="form-control" name="email" required&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;

                        &lt;div class="form-group"&gt;
                            &lt;label for="password" class="col-md-4 control-label"&gt;Mot de passe&lt;/label&gt;

                            &lt;div class="col-md-6"&gt;
                                &lt;input id="password" type="password" class="form-control" name="password" required&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;

                        &lt;div class="form-group"&gt;
                            &lt;div class="col-md-8 col-md-offset-4"&gt;
                                &lt;button type="submit" class="btn btn-primary"&gt;
                                    Enregistrer
                                &lt;/button&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
@endsection</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Avec cet aspect (en utilisant le template par défaut de Laravel) en utilisant l’url <strong>…/users/create</strong> :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-359/" rel="attachment wp-att-4648"><img data-attachment-id="4648" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-359/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-4.png" data-orig-size="629,288" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-4-300x137.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-4.png" class="size-full wp-image-4648 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-4.png" alt="" width="629" height="288" srcset="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-4.png 629w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-4-300x137.png 300w" sizes="(max-width: 629px) 100vw, 629px"></a></p>
<p>Remarquez dans le formulaire l’utilisation du verbe <strong>POST</strong> et la génération de l’action à partir du nom de la route :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="null" style="display: none;">&lt;form class="form-horizontal" method="POST" action="{{ route('users.store') }}"&gt;</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="sy0">&lt;</span><span class="kw1">for</span><span class="">m </span><span class="kw1">class</span><span class="sy0">=</span><span class="st0">"form-horizontal"</span><span class=""> method</span><span class="sy0">=</span><span class="st0">"POST"</span><span class=""> action</span><span class="sy0">=</span><span class="st0">"{{ route('users.store') }}"</span><span class="sy0">&gt;</span></li></ul><pre style="display: none;">&lt;form class="form-horizontal" method="POST" action="{{ route('users.store') }}"&gt;</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<h3>Modifier un utilisateur</h3>
<p>Pour la modification d’un utilisateur ce sont ces deux méthodes :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">public function edit(User $user)
{
    return view('edit', compact('user'));
}


public function update(Request $request, User $user)
{
    $user-&gt;update($request-&gt;all());

    return "Utilisateur modifié !";
}</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">edit</span><span class="br0">(</span><span class="">User </span><span class="kw3">$user</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">return</span><span class=""> </span><span class="me0">view</span><span class="br0">(</span><span class="st1">'edit'</span><span class="">, </span><span class="me0">compact</span><span class="br0">(</span><span class="st1">'user'</span><span class="br0">)</span><span class="br0">)</span><span class="">;</span></li><li class=" even"><span class=""></span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">update</span><span class="br0">(</span><span class="">Request </span><span class="kw3">$request</span><span class="">, User </span><span class="kw3">$user</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw3">$user</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me0">update</span><span class="br0">(</span><span class="kw3">$request</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me0">all</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="">;</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">return</span><span class=""> </span><span class="st0">"Utilisateur modifié !"</span><span class="">;</span></li><li class=" even"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">public function edit(User $user)
{
    return view('edit', compact('user'));
}


public function update(Request $request, User $user)
{
    $user-&gt;update($request-&gt;all());

    return "Utilisateur modifié !";
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p style="text-align: center;"><em>Pour simplifier je n’ai pas prévu de validation.</em></p>
<p>&nbsp;</p>
<p>Voici la vue <strong>edit</strong> :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="html" style="display: none;">@extends('layouts.app')

@section('content')
&lt;div class="container"&gt;
    &lt;div class="row"&gt;
        &lt;div class="col-md-8 col-md-offset-2"&gt;
            &lt;div class="panel panel-default"&gt;
                &lt;div class="panel-heading"&gt;Modifier un utilisateur&lt;/div&gt;

                &lt;div class="panel-body"&gt;
                    &lt;form class="form-horizontal" method="POST" action="{{ route('users.update', $user-&gt;id) }}"&gt;
                        {{ csrf_field() }}
                        {{ method_field('PUT') }}

                        &lt;div class="form-group"&gt;
                            &lt;label for="name" class="col-md-4 control-label"&gt;Nom&lt;/label&gt;

                            &lt;div class="col-md-6"&gt;
                                &lt;input id="name" type="text" class="form-control" name="name" value="{{ $user-&gt;name }}" required autofocus&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;

                        &lt;div class="form-group"&gt;
                            &lt;label for="email" class="col-md-4 control-label"&gt;E-Mail&lt;/label&gt;

                            &lt;div class="col-md-6"&gt;
                                &lt;input id="email" type="email" class="form-control" name="email" value="{{ $user-&gt;email }}" required&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;

                        &lt;div class="form-group"&gt;
                            &lt;div class="col-md-8 col-md-offset-4"&gt;
                                &lt;button type="submit" class="btn btn-primary"&gt;
                                    Enregistrer
                                &lt;/button&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
@endsection
</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">@extends('layouts.app')</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">@section('content')</span></li><li class=" even"><span class=""></span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"container"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"row"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-8 col-md-offset-2"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">            </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"panel panel-default"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">                </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"panel-heading"</span><span class="kw1">&gt;</span><span class="">Modifier un utilisateur</span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">                </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"panel-body"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                    </span><span class="kw1">&lt;form</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-horizontal"</span><span class=""> </span><span class="kw2">method</span><span class="kw1">=</span><span class="st0">"POST"</span><span class=""> </span><span class="kw2">action</span><span class="kw1">=</span><span class="st0">"{{ route('</span><span class="">users.update', $user-</span><span class="kw1">&gt;</span><span class="">id) }}"&gt;</span></li><li class=" even"><span class="">                        {{ csrf_field() }}</span></li><li class=" odd"><span class="">                        {{ method_field('PUT') }}</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">                        </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-group"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">                            </span><span class="kw1">&lt;label</span><span class=""> </span><span class="kw2">for</span><span class="kw1">=</span><span class="st0">"name"</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-4 control-label"</span><span class="kw1">&gt;</span><span class="">Nom</span><span class="kw1">&lt;/label&gt;</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">                            </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-6"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                                </span><span class="kw1">&lt;input</span><span class=""> </span><span class="kw2">id</span><span class="kw1">=</span><span class="st0">"name"</span><span class=""> </span><span class="kw2">type</span><span class="kw1">=</span><span class="st0">"text"</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-control"</span><span class=""> </span><span class="kw2">name</span><span class="kw1">=</span><span class="st0">"name"</span><span class=""> value="{{ $user-</span><span class="kw1">&gt;</span><span class="">name }}" required autofocus&gt;</span></li><li class=" even"><span class="">                            </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class="">                        </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">                        </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-group"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">                            </span><span class="kw1">&lt;label</span><span class=""> </span><span class="kw2">for</span><span class="kw1">=</span><span class="st0">"email"</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-4 control-label"</span><span class="kw1">&gt;</span><span class="">E-Mail</span><span class="kw1">&lt;/label&gt;</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">                            </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-6"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                                </span><span class="kw1">&lt;input</span><span class=""> </span><span class="kw2">id</span><span class="kw1">=</span><span class="st0">"email"</span><span class=""> </span><span class="kw2">type</span><span class="kw1">=</span><span class="st0">"email"</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-control"</span><span class=""> </span><span class="kw2">name</span><span class="kw1">=</span><span class="st0">"email"</span><span class=""> value="{{ $user-</span><span class="kw1">&gt;</span><span class="">email }}" required&gt;</span></li><li class=" even"><span class="">                            </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class="">                        </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">                        </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-group"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">                            </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-8 col-md-offset-4"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                                </span><span class="kw1">&lt;button</span><span class=""> </span><span class="kw2">type</span><span class="kw1">=</span><span class="st0">"submit"</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"btn btn-primary"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">                                    Enregistrer</span></li><li class=" odd"><span class="">                                </span><span class="kw1">&lt;/button&gt;</span><span class=""></span></li><li class=" even"><span class="">                            </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class="">                        </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class="">                    </span><span class="kw1">&lt;/form&gt;</span><span class=""></span></li><li class=" odd"><span class="">                </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class="">            </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class="">@endsection</span></li></ul><pre style="display: none;">@extends('layouts.app')

@section('content')
&lt;div class="container"&gt;
    &lt;div class="row"&gt;
        &lt;div class="col-md-8 col-md-offset-2"&gt;
            &lt;div class="panel panel-default"&gt;
                &lt;div class="panel-heading"&gt;Modifier un utilisateur&lt;/div&gt;

                &lt;div class="panel-body"&gt;
                    &lt;form class="form-horizontal" method="POST" action="{{ route('users.update', $user-&gt;id) }}"&gt;
                        {{ csrf_field() }}
                        {{ method_field('PUT') }}

                        &lt;div class="form-group"&gt;
                            &lt;label for="name" class="col-md-4 control-label"&gt;Nom&lt;/label&gt;

                            &lt;div class="col-md-6"&gt;
                                &lt;input id="name" type="text" class="form-control" name="name" value="{{ $user-&gt;name }}" required autofocus&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;

                        &lt;div class="form-group"&gt;
                            &lt;label for="email" class="col-md-4 control-label"&gt;E-Mail&lt;/label&gt;

                            &lt;div class="col-md-6"&gt;
                                &lt;input id="email" type="email" class="form-control" name="email" value="{{ $user-&gt;email }}" required&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;

                        &lt;div class="form-group"&gt;
                            &lt;div class="col-md-8 col-md-offset-4"&gt;
                                &lt;button type="submit" class="btn btn-primary"&gt;
                                    Enregistrer
                                &lt;/button&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
@endsection</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p style="text-align: center;"><em>On a du code commun avec la vue pour la création et dans un projet réel il serait judicieux de mutualiser ce code dans un template.</em></p>
<p>Avec cet aspect (en utilisant le template par défaut de Laravel) en utilisant l’url <strong>…/users/1/edit</strong> :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-360/" rel="attachment wp-att-4649"><img data-attachment-id="4649" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-360/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-5.png" data-orig-size="631,240" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-5-300x114.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-5.png" class="size-full wp-image-4649 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-5.png" alt="" width="631" height="240" srcset="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-5.png 631w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-5-300x114.png 300w" sizes="(max-width: 631px) 100vw, 631px"></a></p>
<p>Remarquez dans le formulaire la génération de l’action à partir du nom de la route (avec transmission de l’identifiant de l’utilisateur en paramètre) :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="html" style="display: none;">&lt;form class="form-horizontal" method="POST" action="{{ route('users.update', $user-&gt;id) }}"&gt;</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">&lt;form</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-horizontal"</span><span class=""> </span><span class="kw2">method</span><span class="kw1">=</span><span class="st0">"POST"</span><span class=""> </span><span class="kw2">action</span><span class="kw1">=</span><span class="st0">"{{ route('</span><span class="">users.update', $user-</span><span class="kw1">&gt;</span><span class="">id) }}"&gt;</span></li></ul><pre style="display: none;">&lt;form class="form-horizontal" method="POST" action="{{ route('users.update', $user-&gt;id) }}"&gt;</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>D’autre part, comme on l’a déjà vu dans un précédent chapitre, le navigateur ne sait pas gérer le verbe PUT , donc on lui indique un verbe POST mais on ajoute un champ caché en précisant le bon verbe :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="html" style="display: none;">{{ method_field('PUT') }}</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">{{ method_field('PUT') }}</span></li></ul><pre style="display: none;">{{ method_field('PUT') }}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<h3>Supprimer un utilisateur</h3>
<p>C’est la méthode <strong>destroy</strong> qui est concernée :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">public function destroy(User $user)
{
    $user-&gt;delete();

    return 'Utilisateur supprimé !';
}</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">destroy</span><span class="br0">(</span><span class="">User </span><span class="kw3">$user</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw3">$user</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me0">delete</span><span class="br0">(</span><span class="br0">)</span><span class="">;</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">return</span><span class=""> </span><span class="st1">'Utilisateur supprimé !'</span><span class="">;</span></li><li class=" even"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">public function destroy(User $user)
{
    $user-&gt;delete();

    return 'Utilisateur supprimé !';
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Avec une url du genre <strong>…users/1</strong> et le verbe <strong>DELETE</strong> on supprime l’utilisateur correspondant.</p>
<p>Pour voir ça en action on va ajouter une route :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">Route::get('users/{user}/destroy', 'UserController@destroyForm');</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">Route::</span><span class="me0">get</span><span class="br0">(</span><span class="st1">'users/{user}/destroy'</span><span class="">, </span><span class="st1">'UserController@destroyForm'</span><span class="br0">)</span><span class="">;</span></li></ul><pre style="display: none;">Route::get('users/{user}/destroy', 'UserController@destroyForm');</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Une méthode dans le contrôleur :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">public function destroyForm(User $user)
{
    return view('destroy', compact('user'));
}</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">destroyForm</span><span class="br0">(</span><span class="">User </span><span class="kw3">$user</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">return</span><span class=""> </span><span class="me0">view</span><span class="br0">(</span><span class="st1">'destroy'</span><span class="">, </span><span class="me0">compact</span><span class="br0">(</span><span class="st1">'user'</span><span class="br0">)</span><span class="br0">)</span><span class="">;</span></li><li class=" even"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">public function destroyForm(User $user)
{
    return view('destroy', compact('user'));
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Et cette vue <strong>destroy</strong> :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="html" style="display: none;">@extends('layouts.app')

@section('content')
&lt;div class="container"&gt;
    &lt;div class="row"&gt;
        &lt;div class="col-md-8 col-md-offset-2"&gt;
            &lt;div class="panel panel-default"&gt;
                &lt;div class="panel-heading"&gt;Supprimer un utilisateur&lt;/div&gt;

                &lt;div class="panel-body"&gt;
                    &lt;form class="form-horizontal" method="POST" action="{{ route('users.destroy', $user-&gt;id) }}"&gt;
                        {{ csrf_field() }}
                        {{ method_field('DELETE') }}
                        &lt;div class="form-group"&gt;
                            &lt;div class="col-md-8 col-md-offset-4"&gt;
                                &lt;button type="submit" class="btn btn-primary"&gt;
                                    Supprimer l'utilisateur {{ $user-&gt;name }}
                                &lt;/button&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
@endsection</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">@extends('layouts.app')</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">@section('content')</span></li><li class=" even"><span class=""></span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"container"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"row"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-8 col-md-offset-2"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">            </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"panel panel-default"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">                </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"panel-heading"</span><span class="kw1">&gt;</span><span class="">Supprimer un utilisateur</span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">                </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"panel-body"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                    </span><span class="kw1">&lt;form</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-horizontal"</span><span class=""> </span><span class="kw2">method</span><span class="kw1">=</span><span class="st0">"POST"</span><span class=""> </span><span class="kw2">action</span><span class="kw1">=</span><span class="st0">"{{ route('</span><span class="">users.destroy', $user-</span><span class="kw1">&gt;</span><span class="">id) }}"&gt;</span></li><li class=" even"><span class="">                        {{ csrf_field() }}</span></li><li class=" odd"><span class="">                        {{ method_field('DELETE') }}</span></li><li class=" even"><span class="">                        </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"form-group"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                            </span><span class="kw1">&lt;div</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"col-md-8 col-md-offset-4"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" even"><span class="">                                </span><span class="kw1">&lt;button</span><span class=""> </span><span class="kw2">type</span><span class="kw1">=</span><span class="st0">"submit"</span><span class=""> </span><span class="kw2">class</span><span class="kw1">=</span><span class="st0">"btn btn-primary"</span><span class="kw1">&gt;</span><span class=""></span></li><li class=" odd"><span class="">                                    Supprimer l'utilisateur {{ $user-&gt;name }}</span></li><li class=" even"><span class="">                                </span><span class="kw1">&lt;/button&gt;</span><span class=""></span></li><li class=" odd"><span class="">                            </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class="">                        </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class="">                    </span><span class="kw1">&lt;/form&gt;</span><span class=""></span></li><li class=" even"><span class="">                </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class="">            </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" even"><span class=""></span><span class="kw1">&lt;/div&gt;</span><span class=""></span></li><li class=" odd"><span class="">@endsection</span></li></ul><pre style="display: none;">@extends('layouts.app')

@section('content')
&lt;div class="container"&gt;
    &lt;div class="row"&gt;
        &lt;div class="col-md-8 col-md-offset-2"&gt;
            &lt;div class="panel panel-default"&gt;
                &lt;div class="panel-heading"&gt;Supprimer un utilisateur&lt;/div&gt;

                &lt;div class="panel-body"&gt;
                    &lt;form class="form-horizontal" method="POST" action="{{ route('users.destroy', $user-&gt;id) }}"&gt;
                        {{ csrf_field() }}
                        {{ method_field('DELETE') }}
                        &lt;div class="form-group"&gt;
                            &lt;div class="col-md-8 col-md-offset-4"&gt;
                                &lt;button type="submit" class="btn btn-primary"&gt;
                                    Supprimer l'utilisateur {{ $user-&gt;name }}
                                &lt;/button&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
@endsection</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Avec cet aspect pour une url dans le genre <strong>…users/1/destroy</strong> :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-362/" rel="attachment wp-att-4652"><img data-attachment-id="4652" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-362/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-7.png" data-orig-size="628,138" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-7-300x66.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-7.png" class="size-full wp-image-4652 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-7.png" alt="" width="628" height="138" srcset="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-7.png 628w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-7-300x66.png 300w" sizes="(max-width: 628px) 100vw, 628px"></a></p>
<h1>L’application d’exemple</h1>
<p>Dans l’application d’exemple on utilise évidemment des ressources comme on l’a vu ci-dessus mais pas toujours de façon complète. Par exemple pour les contacts on utilise seulement (<strong>only</strong>) les méthodes <strong>create</strong> et <strong>store</strong> pour le front :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">Route::resource('contacts', 'Front\ContactController', ['only' =&gt; ['create', 'store']]);</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">Route::</span><span class="kw4">resource</span><span class="br0">(</span><span class="st1">'contacts'</span><span class="">, </span><span class="st1">'Front\ContactController'</span><span class="">, </span><span class="br0">[</span><span class="st1">'only'</span><span class=""> </span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> </span><span class="br0">[</span><span class="st1">'create'</span><span class="">, </span><span class="st1">'store'</span><span class="br0">]</span><span class="br0">]</span><span class="br0">)</span><span class="">;</span></li></ul><pre style="display: none;">Route::resource('contacts', 'Front\ContactController', ['only' =&gt; ['create', 'store']]);</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Et les méthodes <strong>index</strong> et <strong>destroy</strong> pour le back :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">Route::resource('contacts', 'ContactController', ['only' =&gt; ['index', 'destroy']]);</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">Route::</span><span class="kw4">resource</span><span class="br0">(</span><span class="st1">'contacts'</span><span class="">, </span><span class="st1">'ContactController'</span><span class="">, </span><span class="br0">[</span><span class="st1">'only'</span><span class=""> </span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> </span><span class="br0">[</span><span class="st1">'index'</span><span class="">, </span><span class="st1">'destroy'</span><span class="br0">]</span><span class="br0">]</span><span class="br0">)</span><span class="">;</span></li></ul><pre style="display: none;">Route::resource('contacts', 'ContactController', ['only' =&gt; ['index', 'destroy']]);</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Pour les commentaires on utilise seulement (<strong>only</strong>) les méthodes <strong>update </strong>et <strong>destroy</strong> pour le front :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">Route::resource('comments', 'Front\CommentController', ['only' =&gt; ['update', 'destroy']]);</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">Route::</span><span class="kw4">resource</span><span class="br0">(</span><span class="st1">'comments'</span><span class="">, </span><span class="st1">'Front\CommentController'</span><span class="">, </span><span class="br0">[</span><span class="st1">'only'</span><span class=""> </span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> </span><span class="br0">[</span><span class="st1">'update'</span><span class="">, </span><span class="st1">'destroy'</span><span class="br0">]</span><span class="br0">]</span><span class="br0">)</span><span class="">;</span></li></ul><pre style="display: none;">Route::resource('comments', 'Front\CommentController', ['only' =&gt; ['update', 'destroy']]);</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Et les méthodes <strong>index</strong> et <strong>destroy</strong> pour le back :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">Route::resource('comments', 'CommentController', ['only' =&gt; ['index', 'destroy']]);</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">Route::</span><span class="kw4">resource</span><span class="br0">(</span><span class="st1">'comments'</span><span class="">, </span><span class="st1">'CommentController'</span><span class="">, </span><span class="br0">[</span><span class="st1">'only'</span><span class=""> </span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> </span><span class="br0">[</span><span class="st1">'index'</span><span class="">, </span><span class="st1">'destroy'</span><span class="br0">]</span><span class="br0">]</span><span class="br0">)</span><span class="">;</span></li></ul><pre style="display: none;">Route::resource('comments', 'CommentController', ['only' =&gt; ['index', 'destroy']]);</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Pour les utilisateur dans le back on utilise seulement (<strong>only</strong>) les méthodes <strong>index</strong>, <strong>edit</strong>, <strong>update</strong> et <strong>destroy</strong> :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">Route::resource('users', 'UserController', ['only' =&gt; ['index', 'edit', 'update', 'destroy']]);</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">Route::</span><span class="kw4">resource</span><span class="br0">(</span><span class="st1">'users'</span><span class="">, </span><span class="st1">'UserController'</span><span class="">, </span><span class="br0">[</span><span class="st1">'only'</span><span class=""> </span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> </span><span class="br0">[</span><span class="st1">'index'</span><span class="">, </span><span class="st1">'edit'</span><span class="">, </span><span class="st1">'update'</span><span class="">, </span><span class="st1">'destroy'</span><span class="br0">]</span><span class="br0">]</span><span class="br0">)</span><span class="">;</span></li></ul><pre style="display: none;">Route::resource('users', 'UserController', ['only' =&gt; ['index', 'edit', 'update', 'destroy']]);</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p style="text-align: center;"><em>On pourrait adopter la logique inverse et utiliser <strong>except</strong> au lieu de <strong>only</strong>.</em></p>
<p>Par contre pour les articles en back la ressource est complète :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">Route::resource('posts', 'PostController');</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">Route::</span><span class="kw4">resource</span><span class="br0">(</span><span class="st1">'posts'</span><span class="">, </span><span class="st1">'PostController'</span><span class="br0">)</span><span class="">;</span></li></ul><pre style="display: none;">Route::resource('posts', 'PostController');</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Classiquement avec la méthode <strong>index</strong> on affiche la liste paginée de la ressource avec des boutons permettant les opérations de modification ou suppression. Par exemple dans l’administration pour les utilisateurs on a :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-363/" rel="attachment wp-att-4656"><img data-attachment-id="4656" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-363/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-8.png" data-orig-size="864,442" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-8-300x153.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-8.png" class="size-full wp-image-4656 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-8.png" alt="" width="864" height="442" srcset="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-8.png 864w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-8-300x153.png 300w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-8-768x393.png 768w" sizes="(max-width: 864px) 100vw, 864px"></a></p>
<p>Pour chaque utilisateur on affiche les données et on a deux boutons à droite pour la modification et la suppression. Le premier est un simple lien du genre <strong>…admin/users/1/edit</strong> alors que le second est traité en Ajax.</p>
<p>Pour les articles on affiche 3 boutons :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-364/" rel="attachment wp-att-4657"><img data-attachment-id="4657" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-364/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-9.png" data-orig-size="859,205" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-9-300x72.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-9.png" class="size-full wp-image-4657 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-9.png" alt="" width="859" height="205" srcset="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-9.png 859w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-9-300x72.png 300w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-9-768x183.png 768w" sizes="(max-width: 859px) 100vw, 859px"></a></p>
<p>On a en plus le bouton (vert) pour visualiser l’article.</p>
<h1>Les API REST</h1>
<p>REST (Representational State Transfer) est un style d’architecture pour constituer des API. Pour Laravel une API REST est :</p>
<ul>
<li>organisée autours de ressources</li>
<li>sans persistance (aucune session)</li>
<li>orientée client-serveur</li>
<li>pouvant être mis en cache (donc une requête doit retourner toujours les mêmes résultats)</li>
<li>retourner du JSON…</li>
</ul>
<p>Si vous n’êtes pas trop sûr de vos connaissances concernant les API REST je vous conseille <a href="https://openclassrooms.com/courses/utilisez-des-api-rest-dans-vos-projets-web" target="_blank" rel="noopener">ce cours</a>.</p>
<p>Pour continuer avec notre ressource d’utilisateurs on peut imaginer ce <strong>endpoint</strong> pour les informations de tous les utilisateurs :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="json" style="display: none;">GET /api/users
[
   {
      id: 1,
      name: 'Rigoberto&nbsp;Balistreri&nbsp;Sr.&nbsp;Noble&nbsp;Fisher&nbsp;Sr.'
   },
   {
      id: 2,
      name: 'Noble&nbsp;Fisher&nbsp;Sr.'
   }
   ...
]</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">GET /api/users</span></li><li class=" even"><span class=""></span><span class="br0">[</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">      id</span><span class="sy0">:</span><span class=""> </span><span class="nu0">1</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">      name</span><span class="sy0">:</span><span class=""> </span><span class="st0">'Rigoberto Balistreri Sr. Noble Fisher Sr.'</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="br0">}</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">   </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">      id</span><span class="sy0">:</span><span class=""> </span><span class="nu0">2</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">      name</span><span class="sy0">:</span><span class=""> </span><span class="st0">'Noble Fisher Sr.'</span><span class=""></span></li><li class=" even"><span class="">   </span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class="">   ...</span></li><li class=" even"><span class=""></span><span class="br0">]</span></li></ul><pre style="display: none;">GET /api/users
[
   {
      id: 1,
      name: 'Rigoberto Balistreri Sr. Noble Fisher Sr.'
   },
   {
      id: 2,
      name: 'Noble Fisher Sr.'
   }
   ...
]</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Ou ce <strong>endpoint</strong> pour les informations concernant un utilisateur :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="null" style="display: none;">GET /api/users/2
{
   id: 2,
   name: 'Noble Fisher Sr.'
}</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw4">GET</span><span class=""> /api/users/</span><span class="nu0">2</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">   id: </span><span class="nu0">2</span><span class="">,</span></li><li class=" even"><span class="">   name: </span><span class="st1">'Noble Fisher Sr.'</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">GET /api/users/2
{
   id: 2,
   name: 'Noble Fisher Sr.'
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>On peut imaginer d’autres endpoints pour modifier, ajouter, supprimer…</p>
<p>Il ne reste plus qu’à voir comment on réalise ça avec Laravel mais vous en avez désormais une idée déjà assez précise avec ce qu’on a déjà vu dans ce chapitre.</p>
<h2>Le contrôleur</h2>
<p>On va créer le contrôleur :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="null" style="display: none;">php artisan make:controller Api/UserController --resource</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">php artisan make:controller Api/UserController </span><span class="sy0">-</span><span class="sy0">-</span><span class="kw4">resource</span></li></ul><pre style="display: none;">php artisan make:controller Api/UserController --resource</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>On le retrouve rangé dans le dossier <strong>app/Http/Controllers/Api</strong> créé par la même occasion :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-365/" rel="attachment wp-att-4659"><img data-attachment-id="4659" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-365/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-10.png" data-orig-size="181,90" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-10.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-10.png" class="size-full wp-image-4659 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-10.png" alt="" width="181" height="90" scale="0"></a></p>
<p>Avec évidemment le même code que celui qu’on a eu pour la même commande ci-dessus (et Laravel se débrouille tout seul pour les espaces de nom) :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">&lt;?php

namespace App\Http\Controllers\Api;

use Illuminate\Http\Request;
use App\Http\Controllers\Controller;

class UserController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function index()
    {
        //
    }

    /**
     * Show the form for creating a new resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function create()
    {
        //
    }

    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\Response
     */
    public function store(Request $request)
    {
        //
    }

    /**
     * Display the specified resource.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function show($id)
    {
        //
    }

    /**
     * Show the form for editing the specified resource.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function edit($id)
    {
        //
    }

    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function update(Request $request, $id)
    {
        //
    }

    /**
     * Remove the specified resource from storage.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function destroy($id)
    {
        //
    }
}
</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="de1">&lt;?php</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">namespace</span><span class=""> App\Http\Controllers\Api;</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">use</span><span class=""> Illuminate\Http\Request;</span></li><li class=" even"><span class=""></span><span class="kw1">use</span><span class=""> App\Http\Controllers\Controller;</span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class=""></span><span class="kw1">class</span><span class=""> UserController </span><span class="kw1">extends</span><span class=""> Controller</span></li><li class=" odd"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="co2">/**</span></li><li class=" odd"><span class="co2">     * Display a listing of the resource.</span></li><li class=" even"><span class="co2">     *</span></li><li class=" odd"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" even"><span class="co2">     */</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">index</span><span class="br0">(</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">    </span><span class="co2">/**</span></li><li class=" odd"><span class="co2">     * Show the form for creating a new resource.</span></li><li class=" even"><span class="co2">     *</span></li><li class=" odd"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" even"><span class="co2">     */</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">create</span><span class="br0">(</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">    </span><span class="co2">/**</span></li><li class=" odd"><span class="co2">     * Store a newly created resource in storage.</span></li><li class=" even"><span class="co2">     *</span></li><li class=" odd"><span class="co2">     * @param  \Illuminate\Http\Request  $request</span></li><li class=" even"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" odd"><span class="co2">     */</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">store</span><span class="br0">(</span><span class="">Request </span><span class="kw3">$request</span><span class="br0">)</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">    </span><span class="co2">/**</span></li><li class=" even"><span class="co2">     * Display the specified resource.</span></li><li class=" odd"><span class="co2">     *</span></li><li class=" even"><span class="co2">     * @param  int  $id</span></li><li class=" odd"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" even"><span class="co2">     */</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">show</span><span class="br0">(</span><span class="kw3">$id</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">    </span><span class="co2">/**</span></li><li class=" odd"><span class="co2">     * Show the form for editing the specified resource.</span></li><li class=" even"><span class="co2">     *</span></li><li class=" odd"><span class="co2">     * @param  int  $id</span></li><li class=" even"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" odd"><span class="co2">     */</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">edit</span><span class="br0">(</span><span class="kw3">$id</span><span class="br0">)</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">    </span><span class="co2">/**</span></li><li class=" even"><span class="co2">     * Update the specified resource in storage.</span></li><li class=" odd"><span class="co2">     *</span></li><li class=" even"><span class="co2">     * @param  \Illuminate\Http\Request  $request</span></li><li class=" odd"><span class="co2">     * @param  int  $id</span></li><li class=" even"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" odd"><span class="co2">     */</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">update</span><span class="br0">(</span><span class="">Request </span><span class="kw3">$request</span><span class="">, </span><span class="kw3">$id</span><span class="br0">)</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">    </span><span class="co2">/**</span></li><li class=" even"><span class="co2">     * Remove the specified resource from storage.</span></li><li class=" odd"><span class="co2">     *</span></li><li class=" even"><span class="co2">     * @param  int  $id</span></li><li class=" odd"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" even"><span class="co2">     */</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">destroy</span><span class="br0">(</span><span class="kw3">$id</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">       </span><span class="co1"> //</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">&lt;?php

namespace App\Http\Controllers\Api;

use Illuminate\Http\Request;
use App\Http\Controllers\Controller;

class UserController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function index()
    {
        //
    }

    /**
     * Show the form for creating a new resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function create()
    {
        //
    }

    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\Response
     */
    public function store(Request $request)
    {
        //
    }

    /**
     * Display the specified resource.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function show($id)
    {
        //
    }

    /**
     * Show the form for editing the specified resource.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function edit($id)
    {
        //
    }

    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function update(Request $request, $id)
    {
        //
    }

    /**
     * Remove the specified resource from storage.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function destroy($id)
    {
        //
    }
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>On va supprimer les méthodes <strong>create</strong> et <strong>edit</strong> qui n’ont pas lieu d’être pour une API.</p>
<p>Et on va coder les autres méthodes :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">&lt;?php

namespace App\Http\Controllers\Api;

use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
use App\User;

class UserController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function index()
    {
        return User::all();
    }

    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\Response
     */
    public function store(Request $request)
    {
        User::create($request-&gt;all());
    }

    /**
     * Display the specified resource.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function show(User $user)
    {
        return $user;
    }

    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function update(Request $request, User $user)
    {
        $user-&gt;update($request-&gt;all());
    }

    /**
     * Remove the specified resource from storage.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function destroy(User $user)
    {
        $user-&gt;delete();
    }
}
</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="de1">&lt;?php</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">namespace</span><span class=""> App\Http\Controllers\Api;</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">use</span><span class=""> Illuminate\Http\Request;</span></li><li class=" even"><span class=""></span><span class="kw1">use</span><span class=""> App\Http\Controllers\Controller;</span></li><li class=" odd"><span class=""></span><span class="kw1">use</span><span class=""> App\User;</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">class</span><span class=""> UserController </span><span class="kw1">extends</span><span class=""> Controller</span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="co2">/**</span></li><li class=" even"><span class="co2">     * Display a listing of the resource.</span></li><li class=" odd"><span class="co2">     *</span></li><li class=" even"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" odd"><span class="co2">     */</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">index</span><span class="br0">(</span><span class="br0">)</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">return</span><span class=""> User::</span><span class="me0">all</span><span class="br0">(</span><span class="br0">)</span><span class="">;</span></li><li class=" odd"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">    </span><span class="co2">/**</span></li><li class=" even"><span class="co2">     * Store a newly created resource in storage.</span></li><li class=" odd"><span class="co2">     *</span></li><li class=" even"><span class="co2">     * @param  \Illuminate\Http\Request  $request</span></li><li class=" odd"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" even"><span class="co2">     */</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">store</span><span class="br0">(</span><span class="">Request </span><span class="kw3">$request</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">        User::</span><span class="me0">create</span><span class="br0">(</span><span class="kw3">$request</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me0">all</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="">;</span></li><li class=" even"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">    </span><span class="co2">/**</span></li><li class=" odd"><span class="co2">     * Display the specified resource.</span></li><li class=" even"><span class="co2">     *</span></li><li class=" odd"><span class="co2">     * @param  int  $id</span></li><li class=" even"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" odd"><span class="co2">     */</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">show</span><span class="br0">(</span><span class="">User </span><span class="kw3">$user</span><span class="br0">)</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">return</span><span class=""> </span><span class="kw3">$user</span><span class="">;</span></li><li class=" odd"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">    </span><span class="co2">/**</span></li><li class=" even"><span class="co2">     * Update the specified resource in storage.</span></li><li class=" odd"><span class="co2">     *</span></li><li class=" even"><span class="co2">     * @param  \Illuminate\Http\Request  $request</span></li><li class=" odd"><span class="co2">     * @param  int  $id</span></li><li class=" even"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" odd"><span class="co2">     */</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">update</span><span class="br0">(</span><span class="">Request </span><span class="kw3">$request</span><span class="">, User </span><span class="kw3">$user</span><span class="br0">)</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw3">$user</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me0">update</span><span class="br0">(</span><span class="kw3">$request</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me0">all</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="">;</span></li><li class=" odd"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">    </span><span class="co2">/**</span></li><li class=" even"><span class="co2">     * Remove the specified resource from storage.</span></li><li class=" odd"><span class="co2">     *</span></li><li class=" even"><span class="co2">     * @param  int  $id</span></li><li class=" odd"><span class="co2">     * @return \Illuminate\Http\Response</span></li><li class=" even"><span class="co2">     */</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">destroy</span><span class="br0">(</span><span class="">User </span><span class="kw3">$user</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="kw3">$user</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me0">delete</span><span class="br0">(</span><span class="br0">)</span><span class="">;</span></li><li class=" even"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">&lt;?php

namespace App\Http\Controllers\Api;

use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
use App\User;

class UserController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function index()
    {
        return User::all();
    }

    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\Response
     */
    public function store(Request $request)
    {
        User::create($request-&gt;all());
    }

    /**
     * Display the specified resource.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function show(User $user)
    {
        return $user;
    }

    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function update(Request $request, User $user)
    {
        $user-&gt;update($request-&gt;all());
    }

    /**
     * Remove the specified resource from storage.
     *
     * @param  int  $id
     * @return \Illuminate\Http\Response
     */
    public function destroy(User $user)
    {
        $user-&gt;delete();
    }
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Evidemment ça ressemble énormément à ce qu’on a fait précédemment et c’est normal puisqu’il s’agit du même genre de traitement sur les mêmes données.</p>
<h2>Les routes</h2>
<p>Pour les routes on adopte aussi une ressource dans le fichier <strong>routes/api.php</strong> :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">Route::namespace('Api')-&gt;group(function() {
    Route::resource('users', 'UserController', ['except' =&gt; ['create', 'edit']]);
});</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">Route::</span><span class="kw1">namespace</span><span class="br0">(</span><span class="st1">'Api'</span><span class="br0">)</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me0">group</span><span class="br0">(</span><span class="kw1">function</span><span class="br0">(</span><span class="br0">)</span><span class=""> </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">    Route::</span><span class="kw4">resource</span><span class="br0">(</span><span class="st1">'users'</span><span class="">, </span><span class="st1">'UserController'</span><span class="">, </span><span class="br0">[</span><span class="st1">'except'</span><span class=""> </span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> </span><span class="br0">[</span><span class="st1">'create'</span><span class="">, </span><span class="st1">'edit'</span><span class="br0">]</span><span class="br0">]</span><span class="br0">)</span><span class="">;</span></li><li class=" odd"><span class=""></span><span class="br0">}</span><span class="br0">)</span><span class="">;</span></li></ul><pre style="display: none;">Route::namespace('Api')-&gt;group(function() {
    Route::resource('users', 'UserController', ['except' =&gt; ['create', 'edit']]);
});</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Ce qui donne ces routes :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-368/" rel="attachment wp-att-4662"><img data-attachment-id="4662" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-368/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-13.png" data-orig-size="1067,84" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-13-300x24.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-13-1024x81.png" class="size-full wp-image-4662 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-13.png" alt="" width="1067" height="84" srcset="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-13.png 1067w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-13-300x24.png 300w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-13-768x60.png 768w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-13-1024x81.png 1024w" sizes="(max-width: 1067px) 100vw, 1067px"></a></p>
<p>Le fait de déclarer ces routes dans le fichier <strong>routes/api.php</strong> a pour effet de leur appliquer le middleware <strong>api</strong> au lieu de <strong>web</strong>. Si vous regardez dans le fichier <strong>app/Http/Kernel.php</strong> vous allez voir la différence que ça génère :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">protected $middlewareGroups = [
    'web' =&gt; [
        \App\Http\Middleware\EncryptCookies::class,
        \Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse::class,
        \Illuminate\Session\Middleware\StartSession::class,
        // \Illuminate\Session\Middleware\AuthenticateSession::class,
        \Illuminate\View\Middleware\ShareErrorsFromSession::class,
        \App\Http\Middleware\VerifyCsrfToken::class,
        \Illuminate\Routing\Middleware\SubstituteBindings::class,
    ],

    'api' =&gt; [
        'throttle:60,1',
        'bindings',
    ],
];</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">protected</span><span class=""> </span><span class="kw3">$middlewareGroups</span><span class=""> </span><span class="sy0">=</span><span class=""> </span><span class="br0">[</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="st1">'web'</span><span class=""> </span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> </span><span class="br0">[</span><span class=""></span></li><li class=" odd"><span class="">        \App\Http\Middleware\EncryptCookies::</span><span class="kw1">class</span><span class="">,</span></li><li class=" even"><span class="">        \Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse::</span><span class="kw1">class</span><span class="">,</span></li><li class=" odd"><span class="">        \Illuminate\Session\Middleware\StartSession::</span><span class="kw1">class</span><span class="">,</span></li><li class=" even"><span class="">       </span><span class="co1"> // \Illuminate\Session\Middleware\AuthenticateSession::class,</span><span class=""></span></li><li class=" odd"><span class="">        \Illuminate\View\Middleware\ShareErrorsFromSession::</span><span class="kw1">class</span><span class="">,</span></li><li class=" even"><span class="">        \App\Http\Middleware\Ver</span><span class="kw1">if</span><span class="">yCsrfToken::</span><span class="kw1">class</span><span class="">,</span></li><li class=" odd"><span class="">        \Illuminate\Routing\Middleware\SubstituteBindings::</span><span class="kw1">class</span><span class="">,</span></li><li class=" even"><span class="">    </span><span class="br0">]</span><span class="">,</span></li><li class=" odd"><span class=""></span></li><li class=" even"><span class="">    </span><span class="st1">'api'</span><span class=""> </span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> </span><span class="br0">[</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st1">'throttle:60,1'</span><span class="">,</span></li><li class=" even"><span class="">        </span><span class="st1">'bindings'</span><span class="">,</span></li><li class=" odd"><span class="">    </span><span class="br0">]</span><span class="">,</span></li><li class=" even"><span class=""></span><span class="br0">]</span><span class="">;</span></li></ul><pre style="display: none;">protected $middlewareGroups = [
    'web' =&gt; [
        \App\Http\Middleware\EncryptCookies::class,
        \Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse::class,
        \Illuminate\Session\Middleware\StartSession::class,
        // \Illuminate\Session\Middleware\AuthenticateSession::class,
        \Illuminate\View\Middleware\ShareErrorsFromSession::class,
        \App\Http\Middleware\VerifyCsrfToken::class,
        \Illuminate\Routing\Middleware\SubstituteBindings::class,
    ],

    'api' =&gt; [
        'throttle:60,1',
        'bindings',
    ],
];</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Comme on est sans état plus de cookie, de session, de protection CSRF…</p>
<h2>Le fonctionnement</h2>
<p>Maintenant avec l’url <strong>…api/users</strong> on obtient une réponse JSON (Laravel convertit automatiquement la réponse en JSON sans qu’on lui demande) :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-369/" rel="attachment wp-att-4663"><img data-attachment-id="4663" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-369/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-14.png" data-orig-size="747,305" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-14-300x122.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-14.png" class="size-full wp-image-4663 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-14.png" alt="" width="747" height="305" srcset="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-14.png 747w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-14-300x122.png 300w" sizes="(max-width: 747px) 100vw, 747px"></a></p>
<p>On obtient toute sles colonnes non cachées, c’est à dire celles qui ne sont pas définies dans la propriété<strong> $hidden</strong> du modèle :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">protected $hidden = [
    'password', 'remember_token',
];</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">protected</span><span class=""> </span><span class="kw3">$hidden</span><span class=""> </span><span class="sy0">=</span><span class=""> </span><span class="br0">[</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="st1">'password'</span><span class="">, </span><span class="st1">'remember_token'</span><span class="">,</span></li><li class=" odd"><span class=""></span><span class="br0">]</span><span class="">;</span></li></ul><pre style="display: none;">protected $hidden = [
    'password', 'remember_token',
];</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Avec l’url <strong>…/api/users/2</strong> on obtient :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-370/" rel="attachment wp-att-4664"><img data-attachment-id="4664" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-370/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-15.png" data-orig-size="680,135" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-15-300x60.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-15.png" class="size-full wp-image-4664 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-15.png" alt="" width="680" height="135" srcset="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-15.png 680w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-15-300x60.png 300w" sizes="(max-width: 680px) 100vw, 680px"></a></p>
<p>On pourrait aussi imaginer utiliser une pagination pour cette API. Il suffit de changer la méthode <strong>index</strong> :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">public function index()
{
    return User::paginate(4);
}</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">index</span><span class="br0">(</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">return</span><span class=""> User::</span><span class="me0">paginate</span><span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span><span class="">;</span></li><li class=" even"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">public function index()
{
    return User::paginate(4);
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>On peut alors demander la page qu’on veut, par exemple la seconde avec l’url <strong>…api/users?page=2</strong> :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-371/" rel="attachment wp-att-4665"><img data-attachment-id="4665" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-371/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-16.png" data-orig-size="756,312" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-16-300x124.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-16.png" class="size-full wp-image-4665 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-16.png" alt="" width="756" height="312" srcset="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-16.png 756w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-16-300x124.png 300w" sizes="(max-width: 756px) 100vw, 756px"></a></p>
<p>On ne reçoit que les informations de la page 2 et en plus des renseignements concernant la pagination.</p>
<p>On peut imaginer aussi filtrer, ordonner…</p>
<p style="text-align: center;"><em>Je ne traite pas dans ce chapitre de l’authentification spécifique aux API. Je vous invite à regarder <a href="https://laravel.com/docs/5.5/passport" target="_blank" rel="noopener">la documentation de Passport</a> sur le sujet.</em></p>
<h1>Les ressources d’API</h1>
<p>On a vu ci-dessus comme il est facile de retrouner une réponse JSON à partir des données d’un modèle. C’est parfait tant qu’on veut une simple sérialisation des valeurs des colonnes. Mais parfois on veut effectuer quelques traitements intermédiaires (ça correspond au design pattern transformer). Imaginons que nous voulons retourner seulement des deux premières lettres des noms, c’est une idée bizarre mais pourquoi pas ?</p>
<p>On utilise Artisan pour créer la ressource :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="null" style="display: none;">php artisan make:resource User</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="">php artisan make:</span><span class="kw4">resource</span><span class=""> User</span></li></ul><pre style="display: none;">php artisan make:resource User</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>On se retrouve avec la ressource ici :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-372/" rel="attachment wp-att-4666"><img data-attachment-id="4666" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-372/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-17.png" data-orig-size="132,131" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-17.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-17.png" class="size-full wp-image-4666 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-17.png" alt="" width="132" height="131" scale="0"></a></p>
<p>Avec ce code :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">&lt;?php

namespace App\Http\Resources;

use Illuminate\Http\Resources\Json\Resource;

class User extends Resource
{
    /**
     * Transform the resource into an array.
     *
     * @param  \Illuminate\Http\Request
     * @return array
     */
    public function toArray($request)
    {
        return parent::toArray($request);
    }
}</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="de1">&lt;?php</span><span class=""></span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">namespace</span><span class=""> App\Http\Resources;</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">use</span><span class=""> Illuminate\Http\Resources\Json\</span><span class="kw4">Resource</span><span class="">;</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">class</span><span class=""> User </span><span class="kw1">extends</span><span class=""> </span><span class="kw4">Resource</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="co2">/**</span></li><li class=" even"><span class="co2">     * Transform the resource into an array.</span></li><li class=" odd"><span class="co2">     *</span></li><li class=" even"><span class="co2">     * @param  \Illuminate\Http\Request</span></li><li class=" odd"><span class="co2">     * @return array</span></li><li class=" even"><span class="co2">     */</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">toArray</span><span class="br0">(</span><span class="kw3">$request</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="kw1">return</span><span class=""> </span><span class="kw4">parent</span><span class="">::</span><span class="me0">toArray</span><span class="br0">(</span><span class="kw3">$request</span><span class="br0">)</span><span class="">;</span></li><li class=" even"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">&lt;?php

namespace App\Http\Resources;

use Illuminate\Http\Resources\Json\Resource;

class User extends Resource
{
    /**
     * Transform the resource into an array.
     *
     * @param  \Illuminate\Http\Request
     * @return array
     */
    public function toArray($request)
    {
        return parent::toArray($request);
    }
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Là on se contente de tout sérialiser, ça ne va donc pas changer grand chose à ce qu’on avait précédemment. Dans le contrôleur on utilise la ressource, par exemple pour la méthode <strong>show</strong> :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">use App\Http\Resources\User as UserResource;

...

public function show(User $user)
{
    return new UserResource($user);
}</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">use</span><span class=""> App\Http\Resources\User </span><span class="kw1">as</span><span class=""> UserResource;</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class="">...</span></li><li class=" even"><span class=""></span></li><li class=" odd"><span class=""></span><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">show</span><span class="br0">(</span><span class="">User </span><span class="kw3">$user</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">return</span><span class=""> </span><span class="kw1">new</span><span class=""> </span><span class="me0">UserResource</span><span class="br0">(</span><span class="kw3">$user</span><span class="br0">)</span><span class="">;</span></li><li class=" even"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">use App\Http\Resources\User as UserResource;

...

public function show(User $user)
{
    return new UserResource($user);
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Maintenant pour l’url <strong>…/api/users/2</strong> on obtient :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-373/" rel="attachment wp-att-4667"><img data-attachment-id="4667" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-373/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-18.png" data-orig-size="731,74" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-18-300x30.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-18.png" class="size-full wp-image-4667 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-18.png" alt="" width="731" height="74" srcset="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-18.png 731w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-18-300x30.png 300w" sizes="(max-width: 731px) 100vw, 731px"></a></p>
<p>Maintenant changeons la ressource :</p>
<pre class="EnlighterJSRAW" data-enlighter-language="php" style="display: none;">public function toArray($request)
{
    return [
        'id' =&gt; $this-&gt;id,
        'name' =&gt; substr($this-&gt;name, 0, 2),
        'email' =&gt; $this-&gt;email,
        'created_at' =&gt; $this-&gt;created_at,
        'updated_at' =&gt; $this-&gt;updated_at,
    ];
}</pre><div class="EnlighterJSWrapper godzillaEnlighterJSWrapper"><ul class="hoverEnabled godzillaEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">public</span><span class=""> </span><span class="kw1">function</span><span class=""> </span><span class="me0">toArray</span><span class="br0">(</span><span class="kw3">$request</span><span class="br0">)</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">return</span><span class=""> </span><span class="br0">[</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st1">'id'</span><span class=""> </span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> </span><span class="kw4">$this</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me1">id</span><span class="">,</span></li><li class=" odd"><span class="">        </span><span class="st1">'name'</span><span class=""> </span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> </span><span class="me0">substr</span><span class="br0">(</span><span class="kw4">$this</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me1">name</span><span class="">, </span><span class="nu0">0</span><span class="">, </span><span class="nu0">2</span><span class="br0">)</span><span class="">,</span></li><li class=" even"><span class="">        </span><span class="st1">'email'</span><span class=""> </span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> </span><span class="kw4">$this</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me1">email</span><span class="">,</span></li><li class=" odd"><span class="">        </span><span class="st1">'created_at'</span><span class=""> </span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> </span><span class="kw4">$this</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me1">created_at</span><span class="">,</span></li><li class=" even"><span class="">        </span><span class="st1">'updated_at'</span><span class=""> </span><span class="sy0">=</span><span class="sy0">&gt;</span><span class=""> </span><span class="kw4">$this</span><span class="sy0">-</span><span class="sy0">&gt;</span><span class="me1">updated_at</span><span class="">,</span></li><li class=" odd"><span class="">    </span><span class="br0">]</span><span class="">;</span></li><li class=" even"><span class=""></span><span class="br0">}</span></li></ul><pre style="display: none;">public function toArray($request)
{
    return [
        'id' =&gt; $this-&gt;id,
        'name' =&gt; substr($this-&gt;name, 0, 2),
        'email' =&gt; $this-&gt;email,
        'created_at' =&gt; $this-&gt;created_at,
        'updated_at' =&gt; $this-&gt;updated_at,
    ];
}</pre><div class="EnlighterJSToolbar"><a class="EnlighterJSInfoButton" title="EnlighterJS Syntax Highlighter"></a><a class="EnlighterJSRawButton" title="Toggle RAW Code"></a><a class="EnlighterJSWindowButton" title="Open Code in new Window"></a><span class="clear"></span></div></div>
<p>Maintenant pour l’url <strong>…/api/users/2</strong> on obtient :</p>
<p><a href="http://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-374/" rel="attachment wp-att-4668"><img data-attachment-id="4668" data-permalink="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/capture-374/" data-orig-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-19.png" data-orig-size="593,151" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Capture" data-image-description="" data-medium-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-19-300x76.png" data-large-file="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-19.png" class="size-full wp-image-4668 aligncenter" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/Capture-19.png" alt="" width="593" height="151" srcset="https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-19.png 593w, https://laravel.sillo.org/wp-content/uploads/2017/10/Capture-19-300x76.png 300w" sizes="(max-width: 593px) 100vw, 593px"></a></p>
<p>On voit qu’on n’a plus que les deux premiers caractères du nom. On a bien effectué un traitement intermédiaire sur les valeurs retournées.</p>
<p>Il y aurait encore beaucoup à dire sur les ressources et les API mais vous avez maintenant une bonne base de départ.</p>
<h1>En résumé</h1>
<ul>
<li>Un contrôleur de ressource permet de normaliser les opérations CRUD. Sa création et son routage sont très simples.</li>
<li>Laravel permet de créer facilement une API et de permettre des transformations avec des ressources.</li>
</ul>
<div class="printfriendly pf-alignleft"><a href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/#" rel="nofollow" onclick="window.print(); return false;" class="noslimstat" title="Printer Friendly, PDF &amp; Email"><img style="border:none;-webkit-box-shadow:none; box-shadow:none;" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/printfriendly-pdf-button.png" alt="Print Friendly, PDF &amp; Email" scale="0"></a></div></div><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing"><h3 class="sd-title">Partager&nbsp;:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow noopener noreferrer" data-shared="sharing-twitter-4637" class="share-twitter sd-button share-icon no-text" href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/?share=twitter&amp;nb=1" target="_blank" title="Cliquez pour partager sur Twitter"><span></span><span class="sharing-screen-reader-text">Cliquez pour partager sur Twitter(ouvre dans une nouvelle fenêtre)</span></a></li><li class="share-facebook"><a rel="nofollow noopener noreferrer" data-shared="sharing-facebook-4637" class="share-facebook sd-button share-icon no-text" href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/?share=facebook&amp;nb=1" target="_blank" title="Cliquez pour partager sur Facebook"><span></span><span class="sharing-screen-reader-text">Cliquez pour partager sur Facebook(ouvre dans une nouvelle fenêtre)</span></a></li><li class="share-linkedin"><a rel="nofollow noopener noreferrer" data-shared="sharing-linkedin-4637" class="share-linkedin sd-button share-icon no-text" href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/?share=linkedin&amp;nb=1" target="_blank" title="Cliquez pour partager sur LinkedIn"><span></span><span class="sharing-screen-reader-text">Cliquez pour partager sur LinkedIn(ouvre dans une nouvelle fenêtre)</span></a></li><li class="share-end"></li></ul></div></div></div>			</div><!-- .entry-content -->

	<footer class="entry-footer">
			</footer><!-- .entry-footer -->
</article><!-- #post-## -->
<div class="svg-container single-post-svg single-svg-bottom svg-block">
	
		<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1920 150">
		  <g transform="translate(0,-902.36218)"></g>
		  <path d="m 898.41609,-33.21176 0.01,0 -0.005,-0.009 -0.005,0.009 z"></path>
		  <path d="m 898.41609,-33.21176 0.01,0 -0.005,-0.009 -0.005,0.009 z"></path>
		  <path d="M 0,150 0,0 1925,0"></path>
		</svg>
	</div>

			
	<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Navigation de l’article</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-la-pagination/" rel="prev">Cours Laravel 5.5 – les données – la pagination</a></div><div class="nav-next"><a href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-assistants/" rel="next">Cours Laravel 5.5 – les données – les assistants</a></div></div>
	</nav>
			
<div id="comments" class="comments-area">
			<h2 class="comments-title">2 commentaires sur “<span>Cours Laravel 5.5 – les données – les ressources</span>”</h2>
		
		<ol class="comment-list">
					<li id="comment-1707" class="comment byuser comment-author-jay even thread-even depth-1 parent">
			<article id="div-comment-1707" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt="" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/88e4a628937f7d7e6794975f5ca0bbd0" srcset="https://secure.gravatar.com/avatar/88e4a628937f7d7e6794975f5ca0bbd0?s=120&amp;d=monsterid&amp;r=g 2x" class="avatar avatar-60 photo grav-hashed grav-hijack" height="60" width="60" id="grav-88e4a628937f7d7e6794975f5ca0bbd0-0" originals="60" src-orig="https://secure.gravatar.com/avatar/88e4a628937f7d7e6794975f5ca0bbd0?s=60&amp;d=monsterid&amp;r=g" scale="1.25">						<b class="fn">Jay</b> <span class="says">dit&nbsp;:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/#comment-1707">
							<time datetime="2017-11-07T10:29:17+02:00">
								7 novembre 2017 à 10:29  							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Salut , je te laisse un commentaire sur ce fil concernant le chapitre LES ASSISTANT sur lequel je ne peux pas y acceder !!<br>
je pense ya un probleme de droit. peux tu corrigé cela ? merci</p>
<p>merci encore pour ton boulot !!</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://laravel.sillo.org/wp-login.php?redirect_to=https%3A%2F%2Flaravel.sillo.org%2Fcours-laravel-5-5-les-donnees-les-ressources%2F">Connectez-vous pour répondre</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-1708" class="comment byuser comment-author-lara bypostauthor odd alt depth-2">
			<article id="div-comment-1708" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt="" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/bf4114e6d1c5e38f94510399d16cf5e9.png" srcset="https://secure.gravatar.com/avatar/bf4114e6d1c5e38f94510399d16cf5e9?s=120&amp;d=monsterid&amp;r=g 2x" class="avatar avatar-60 photo grav-hashed grav-hijack" height="60" width="60" id="grav-bf4114e6d1c5e38f94510399d16cf5e9-0" originals="60" src-orig="https://secure.gravatar.com/avatar/bf4114e6d1c5e38f94510399d16cf5e9?s=60&amp;d=monsterid&amp;r=g" scale="1.25">						<b class="fn">bestmomo</b> <span class="says">dit&nbsp;:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/#comment-1708">
							<time datetime="2017-11-07T13:03:45+02:00">
								7 novembre 2017 à 1:03  							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Salut,</p>
<p>Oui je n’avais pas mis le bon lien, c’est réparé, merci <img draggable="false" class="emoji" alt="😉" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/1f609.svg" scale="0"></p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://laravel.sillo.org/wp-login.php?redirect_to=https%3A%2F%2Flaravel.sillo.org%2Fcours-laravel-5-5-les-donnees-les-ressources%2F">Connectez-vous pour répondre</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		
	
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Laisser un commentaire <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/#respond" style="display:none;">Annuler la réponse</a></small></h3><p class="must-log-in">Vous devez <a href="https://laravel.sillo.org/wp-login.php?redirect_to=https%3A%2F%2Flaravel.sillo.org%2Fcours-laravel-5-5-les-donnees-les-ressources%2F">être connecté</a> pour publier un commentaire.</p>	</div><!-- #respond -->
	
</div><!-- #comments -->

		
		</main><!-- #main -->
			</div><!-- #primary -->


<div id="secondary" class="widget-area" role="complementary">



	<nav id="site-navigation" class="main-navigation" role="navigation">
		<div class="menu-general-container"><ul id="primary-menu" class="menu"><li id="menu-item-228" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-has-children menu-item-228"><a href="http://laravel.sillo.org/">Accueil</a>
<ul class="sub-menu">
	<li id="menu-item-227" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-227"><a href="https://laravel.sillo.org/category/actus/">Actualités</a></li>
	<li id="menu-item-6037" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-6037"><a href="https://laravel.sillo.org/politique-de-confidentialite/">Politique de confidentialité</a></li>
</ul>
</li>
<li id="menu-item-2176" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2176"><a href="https://laravel.sillo.org/laravel-5/">Laravel 5</a>
<ul class="sub-menu">
	<li id="menu-item-488" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-488"><a href="https://laravel.sillo.org/laravel-4/">Laravel 4</a></li>
</ul>
</li>
<li id="menu-item-5419" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-5419"><a href="https://laravel.sillo.org/front-end/">Front-end</a>
<ul class="sub-menu">
	<li id="menu-item-5638" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5638"><a href="https://laravel.sillo.org/bootstrap-4/">Bootstrap 4</a></li>
	<li id="menu-item-3020" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3020"><a href="https://laravel.sillo.org/vue-js/">Vue.js</a></li>
	<li id="menu-item-5426" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5426"><a href="https://laravel.sillo.org/es6/">ES6</a></li>
	<li id="menu-item-3706" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3706"><a href="https://laravel.sillo.org/category/css3/">CSS3</a></li>
</ul>
</li>
<li id="menu-item-3877" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3877"><a href="https://laravel.sillo.org/les-cms/">Les CMS et outils</a></li>
</ul></div>	</nav><!-- #site-navigation -->
	<nav class="sidebar-nav"><div class="slicknav_menu"><a href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/#" aria-haspopup="true" tabindex="0" class="slicknav_btn slicknav_collapsed"><span class="slicknav_menutxt"></span><span class="slicknav_icon slicknav_no-text"><span class="slicknav_icon-bar"></span><span class="slicknav_icon-bar"></span><span class="slicknav_icon-bar"></span></span></a><ul class="slicknav_nav slicknav_hidden" aria-hidden="true" role="menu" style="display: none;"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-has-children menu-item-228 slicknav_collapsed slicknav_parent"><a href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/#" role="menuitem" aria-haspopup="true" tabindex="-1" class="slicknav_item slicknav_row"><a href="http://laravel.sillo.org/" tabindex="-1">Accueil</a>
<span class="slicknav_arrow">+</span></a><ul class="sub-menu slicknav_hidden" role="menu" aria-hidden="true" style="display: none;">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-227"><a href="https://laravel.sillo.org/category/actus/" role="menuitem" tabindex="-1">Actualités</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-6037"><a href="https://laravel.sillo.org/politique-de-confidentialite/" role="menuitem" tabindex="-1">Politique de confidentialité</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2176 slicknav_collapsed slicknav_parent"><a href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/#" role="menuitem" aria-haspopup="true" tabindex="-1" class="slicknav_item slicknav_row"><a href="https://laravel.sillo.org/laravel-5/" tabindex="-1">Laravel 5</a>
<span class="slicknav_arrow">+</span></a><ul class="sub-menu slicknav_hidden" role="menu" aria-hidden="true" style="display: none;">
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-488"><a href="https://laravel.sillo.org/laravel-4/" role="menuitem" tabindex="-1">Laravel 4</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-5419 slicknav_collapsed slicknav_parent"><a href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-les-ressources/#" role="menuitem" aria-haspopup="true" tabindex="-1" class="slicknav_item slicknav_row"><a href="https://laravel.sillo.org/front-end/" tabindex="-1">Front-end</a>
<span class="slicknav_arrow">+</span></a><ul class="sub-menu slicknav_hidden" role="menu" aria-hidden="true" style="display: none;">
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5638"><a href="https://laravel.sillo.org/bootstrap-4/" role="menuitem" tabindex="-1">Bootstrap 4</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3020"><a href="https://laravel.sillo.org/vue-js/" role="menuitem" tabindex="-1">Vue.js</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5426"><a href="https://laravel.sillo.org/es6/" role="menuitem" tabindex="-1">ES6</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3706"><a href="https://laravel.sillo.org/category/css3/" role="menuitem" tabindex="-1">CSS3</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3877"><a href="https://laravel.sillo.org/les-cms/" role="menuitem" tabindex="-1">Les CMS et outils</a></li>
</ul></div></nav>



			<aside id="search-3" class="widget widget_search"><h3 class="widget-title">Recherche</h3><form role="search" method="get" class="search-form" action="https://laravel.sillo.org/">
				<label>
					<span class="screen-reader-text">Rechercher&nbsp;:</span>
					<input type="search" class="search-field" placeholder="Recherche…" value="" name="s">
				</label>
				<input type="submit" class="search-submit" value="Rechercher">
			</form></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h3 class="widget-title">Articles récents</h3>		<ul>
											<li>
					<a href="https://laravel.sillo.org/un-site-dannonces-linterface-utilisateur/">Un site d’annonces – l’interface utilisateur</a>
									</li>
											<li>
					<a href="https://laravel.sillo.org/un-site-dannonces-ladministration-2-2/">Un site d’annonces – l’administration (2/2)</a>
									</li>
											<li>
					<a href="https://laravel.sillo.org/un-site-dannonces-administration-1/">Un site d’annonces – l’administration (1/2)</a>
									</li>
											<li>
					<a href="https://laravel.sillo.org/un-site-dannonces-creer-une-annonce/">Un site d’annonces – créer une annonce</a>
									</li>
											<li>
					<a href="https://laravel.sillo.org/un-site-dannonces-annonce-et-message/">Un site d’annonces – annonce et message</a>
									</li>
					</ul>
		</aside><aside id="recent-comments-2" class="widget widget_recent_comments"><h3 class="widget-title">Commentaires récents</h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">amedee226</span> dans <a href="https://laravel.sillo.org/un-site-dannonces-les-donnees/#comment-2220">Un site d’annonces – les données</a></li><li class="recentcomments"><span class="comment-author-link">lamine</span> dans <a href="https://laravel.sillo.org/un-site-dannonces-administration-1/#comment-2219">Un site d’annonces – l’administration (1/2)</a></li><li class="recentcomments"><span class="comment-author-link">toof06</span> dans <a href="https://laravel.sillo.org/cours-laravel-5-5-les-donnees-migrations-et-modeles/#comment-2218">Cours Laravel 5.5 – les données – migrations et modèles</a></li><li class="recentcomments"><span class="comment-author-link">lamine</span> dans <a href="https://laravel.sillo.org/un-site-dannonces-creer-une-annonce/#comment-2217">Un site d’annonces – créer une annonce</a></li><li class="recentcomments"><span class="comment-author-link">sow3b</span> dans <a href="https://laravel.sillo.org/laravel-5-7-par-la-pratique-les-images/#comment-2216">Laravel 5.7 par la pratique – Les images</a></li></ul></aside><aside id="archives-2" class="widget widget_archive"><h3 class="widget-title">Archives</h3>		<label class="screen-reader-text" for="archives-dropdown-2">Archives</label>
		<select id="archives-dropdown-2" name="archive-dropdown">
			
			<option value="">Sélectionner un mois</option>
				<option value="https://laravel.sillo.org/2019/04/"> avril 2019 </option>
	<option value="https://laravel.sillo.org/2019/02/"> février 2019 </option>
	<option value="https://laravel.sillo.org/2019/01/"> janvier 2019 </option>
	<option value="https://laravel.sillo.org/2018/12/"> décembre 2018 </option>
	<option value="https://laravel.sillo.org/2018/11/"> novembre 2018 </option>
	<option value="https://laravel.sillo.org/2018/10/"> octobre 2018 </option>
	<option value="https://laravel.sillo.org/2018/09/"> septembre 2018 </option>
	<option value="https://laravel.sillo.org/2018/04/"> avril 2018 </option>
	<option value="https://laravel.sillo.org/2018/01/"> janvier 2018 </option>
	<option value="https://laravel.sillo.org/2017/12/"> décembre 2017 </option>
	<option value="https://laravel.sillo.org/2017/11/"> novembre 2017 </option>
	<option value="https://laravel.sillo.org/2017/10/"> octobre 2017 </option>
	<option value="https://laravel.sillo.org/2017/09/"> septembre 2017 </option>
	<option value="https://laravel.sillo.org/2017/07/"> juillet 2017 </option>
	<option value="https://laravel.sillo.org/2017/05/"> mai 2017 </option>
	<option value="https://laravel.sillo.org/2017/02/"> février 2017 </option>
	<option value="https://laravel.sillo.org/2017/01/"> janvier 2017 </option>
	<option value="https://laravel.sillo.org/2016/12/"> décembre 2016 </option>
	<option value="https://laravel.sillo.org/2016/11/"> novembre 2016 </option>
	<option value="https://laravel.sillo.org/2016/10/"> octobre 2016 </option>
	<option value="https://laravel.sillo.org/2016/08/"> août 2016 </option>
	<option value="https://laravel.sillo.org/2016/07/"> juillet 2016 </option>
	<option value="https://laravel.sillo.org/2016/05/"> mai 2016 </option>
	<option value="https://laravel.sillo.org/2016/03/"> mars 2016 </option>
	<option value="https://laravel.sillo.org/2016/02/"> février 2016 </option>
	<option value="https://laravel.sillo.org/2016/01/"> janvier 2016 </option>
	<option value="https://laravel.sillo.org/2015/11/"> novembre 2015 </option>
	<option value="https://laravel.sillo.org/2015/10/"> octobre 2015 </option>
	<option value="https://laravel.sillo.org/2015/09/"> septembre 2015 </option>
	<option value="https://laravel.sillo.org/2015/06/"> juin 2015 </option>
	<option value="https://laravel.sillo.org/2015/05/"> mai 2015 </option>
	<option value="https://laravel.sillo.org/2015/04/"> avril 2015 </option>
	<option value="https://laravel.sillo.org/2015/03/"> mars 2015 </option>
	<option value="https://laravel.sillo.org/2014/12/"> décembre 2014 </option>
	<option value="https://laravel.sillo.org/2014/09/"> septembre 2014 </option>
	<option value="https://laravel.sillo.org/2014/06/"> juin 2014 </option>
	<option value="https://laravel.sillo.org/2014/05/"> mai 2014 </option>
	<option value="https://laravel.sillo.org/2014/04/"> avril 2014 </option>
	<option value="https://laravel.sillo.org/2014/03/"> mars 2014 </option>
	<option value="https://laravel.sillo.org/2014/02/"> février 2014 </option>
	<option value="https://laravel.sillo.org/2014/01/"> janvier 2014 </option>
	<option value="https://laravel.sillo.org/2013/12/"> décembre 2013 </option>
	<option value="https://laravel.sillo.org/2013/11/"> novembre 2013 </option>
	<option value="https://laravel.sillo.org/2013/05/"> mai 2013 </option>
	<option value="https://laravel.sillo.org/2013/04/"> avril 2013 </option>
	<option value="https://laravel.sillo.org/2013/03/"> mars 2013 </option>
	<option value="https://laravel.sillo.org/2013/02/"> février 2013 </option>
	<option value="https://laravel.sillo.org/2013/01/"> janvier 2013 </option>
	<option value="https://laravel.sillo.org/2012/12/"> décembre 2012 </option>

		</select>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dropdown = document.getElementById( "archives-dropdown-2" );
	function onSelectChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value !== '' ) {
			document.location.href = this.options[ this.selectedIndex ].value;
		}
	}
	dropdown.onchange = onSelectChange;
})();
/* ]]> */
</script>

		</aside><aside id="meta-12" class="widget widget_meta"><h3 class="widget-title">Méta</h3>			<ul>
			<li><a href="https://laravel.sillo.org/wp-login.php?action=register">Inscription</a></li>			<li><a href="https://laravel.sillo.org/wp-login.php">Connexion</a></li>
			<li><a href="https://laravel.sillo.org/feed/">Flux <abbr title="Really Simple Syndication">RSS</abbr> des articles</a></li>
			<li><a href="https://laravel.sillo.org/comments/feed/"><abbr title="Really Simple Syndication">RSS</abbr> des commentaires</a></li>
			<li><a href="https://fr.wordpress.org/" title="Propulsé par WordPress, plate-forme de publication personnelle sémantique de pointe.">Site de WordPress-FR</a></li>			</ul>
			</aside><aside id="text-3" class="widget widget_text"><h3 class="widget-title">Mes autres sites</h3>			<div class="textwidget"><p><a href="http://codaholic.sillo.org/" target="_blank" rel="noopener noreferrer">Codaholic<br>
</a><a href="http://blender.sillo.org/" target="_blank" rel="noopener noreferrer">Blender</a></p>
</div>
		</aside>	
</div><!-- #secondary -->

		</div>
	</div><!-- #content -->

	<div class="svg-container footer-svg svg-block">
		<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1890 150">
			<g transform="translate(0,-902.36218)"></g>
			  <path d="m 898.41609,-33.21176 0.01,0 -0.005,-0.009 -0.005,0.009 z"></path>
			  <path d="m 898.41609,-33.21176 0.01,0 -0.005,-0.009 -0.005,0.009 z"></path>
			  <path d="m 1925,0 0,150 -1925,0"></path>
		</svg>
	</div>	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="container">
			<div class="col-xs-12 col-md-6 site-info">
			<a href="http://wordpress.org/" rel="nofollow">Fièrement propulsé par  WordPress</a><span class="sep"> | </span>Thème <a href="http://themeisle.com/themes/oblique/" rel="nofollow">Oblique</a> par Themeisle</div>	<nav id="footernav" class="footer-navigation col-md-6 col-xs-12" role="navigation">
		<div class="menu-mentions-legales-container"><ul id="footer-menu" class="menu"><li id="menu-item-6064" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6064"><a href="https://laravel.sillo.org/mentions-legales/">Mentions légales</a></li>
<li id="menu-item-6036" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-6036"><a href="https://laravel.sillo.org/politique-de-confidentialite/">Politique de confidentialité</a></li>
</ul></div>	</nav><!-- #site-navigation -->
		</div><!-- .site-info -->
		</footer></div>
	<!-- #colophon -->
<!-- #page -->

	<div style="display:none">
	<div class="grofile-hash-map-88e4a628937f7d7e6794975f5ca0bbd0">
	</div>
	<div class="grofile-hash-map-bf4114e6d1c5e38f94510399d16cf5e9">
	</div>
	</div>
      <script type="text/javascript">

          var pfHeaderImgUrl = '';
          var pfHeaderTagline = '';
          var pfdisableClickToDel = '0';
          var pfImagesSize = 'full-size';
          var pfImageDisplayStyle = 'right';
          var pfEncodeImages = '0';
          var pfDisableEmail = '0';
          var pfDisablePDF = '0';
          var pfDisablePrint = '0';
          var pfCustomCSS = '';
          var pfPlatform = 'Wordpress';
      </script>
      <script async="" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/printfriendly.js.téléchargement"></script>

	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"https:\/\/laravel.sillo.org\/cours-laravel-5-5-les-donnees-les-ressources\/":4637};
	</script>
				<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/devicepx-jetpack.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/gprofiles.js.téléchargement"></script>
<script type="text/javascript">
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/wpgroho.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/main.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/navigation.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/skip-link-focus-fix.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/comment-reply.min.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/eu-cookie-law.min.js.téléchargement"></script><aside id="eu_cookie_law_widget-3" class="widget widget_eu_cookie_law_widget" style="display: block;">
</aside>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/mootools-core-yc.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/EnlighterJS.min.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/wp-embed.min.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/spin.min.js.téléchargement"></script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/jquery.spin.min.js.téléchargement"></script>
<script type="text/javascript">
/* <![CDATA[ */
var jetpackCarouselStrings = {"widths":[370,700,1000,1200,1400,2000],"is_logged_in":"","lang":"fr","ajaxurl":"https:\/\/laravel.sillo.org\/wp-admin\/admin-ajax.php","nonce":"bc014038f0","display_exif":"1","display_geo":"1","single_image_gallery":"1","single_image_gallery_media_file":"","background_color":"black","comment":"Commentaire","post_comment":"Laisser un commentaire","write_comment":"\u00c9crire un commentaire...","loading_comments":"Chargement des commentaires\u2026","download_original":"Afficher dans sa taille r\u00e9elle <span class=\"photo-size\">{0}<span class=\"photo-size-times\">\u00d7<\/span>{1}<\/span>.","no_comment_text":"Veuillez ajouter du contenu \u00e0 votre commentaire.","no_comment_email":"Merci de renseigner une adresse e-mail.","no_comment_author":"Merci de renseigner votre nom.","comment_post_error":"Une erreur s'est produite \u00e0 la publication de votre commentaire. Veuillez nous en excuser, et r\u00e9essayer dans quelques instants.","comment_approved":"Votre commentaire a \u00e9t\u00e9 approuv\u00e9.","comment_unapproved":"Votre commentaire est en attente de validation.","camera":"Appareil photo","aperture":"Ouverture","shutter_speed":"Vitesse d'obturation","focal_length":"Focale","copyright":"Copyright","comment_registration":"1","require_name_email":"0","login_url":"https:\/\/laravel.sillo.org\/wp-login.php?redirect_to=https%3A%2F%2Flaravel.sillo.org%2Fcours-laravel-5-5-les-donnees-les-ressources%2F","blog_id":"1","meta_data":["camera","aperture","shutter_speed","focal_length","copyright"],"local_comments_commenting_as":"<p id=\"jp-carousel-commenting-as\">Vous devez \u00eatre <a href=\"#\" class=\"jp-carousel-comment-login\">connect\u00e9<\/a> pour poster un commentaire.<\/p>"};
/* ]]> */
</script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/jetpack-carousel.min.js.téléchargement"></script>
<script type="text/javascript">
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1","is_stats_active":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/sharing.min.js.téléchargement"></script>
<script type="text/javascript">
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-twitter', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-facebook', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-linkedin', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
</script>
<script type="text/javascript">/* <![CDATA[ */EnlighterJS_Config = {"selector":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"language":"php","theme":"godzilla","indent":2,"hover":"hoverEnabled","showLinenumbers":false,"rawButton":true,"infoButton":true,"windowButton":true,"rawcodeDoubleclick":false,"grouping":true,"cryptex":{"enabled":false,"email":"mail@example.tld"}};!function(){var a=function(a){var b="Enlighter Error: ";console.error?console.error(b+a):console.log&&console.log(b+a)};return window.addEvent?"undefined"==typeof EnlighterJS?void a("Javascript Resources not loaded yet!"):"undefined"==typeof EnlighterJS_Config?void a("Configuration not loaded yet!"):void window.addEvent("domready",function(){EnlighterJS.Util.Init(EnlighterJS_Config.selector.block,EnlighterJS_Config.selector.inline,EnlighterJS_Config)}):void a("MooTools Framework not loaded yet!")}();;/* ]]> */</script><script type="text/javascript" src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/e-201927.js.téléchargement" async="async" defer="defer"></script>
<script type="text/javascript">
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:7.4.1',blog:'107624614',post:'4637',tz:'2',srv:'laravel.sillo.org'} ]);
	_stq.push([ 'clickTrackerInit', '107624614', '4637' ]);
</script>



<img src="./Cours Laravel 5.5 – les données – les ressources – Laravel_files/g.gif" alt=":)" width="6" height="5" id="wpstats" scale="0"></body></html>