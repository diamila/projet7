!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.inView=t():e.inView=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r,i=n(2),o=(r=i)&&r.__esModule?r:{default:r};e.exports=o.default},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9)),o=r(n(3)),a=n(4);t.default=function(){if("undefined"!=typeof window){var e={history:[]},t={offset:{},threshold:0,test:a.inViewport},n=(0,i.default)(function(){e.history.forEach(function(t){e[t].check()})},100);["scroll","resize","load"].forEach(function(e){return addEventListener(e,n)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(n).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var r=function(n){if("string"==typeof n){var r=[].slice.call(document.querySelectorAll(n));return e.history.indexOf(n)>-1?e[n].elements=r:(e[n]=(0,o.default)(r,t),e.history.push(n)),e[n]}};return r.offset=function(e){if(void 0===e)return t.offset;var n=function(e){return"number"==typeof e};return["top","right","bottom","left"].forEach(n(e)?function(n){return t.offset[n]=e}:function(r){return n(e[r])?t.offset[r]=e[r]:null}),t.offset},r.threshold=function(e){return"number"==typeof e&&e>=0&&e<=1?t.threshold=e:t.threshold},r.test=function(e){return"function"==typeof e?t.test=e:t.test},r.is=function(e){return t.test(e,t)},r.offset(0),r}}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=n,this.elements=t,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return n(e,[{key:"check",value:function(){var e=this;return this.elements.forEach(function(t){var n=e.options.test(t,e.options),r=e.current.indexOf(t),i=r>-1,o=!n&&i;n&&!i&&(e.current.push(t),e.emit("enter",t)),o&&(e.current.splice(r,1),e.emit("exit",t))}),this}},{key:"on",value:function(e,t){return this.handlers[e].push(t),this}},{key:"off",value:function(e){for(var t=this.handlers[e].length;t>0;t--)this.handlers[e].pop();return this}},{key:"once",value:function(e,t){return this.singles[e].unshift(t),this}},{key:"emit",value:function(e,t){for(;this.singles[e].length;)this.singles[e].pop()(t);for(var n=this.handlers[e].length;--n>-1;)this.handlers[e][n](t);return this}}]),e}();t.default=function(e,t){return new r(e,t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inViewport=function(e,t){var n=e.getBoundingClientRect(),r=n.top,i=n.right,o=n.bottom,a=n.left,s=n.width,c=n.height,l=o,d=window.innerWidth-a,u=window.innerHeight-r,p=i,h=t.threshold*s,f=t.threshold*c;return l>t.offset.top+f&&d>t.offset.right+h&&u>t.offset.bottom+f&&p>t.offset.left+h}},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){var r=n(5),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){var r=n(1),i=n(8),o=n(10),a="Expected a function",s=Math.max,c=Math.min;e.exports=function(e,t,n){function l(t){var n=f,r=g;return f=g=void 0,_=t,v=e.apply(r,n)}function d(e){var n=e-b;return void 0===b||n>=t||n<0||C&&e-_>=y}function u(){var e,n,r=i();return d(r)?p(r):void(m=setTimeout(u,(n=t-((e=r)-b),C?c(n,y-(e-_)):n)))}function p(e){return m=void 0,E&&f?l(e):(f=g=void 0,v)}function h(){var e,n=i(),r=d(n);if(f=arguments,g=this,b=n,r){if(void 0===m)return _=e=b,m=setTimeout(u,t),T?l(e):v;if(C)return m=setTimeout(u,t),l(b)}return void 0===m&&(m=setTimeout(u,t)),v}var f,g,y,v,m,b,_=0,T=!1,C=!1,E=!0;if("function"!=typeof e)throw new TypeError(a);return t=o(t)||0,r(n)&&(T=!!n.leading,y=(C="maxWait"in n)?s(o(n.maxWait)||0,t):y,E="trailing"in n?!!n.trailing:E),h.cancel=function(){void 0!==m&&clearTimeout(m),_=0,f=b=g=m=void 0},h.flush=function(){return void 0===m?v:p(i())},h}},function(e,t,n){var r=n(6);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(7),i=n(1),o="Expected a function";e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}},function(e,t){e.exports=function(e){return e}}])}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.videojs=t()}(this,function(){function e(e,t){return e(t={exports:{}},t.exports),t.exports}function t(e,t){bt(e).forEach(function(n){return t(e[n],n)})}function n(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(r)):(r.forEach(function(n){n&&t(n,function(t,n){e[n]=t})}),e)}function r(e){return!!e&&"object"===(void 0===e?"undefined":ht(e))}function i(e){return r(e)&&"[object Object]"===mt.call(e)&&e.constructor===Object}function o(e,t){if(!e||!t)return"";if("function"==typeof Re.getComputedStyle){var n=Re.getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}function a(e){return"string"==typeof e&&/\S/.test(e)}function s(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function c(){return Ve===Re.document&&void 0!==Ve.createElement}function l(e){return r(e)&&1===e.nodeType}function d(){try{return Re.parent!==Re.self}catch(e){return!0}}function u(e){return function(t,n){if(!a(t))return Ve[e](null);a(n)&&(n=Ve.querySelector(n));var r=l(n)?n:Ve;return r[e]&&r[e](t)}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i=Ve.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(wt.warn(St(At,e,n)),i.setAttribute(e,n)):"textContent"===e?h(i,n):i[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){i.setAttribute(e,n[e])}),r&&x(i,r),i}function h(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function f(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function g(e,t){return s(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function y(e,t){return e.classList?e.classList.add(t):g(e,t)||(e.className=(e.className+" "+t).trim()),e}function v(e,t){return e.classList?e.classList.remove(t):(s(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function m(e,t,n){var r=g(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?y(e,t):v(e,t),e}function b(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null==r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)})}function _(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,r=n.length-1;r>=0;r--){var i=n[r].name,o=n[r].value;"boolean"!=typeof e[i]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+",")||(o=null!==o),t[i]=o}return t}function T(e,t){return e.getAttribute(t)}function C(e,t,n){e.setAttribute(t,n)}function E(e,t){e.removeAttribute(t)}function w(){Ve.body.focus(),Ve.onselectstart=function(){return!1}}function S(){Ve.onselectstart=function(){return!0}}function A(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat(o(e,"height"))),n.width||(n.width=parseFloat(o(e,"width"))),n}}function k(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=Ve.documentElement,r=Ve.body,i=n.clientLeft||r.clientLeft||0,o=Re.pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,c=Re.pageYOffset||r.scrollTop,l=t.top+c-s;return{left:Math.round(a),top:Math.round(l)}}function I(e,t){var n={},r=k(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,c=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,c=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-c+o)/o)),n.x=Math.max(0,Math.min(1,(l-s)/i)),n}function P(e){return r(e)&&3===e.nodeType}function O(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function j(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),l(e)||P(e)?e:"string"==typeof e&&/\S/.test(e)?Ve.createTextNode(e):void 0}).filter(function(e){return e})}function x(e,t){return j(t).forEach(function(t){return e.appendChild(t)}),e}function D(e,t){return x(O(e),t)}function R(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||9===st||0===e.button&&1===e.buttons}function N(){return Ot++}function M(e){var t=e[xt];return t||(t=e[xt]=N()),jt[t]||(jt[t]={}),jt[t]}function B(e){var t=e[xt];return!!t&&!!Object.getOwnPropertyNames(jt[t]).length}function L(e){var t=e[xt];if(t){delete jt[t];try{delete e[xt]}catch(t){e.removeAttribute?e.removeAttribute(xt):e[xt]=null}}}function U(e,t){var n=M(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&L(e)}function F(e,t,n,r){n.forEach(function(n){e(t,n,r)})}function z(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||Re.event;for(var i in e={},r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||Ve),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var o=Ve.documentElement,a=Ve.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function W(e,t,n){if(Array.isArray(t))return F(W,e,t,n);var r=M(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=N()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=z(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(e){wt.error(e)}}}),1===r.handlers[t].length)if(e.addEventListener){var i=!1;Dt&&Rt.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,r.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function V(e,t,n){if(B(e)){var r=M(e);if(r.handlers){if(Array.isArray(t))return F(V,e,t,n);var i=function(e,t){r.handlers[t]=[],U(e,t)};if(void 0!==t){var o=r.handlers[t];if(o){if(!n)return void i(e,t);if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);U(e,t)}}else for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&i(e,s)}}}function q(e,t,n){var r=B(e)?M(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=z(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)q.call(null,i,t,n);else if(!i&&!t.defaultPrevented){var o=M(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function H(e,t,n){if(Array.isArray(t))return F(H,e,t,n);var r=function r(){V(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||N(),W(e,t,r)}function G(e,t){t&&(Bt=t),Re.setTimeout(Lt,e)}function Y(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).eventBusKey;if(t){if(!e[t].nodeName)throw new Error('The eventBusKey "'+t+'" does not refer to an element.');e.eventBusEl_=e[t]}else e.eventBusEl_=p("span",{className:"vjs-event-bus"});return n(e,$t),e.on("dispose",function(){e.off(),Re.setTimeout(function(){e.eventBusEl_=null},0)}),e}function K(e,t){return n(e,Zt),e.state=n({},e.state,t),"function"==typeof e.handleStateChanged&&Ht(e)&&e.on("statechanged",e.handleStateChanged),e}function J(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function X(){for(var e={},n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.forEach(function(n){n&&t(n,function(t,n){i(t)?(i(e[n])||(e[n]={}),e[n]=X(e[n],t)):e[n]=t})}),e}function Q(e,t,n,r){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,r,n.length-1),n[r][t]}function $(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Q.bind(null,"start",0,e),end:Q.bind(null,"end",1,e)}}function Z(e,t){return Array.isArray(e)?$(e):void 0===e||void 0===t?$():$([[e,t]])}function ee(e,t){var n=0,r=void 0,i=void 0;if(!t)return 0;e&&e.length||(e=Z(0,0));for(var o=0;o<e.length;o++)r=e.start(o),(i=e.end(o))>t&&(i=t),n+=i-r;return n/t}function te(e){if(e instanceof te)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:r(e)&&("number"==typeof e.code&&(this.code=e.code),n(this,e)),this.message||(this.message=te.defaultMessages[this.code]||"")}function ne(e){return null!=e&&"function"==typeof e.then}function re(e){ne(e)&&e.then(null,function(e){})}function ie(e,t,n){var r=e;return Dn(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=Fn(t,{uri:e}),r.callback=n,r}function oe(e,t,n){return ae(t=ie(e,t,n))}function ae(e){function t(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,i(e,g)}function n(){if(!s){var t;clearTimeout(c),t=e.useXDR&&void 0===o.status?200:1223===o.status?204:o.status;var n=g,r=null;return 0!==t?(n={body:function(){var e=void 0;if(e=o.response?o.response:o.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(o),f)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:t,method:d,headers:{},url:l,rawRequest:o},o.getAllResponseHeaders&&(n.headers=Un(o.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),i(r,n,n.body)}}if(void 0===e.callback)throw new Error("callback argument missing");var r=!1,i=function(t,n,i){r||(r=!0,e.callback(t,n,i))},o=e.xhr||null;o||(o=e.cors||e.useXDR?new oe.XDomainRequest:new oe.XMLHttpRequest);var a,s,c,l=o.url=e.uri||e.url,d=o.method=e.method||"GET",u=e.body||e.data,p=o.headers=e.headers||{},h=!!e.sync,f=!1,g={body:void 0,headers:{},statusCode:0,method:d,url:l,rawRequest:o};if("json"in e&&!1!==e.json&&(f=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),u=JSON.stringify(!0===e.json?u:e.json))),o.onreadystatechange=function(){4===o.readyState&&setTimeout(n,0)},o.onload=n,o.onerror=t,o.onprogress=function(){},o.onabort=function(){s=!0},o.ontimeout=t,o.open(d,l,!h,e.username,e.password),h||(o.withCredentials=!!e.withCredentials),!h&&e.timeout>0&&(c=setTimeout(function(){if(!s){s=!0,o.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},e.timeout)),o.setRequestHeader)for(a in p)p.hasOwnProperty(a)&&o.setRequestHeader(a,p[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(o.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(o),o.send(u||null),o}function se(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function ce(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function le(){this.values=er(null)}function de(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length)t(a[0],a[1])}}function ue(e,t,n){function r(){var t=ce(e);if(null===t)throw new se(se.Errors.BadTimeStamp,"Malformed timestamp: "+c);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function i(){e=e.replace(/^\s+/,"")}var o,a,s,c=e;if(i(),t.startTime=r(),i(),"--\x3e"!==e.substr(0,3))throw new se(se.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+c);e=e.substr(3),i(),t.endTime=r(),i(),o=e,a=t,s=new le,de(o,function(e,t){switch(e){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===t){s.set(e,n[r].region);break}break;case"vertical":s.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];s.integer(e,o),s.percent(e,o)&&s.set("snapToLines",!1),s.alt(e,o,["auto"]),2===i.length&&s.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),s.percent(e,i[0]),2===i.length&&s.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":s.percent(e,t);break;case"align":s.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),a.region=s.get("region",null),a.vertical=s.get("vertical",""),a.line=s.get("line","auto"),a.lineAlign=s.get("lineAlign","start"),a.snapToLines=s.get("snapToLines",!0),a.size=s.get("size",100),a.align=s.get("align","middle"),a.position=s.get("position",{start:0,left:0,middle:50,end:100,right:100},a.align),a.positionAlign=s.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},a.align)}function pe(e,t){function n(e){return tr[e]}for(var r,i=e.document.createElement("div"),o=i,a=[];null!==(r=function(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]+>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}());)if("<"!==r[0])o.appendChild(e.document.createTextNode(function(e){for(;l=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(l[0],n);return e}(r)));else{if("/"===r[1]){a.length&&a[a.length-1]===r.substr(2).replace(">","")&&(a.pop(),o=o.parentNode);continue}var s,c=ce(r.substr(1,r.length-2));if(c){s=e.document.createProcessingInstruction("timestamp",c),o.appendChild(s);continue}var l=r.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!l)continue;if(!(s=function(t,n){var r=nr[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var o=rr[t];return o&&n&&(i[o]=n.trim()),i}(l[1],l[3])))continue;if(d=o,ir[(u=s).localName]&&ir[u.localName]!==d.localName)continue;l[2]&&(s.className=l[2].substr(1).replace("."," ")),a.push(l[1]),o.appendChild(s),o=s}var d,u;return i}function he(e){for(var t=0;t<or.length;t++){var n=or[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function fe(){}function ge(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),fe.call(this),this.cue=t,this.cueDiv=pe(e,t.text);var a={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=e.document.createElement("div"),a={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(a.direction=function(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var r=e.pop(),i=r.textContent||r.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):i}return"ruby"===r.tagName?n(e):r.childNodes?(t(e,r),n(e)):void 0}var r=[],i="";if(!e||!e.childNodes)return"ltr";for(t(r,e);i=n(r);)for(var o=0;o<i.length;o++)if(he(i.charCodeAt(o)))return"rtl";return"ltr"}(this.cueDiv),a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function ye(e){var t,n,r,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function ve(e,t,n,r){var i=new ye(t),o=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(o),s=[];if(o.snapToLines){var c;switch(o.vertical){case"":s=["+y","-y"],c="height";break;case"rl":s=["+x","-x"],c="width";break;case"lr":s=["-x","+x"],c="width"}var l=i.lineHeight,d=l*Math.round(a),u=n[c]+l,p=s[0];Math.abs(d)>u&&(d=d<0?-1:1,d*=Math.ceil(u/l)*l),a<0&&(d+=""===o.vertical?n.height:n.width,s=s.reverse()),i.move(p,d)}else{var h=i.lineHeight/n.height*100;switch(o.lineAlign){case"middle":a-=h/2;break;case"end":a-=h}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new ye(t)}var f=function(e,t){for(var i,o=new ye(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var c=e.intersectPercentage(n);a>c&&(i=new ye(e),a=c),e=new ye(o)}return i||o}(i,s);t.move(f.toCSSCompatValues(n))}function me(){}function be(e){return"string"==typeof e&&!!lr[e.toLowerCase()]&&e.toLowerCase()}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function Te(e,t,n){var r=this,i=/MSIE\s8\.0/.test(navigator.userAgent),o={};i?r=document.createElement("custom"):o.enumerable=!0,r.hasBeenReset=!1;var a="",s=!1,c=e,l=t,d=n,u=null,p="",h=!0,f="auto",g="start",y=50,v="middle",m=50,b="middle";if(Object.defineProperty(r,"id",_e({},o,{get:function(){return a},set:function(e){a=""+e}})),Object.defineProperty(r,"pauseOnExit",_e({},o,{get:function(){return s},set:function(e){s=!!e}})),Object.defineProperty(r,"startTime",_e({},o,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",_e({},o,{get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"text",_e({},o,{get:function(){return d},set:function(e){d=""+e,this.hasBeenReset=!0}})),Object.defineProperty(r,"region",_e({},o,{get:function(){return u},set:function(e){u=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",_e({},o,{get:function(){return p},set:function(e){var t,n="string"==typeof(t=e)&&!!cr[t.toLowerCase()]&&t.toLowerCase();if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");p=n,this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",_e({},o,{get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}})),Object.defineProperty(r,"line",_e({},o,{get:function(){return f},set:function(e){if("number"!=typeof e&&e!==sr)throw new SyntaxError("An invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",_e({},o,{get:function(){return g},set:function(e){var t=be(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"position",_e({},o,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",_e({},o,{get:function(){return v},set:function(e){var t=be(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"size",_e({},o,{get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"align",_e({},o,{get:function(){return b},set:function(e){var t=be(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),r.displayState=void 0,i)return r}function Ce(e){return"number"==typeof e&&e>=0&&e<=100}function Ee(e,t,r){e.setTimeout(function(){return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments[2],o=arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=r[0],l=r.slice(1);if("string"==typeof c)e(t,gr[c],i,o,a,s);else if(c){var d=function(e,t){var n=yr[e.id()],r=null;if(null==n)return r=t(e),yr[e.id()]=[[t,r]],r;for(var i=0;i<n.length;i++){var o=n[i],a=o[0],s=o[1];a===t&&(r=s)}return null===r&&(r=t(e),n.push([t,r])),r}(o,c);d.setSource(n({},t),function(n,r){if(n)return e(t,l,i,o,a,s);a.push(d),e(r,t.type===r.type?l:gr[r.type],i,o,a,s)})}else l.length?e(t,l,i,o,a,s):s?i(t,a):e(t,gr["*"],i,o,a,!0)}(t,gr[t.type],r,e)},1)}function we(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i="call"+J(n),o=e.reduce(Se(i),r),a=o===vr,s=a?null:t[n](o);return function(e,t,n,r){for(var i=e.length-1;i>=0;i--){var o=e[i];o[t]&&o[t](r,n)}}(e,n,s,a),s}function Se(e){return function(t,n){return t===vr?vr:n[e]?n[e](t):t}}function Ae(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function ke(e,t,n){try{e.style[t]=n}catch(e){return}}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),(i=i>0||a>0?i+":":"")+(r=((i||o>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)}function Pe(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function Oe(e,t,n){var i=Oe.getPlayer(e);if(i)return t&&wt.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var o="string"==typeof e?kt("#"+$i(e)):e;if(!l(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");Ve.body.contains(o)||wt.warn("The element supplied is not included in the DOM"),t=t||{},Oe.hooks("beforesetup").forEach(function(e){var n=e(o,X(t));r(n)&&!Array.isArray(n)?t=X(t,n):wt.error("please return an object in beforesetup hooks")});var a=en.getComponent("Player");return i=new a(o,t,n),Oe.hooks("setup").forEach(function(e){return e(i)}),i}var je,xe="6.7.4",De="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Re="undefined"!=typeof window?window:void 0!==De?De:"undefined"!=typeof self?self:{},Ne={},Me=(Object.freeze||Object)({default:Ne}),Be=Me&&Ne||Me,Le=void 0!==De?De:"undefined"!=typeof window?window:{};"undefined"!=typeof document?je=document:(je=Le["__GLOBAL_DOCUMENT_CACHE@4"])||(je=Le["__GLOBAL_DOCUMENT_CACHE@4"]=Be);var Ue,Fe,ze,We,Ve=je,qe=Re.navigator&&Re.navigator.userAgent||"",He=/AppleWebKit\/([\d.]+)/i.exec(qe),Ge=He?parseFloat(He.pop()):null,Ye=/iPad/i.test(qe),Ke=/iPhone/i.test(qe)&&!Ye,Je=/iPod/i.test(qe),Xe=Ke||Ye||Je,Qe=(We=qe.match(/OS (\d+)_/i))&&We[1]?We[1]:null,$e=/Android/i.test(qe),Ze=function(){var e=qe.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),et=$e&&/webkit/i.test(qe)&&Ze<2.3,tt=$e&&Ze<5&&Ge<537,nt=/Firefox/i.test(qe),rt=/Edge/i.test(qe),it=!rt&&/Chrome/i.test(qe),ot=(ze=qe.match(/Chrome\/(\d+)/))&&ze[1]?parseFloat(ze[1]):null,at=/MSIE\s8\.0/.test(qe),st=(Ue=/MSIE\s(\d+)\.\d/.exec(qe),!(Fe=Ue&&parseFloat(Ue[1]))&&/Trident\/7.0/i.test(qe)&&/rv:11.0/.test(qe)&&(Fe=11),Fe),ct=/Safari/i.test(qe)&&!it&&!$e&&!rt,lt=ct||Xe,dt=c()&&("ontouchstart"in Re||Re.DocumentTouch&&Re.document instanceof Re.DocumentTouch),ut=c()&&"backgroundSize"in Re.document.createElement("video").style,pt=(Object.freeze||Object)({IS_IPAD:Ye,IS_IPHONE:Ke,IS_IPOD:Je,IS_IOS:Xe,IOS_VERSION:Qe,IS_ANDROID:$e,ANDROID_VERSION:Ze,IS_OLD_ANDROID:et,IS_NATIVE_ANDROID:tt,IS_FIREFOX:nt,IS_EDGE:rt,IS_CHROME:it,CHROME_VERSION:ot,IS_IE8:at,IE_VERSION:st,IS_SAFARI:ct,IS_ANY_SAFARI:lt,TOUCH_ENABLED:dt,BACKGROUND_SIZE_SUPPORTED:ut}),ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},gt=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},yt=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},vt=function(e,t){return e.raw=t,e},mt=Object.prototype.toString,bt=function(e){return r(e)?Object.keys(e):[]},_t=void 0,Tt="info",Ct=[],Et=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!st&&st<11,i=_t.levels[Tt],o=new RegExp("^("+i+")$");if("log"!==e&&t.unshift(e.toUpperCase()+":"),Ct&&Ct.push([].concat(t)),t.unshift("VIDEOJS:"),Re.console){var a=Re.console[e];a||"debug"!==e||(a=Re.console.info||Re.console.log),a&&i&&o.test(e)&&(n&&(t=t.map(function(e){if(r(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),a.apply?a[Array.isArray(t)?"apply":"call"](Re.console,t):a(t))}};(_t=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Et("log",t)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:Tt},_t.level=function(e){if("string"==typeof e){if(!_t.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');Tt=e}return Tt},_t.history=function(){return Ct?[].concat(Ct):[]},_t.history.clear=function(){Ct&&(Ct.length=0)},_t.history.disable=function(){null!==Ct&&(Ct.length=0,Ct=null)},_t.history.enable=function(){null===Ct&&(Ct=[])},_t.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Et("error",t)},_t.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Et("warn",t)},_t.debug=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Et("debug",t)};var wt=_t,St=function(e){for(var t="",n=0;n<arguments.length;n++)t+=e[n].replace(/\n\r?\s*/g,"")+(arguments[n+1]||"");return t},At=vt(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),kt=u("querySelector"),It=u("querySelectorAll"),Pt=(Object.freeze||Object)({isReal:c,isEl:l,isInFrame:d,createEl:p,textContent:h,prependTo:f,hasClass:g,addClass:y,removeClass:v,toggleClass:m,setAttributes:b,getAttributes:_,getAttribute:T,setAttribute:C,removeAttribute:E,blockTextSelection:w,unblockTextSelection:S,getBoundingClientRect:A,findPosition:k,getPointerPosition:I,isTextNode:P,emptyEl:O,normalizeContent:j,appendContent:x,insertContent:D,isSingleLeftClick:R,$:kt,$$:It}),Ot=1,jt={},xt="vdata"+(new Date).getTime(),Dt=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){Dt=!0}});Re.addEventListener("test",null,e),Re.removeEventListener("test",null,e)}catch(e){}}();var Rt=["touchstart","touchmove"],Nt=(Object.freeze||Object)({fixEvent:z,on:W,off:V,trigger:q,one:H}),Mt=!1,Bt=void 0,Lt=function(){if(c()){var e=Ve.getElementsByTagName("video"),t=Ve.getElementsByTagName("audio"),n=Ve.getElementsByTagName("video-js"),r=[];if(e&&e.length>0)for(var i=0,o=e.length;i<o;i++)r.push(e[i]);if(t&&t.length>0)for(var a=0,s=t.length;a<s;a++)r.push(t[a]);if(n&&n.length>0)for(var l=0,d=n.length;l<d;l++)r.push(n[l]);if(r&&r.length>0)for(var u=0,p=r.length;u<p;u++){var h=r[u];if(!h||!h.getAttribute){G(1);break}if(void 0===h.player)null!==h.getAttribute("data-setup")&&Bt(h)}else Mt||G(1)}};c()&&"complete"===Ve.readyState?Mt=!0:H(Re,"load",function(){Mt=!0});var Ut=function(e){var t=Ve.createElement("style");return t.className=e,t},Ft=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},zt=function(e,t,n){t.guid||(t.guid=N());var r=function(){return t.apply(e,arguments)};return r.guid=n?n+"_"+t.guid:t.guid,r},Wt=function(e,t){var n=Date.now();return function(){var r=Date.now();r-n>=t&&(e.apply(void 0,arguments),n=r)}},Vt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Re,i=void 0;return function(){var o=this,a=arguments,s=function(){i=null,s=null,n||e.apply(o,a)};!i&&n&&e.apply(o,a),r.clearTimeout(i),i=r.setTimeout(s,t)}},qt=function(){};qt.prototype.allowedEvents_={},qt.prototype.addEventListener=qt.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},W(this,e,t),this.addEventListener=n},qt.prototype.removeEventListener=qt.prototype.off=function(e,t){V(this,e,t)},qt.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},H(this,e,t),this.addEventListener=n},qt.prototype.dispatchEvent=qt.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=z(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),q(this,e)};var Ht=function(e){return e instanceof qt||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},Gt=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Yt=function(e){if(!e.nodeName&&!Ht(e))throw new Error("Invalid target; must be a DOM node or evented object.")},Kt=function(e){if(!Gt(e))throw new Error("Invalid event type; must be a non-empty string or array.")},Jt=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},Xt=function(e,t){var n=t.length<3||t[0]===e||t[0]===e.eventBusEl_,r=void 0,i=void 0,o=void 0;return n?(r=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],o=t[1]):(r=t[0],i=t[1],o=t[2]),Yt(r),Kt(i),Jt(o),{isTargetingSelf:n,target:r,type:i,listener:o=zt(e,o)}},Qt=function(e,t,n,r){Yt(e),e.nodeName?Nt[t](e,n,r):e[t](n,r)},$t={on:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Xt(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,c=i.listener;if(Qt(a,"on",s,c),!o){var l=function(){return e.off(a,s,c)};l.guid=c.guid;var d=function(){return e.off("dispose",l)};d.guid=c.guid,Qt(this,"on","dispose",l),Qt(a,"on","dispose",d)}},one:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Xt(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,c=i.listener;if(o)Qt(a,"one",s,c);else{var l=function t(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.off(a,s,t),c.apply(null,r)};l.guid=c.guid,Qt(a,"one",s,l)}},off:function(e,t,n){if(!e||Gt(e))V(this.eventBusEl_,e,t);else{var r=e,i=t;Yt(r),Kt(i),Jt(n),n=zt(this,n),this.off("dispose",n),r.nodeName?(V(r,i,n),V(r,"dispose",n)):Ht(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(e,t){return q(this.eventBusEl_,e,t)}},Zt={state:{},setState:function(e){var n=this;"function"==typeof e&&(e=e());var r=void 0;return t(e,function(e,t){n.state[t]!==e&&((r=r||{})[t]={from:n.state[t],to:e}),n.state[t]=e}),r&&Ht(this)&&this.trigger({changes:r,type:"statechanged"}),r}},en=function(){function e(t,n,r){if(ft(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=X({},this.options_),n=this.options_=X(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+N()}this.name_=n.name||null,n.el?this.el_=n.el:!1!==n.createEl&&(this.el_=this.createEl()),!1!==n.evented&&Y(this,{eventBusKey:this.el_?"el_":null}),K(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==n.initChildren&&this.initChildren(),this.ready(r),!1!==n.reportTouchActivity&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),L(this.el_),this.el_=null),this.player_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return wt.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=X(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return p(e,t,n)},e.prototype.localize=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[r],a=r&&r.split("-")[0],s=i&&i[a],c=n;return o&&o[e]?c=o[e]:s&&s[e]&&(c=s[e]),t&&(c=c.replace(/\{(\d+)\}/g,function(e,n){var r=t[n-1],i=r;return void 0===r&&(i=e),i})),c},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=J(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof t){o=J(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(this.children_.splice(r,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&J(i.name()))&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var c=this.contentEl().children[r]||null;this.contentEl().insertBefore(i.el(),c)}return i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;if(n){var r=this.options_,i=void 0,o=e.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(e){return!i.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r=void 0,i=void 0;return"string"==typeof e?i=n[r=e]||t.options_[r]||{}:(r=e.name,i=e),{name:r,opts:i}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||J(t.name));return n&&!o.isTech(n)}).forEach(function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}})}},e.prototype.buildCSSClass=function(){return""},e.prototype.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return kt(e,t||this.contentEl())},e.prototype.$$=function(e,t){return It(e,t||this.contentEl())},e.prototype.hasClass=function(e){return g(this.el_,e)},e.prototype.addClass=function(e){y(this.el_,e)},e.prototype.removeClass=function(e){v(this.el_,e)},e.prototype.toggleClass=function(e,t){m(this.el_,e,t)},e.prototype.show=function(){this.removeClass("vjs-hidden")},e.prototype.hide=function(){this.addClass("vjs-hidden")},e.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},e.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.prototype.getAttribute=function(e){return T(this.el_,e)},e.prototype.setAttribute=function(e,t){C(this.el_,e,t)},e.prototype.removeAttribute=function(e){E(this.el_,e)},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){this.width(e,!0),this.height(t)},e.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+J(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof Re.getComputedStyle){var n=Re.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var r="offset"+J(e);t=this.el_[r]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.focus=function(){this.el_.focus()},e.prototype.blur=function(){this.el_.blur()},e.prototype.emitTapEvents=function(){var e=0,t=null,n=void 0;this.on("touchstart",function(r){1===r.touches.length&&(t={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},e=(new Date).getTime(),n=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)n=!1;else if(t){var r=e.touches[0].pageX-t.pageX,i=e.touches[0].pageY-t.pageY;Math.sqrt(r*r+i*i)>10&&(n=!1)}});var r=function(){n=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",function(r){t=null,!0===n&&(new Date).getTime()-e<200&&(r.preventDefault(),this.trigger("tap"))})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=zt(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){var n=this;e=zt(this,e);var r=Re.setTimeout(e,t),i=function(){return n.clearTimeout(r)};return i.guid="vjs-timeout-"+r,this.on("dispose",i),r},e.prototype.clearTimeout=function(e){Re.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){var n=this;e=zt(this,e);var r=Re.setInterval(e,t),i=function(){return n.clearInterval(r)};return i.guid="vjs-interval-"+r,this.on("dispose",i),r},e.prototype.clearInterval=function(e){Re.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.prototype.requestAnimationFrame=function(e){var t=this;if(this.supportsRaf_){e=zt(this,e);var n=Re.requestAnimationFrame(e),r=function(){return t.cancelAnimationFrame(n)};return r.guid="vjs-raf-"+n,this.on("dispose",r),n}return this.setTimeout(e,1e3/60)},e.prototype.cancelAnimationFrame=function(e){if(this.supportsRaf_){Re.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r=e.getComponent("Tech"),i=r&&r.isTech(n),o=e===n||e.prototype.isPrototypeOf(n.prototype);if(i||!o){throw new Error('Illegal component, "'+t+'"; '+(i?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".")}t=J(t),e.components_||(e.components_={});var a=e.getComponent("Player");if("Player"===t&&a&&a.players){var s=a.players,c=Object.keys(s);if(s&&c.length>0&&c.map(function(e){return s[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,n},e.getComponent=function(t){if(t)return t=J(t),e.components_&&e.components_[t]?e.components_[t]:void 0},e}();en.prototype.supportsRaf_="function"==typeof Re.requestAnimationFrame&&"function"==typeof Re.cancelAnimationFrame,en.registerComponent("Component",en);for(var tn={},nn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],rn=nn[0],on=void 0,an=0;an<nn.length;an++)if(nn[an][1]in Ve){on=nn[an];break}if(on)for(var sn=0;sn<on.length;sn++)tn[rn[sn]]=on[sn];te.prototype.code=0,te.prototype.message="",te.prototype.status=null,te.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],te.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var cn=0;cn<te.errorTypes.length;cn++)te[te.errorTypes[cn]]=cn,te.prototype[te.errorTypes[cn]]=cn;var ln=function(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(e){r=e}return[r,n]},dn=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n,r){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},un=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=dn(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(dn))},pn=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()},hn="vjs-modal-dialog",fn=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=p("div",{className:hn+"-content"},{role:"document"}),i.descEl_=p("p",{className:hn+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),h(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return gt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return hn+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},t.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",zt(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",zt(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},t.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},t.prototype.fill=function(){this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),D(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},t.prototype.empty=function(){this.trigger("beforemodalempty"),O(this.contentEl()),this.trigger("modalempty")},t.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},t.prototype.conditionalFocus_=function(){var e=Ve.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(Ve,"keydown",this.handleKeyDown))},t.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(Ve,"keydown",this.handleKeyDown)},t.prototype.handleKeyDown=function(e){if(9===e.which){for(var t=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=void 0,i=0;i<t.length;i++)if(n===t[i]){r=i;break}Ve.activeElement===this.el_&&(r=0),e.shiftKey&&0===r?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||r!==t.length-1||(t[0].focus(),e.preventDefault())}},t.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof Re.HTMLAnchorElement||e instanceof Re.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof Re.HTMLInputElement||e instanceof Re.HTMLSelectElement||e instanceof Re.HTMLTextAreaElement||e instanceof Re.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof Re.HTMLIFrameElement||e instanceof Re.HTMLObjectElement||e instanceof Re.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},t}(en);fn.prototype.options_={pauseOnOpen:!0,temporary:!0},en.registerComponent("ModalDialog",fn);var gn=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ft(this,t);var i=yt(this,e.call(this));if(!r&&(r=i,at))for(var o in r=Ve.createElement("custom"),t.prototype)"constructor"!==o&&(r[o]=t.prototype[o]);r.tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var a=0;a<n.length;a++)r.addTrack(n[a]);return yt(i,r)}return gt(t,e),t.prototype.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack=function(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(qt);for(var yn in gn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},gn.prototype.allowedEvents_)gn.prototype["on"+yn]=null;var vn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},mn=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ft(this,t);for(var i=void 0,o=r.length-1;o>=0;o--)if(r[o].enabled){vn(r,r[o]);break}if(at){for(var a in i=Ve.createElement("custom"),gn.prototype)"constructor"!==a&&(i[a]=gn.prototype[a]);for(var s in t.prototype)"constructor"!==s&&(i[s]=t.prototype[s])}return(i=n=yt(this,e.call(this,r,i))).changing_=!1,yt(n,i)}return gt(t,e),t.prototype.addTrack=function(t){var n=this;t.enabled&&vn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,vn(n,t),n.changing_=!1,n.trigger("change"))})},t}(gn),bn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},_n=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ft(this,t);for(var i=void 0,o=r.length-1;o>=0;o--)if(r[o].selected){bn(r,r[o]);break}if(at){for(var a in i=Ve.createElement("custom"),gn.prototype)"constructor"!==a&&(i[a]=gn.prototype[a]);for(var s in t.prototype)"constructor"!==s&&(i[s]=t.prototype[s])}return(i=n=yt(this,e.call(this,r,i))).changing_=!1,Object.defineProperty(i,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),yt(n,i)}return gt(t,e),t.prototype.addTrack=function(t){var n=this;t.selected&&bn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,bn(n,t),n.changing_=!1,n.trigger("change"))})},t}(gn),Tn=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ft(this,t);var i=void 0;if(at){for(var o in i=Ve.createElement("custom"),gn.prototype)"constructor"!==o&&(i[o]=gn.prototype[o]);for(var a in t.prototype)"constructor"!==a&&(i[a]=t.prototype[a])}return i=n=yt(this,e.call(this,r,i)),yt(n,i)}return gt(t,e),t.prototype.addTrack=function(t){e.prototype.addTrack.call(this,t),t.addEventListener("modechange",zt(this,function(){this.trigger("change")})),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",zt(this,function(){this.trigger("selectedlanguagechange")}))},t}(gn),Cn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ft(this,e);var n=this;if(at)for(var r in n=Ve.createElement("custom"),e.prototype)"constructor"!==r&&(n[r]=e.prototype[r]);n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var i=0,o=t.length;i<o;i++)n.addTrackElement_(t[i]);if(at)return n}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}(),En=function(){function e(t){ft(this,e);var n=this;if(at)for(var r in n=Ve.createElement("custom"),e.prototype)"constructor"!==r&&(n[r]=e.prototype[r]);if(e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),at)return n}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}(),wn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Sn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},An={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},kn={disabled:"disabled",hidden:"hidden",showing:"showing"},In=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ft(this,t);var r=yt(this,e.call(this)),i=r;if(at)for(var o in i=Ve.createElement("custom"),t.prototype)"constructor"!==o&&(i[o]=t.prototype[o]);var a={id:n.id||"vjs_track_"+N(),kind:n.kind||"",label:n.label||"",language:n.language||""};for(var s in a)!function(e){Object.defineProperty(i,e,{get:function(){return a[e]},set:function(){}})}(s);return yt(r,i)}return gt(t,e),t}(qt),Pn=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=Ve.createElement("a");n.href=e;var r=""===n.host&&"file:"!==n.protocol,i=void 0;r&&((i=Ve.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),Ve.body.appendChild(i));for(var o={},a=0;a<t.length;a++)o[t[a]]=n[t[a]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=Re.location.protocol),r&&Ve.body.removeChild(i),o},On=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},jn=function(e){var t=Re.location,n=Pn(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},xn=(Object.freeze||Object)({parseUrl:Pn,getAbsoluteURL:function(e){if(!e.match(/^https?:\/\//)){var t=Ve.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},getFileExtension:On,isCrossOrigin:jn}),Dn=function(e){var t=Rn.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},Rn=Object.prototype.toString,Nn=e(function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}}),Mn=function(e,t,n){if(!Dn(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===Bn.call(e)?function(e,t,n){for(var r=0,i=e.length;r<i;r++)Ln.call(e,r)&&t.call(n,e[r],r,e)}(e,t,n):"string"==typeof e?function(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}(e,t,n):function(e,t,n){for(var r in e)Ln.call(e,r)&&t.call(n,e[r],r,e)}(e,t,n)},Bn=Object.prototype.toString,Ln=Object.prototype.hasOwnProperty,Un=function(e){if(!e)return{};var t={};return Mn(Nn(e).split("\n"),function(e){var n,r=e.indexOf(":"),i=Nn(e.slice(0,r)).toLowerCase(),o=Nn(e.slice(r+1));void 0===t[i]?t[i]=o:(n=t[i],"[object Array]"===Object.prototype.toString.call(n)?t[i].push(o):t[i]=[t[i],o])}),t},Fn=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)zn.call(n,r)&&(e[r]=n[r])}return e},zn=Object.prototype.hasOwnProperty,Wn=oe;oe.XMLHttpRequest=Re.XMLHttpRequest||function(){},oe.XDomainRequest="withCredentials"in new oe.XMLHttpRequest?oe.XMLHttpRequest:Re.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(e){oe["delete"===e?"del":e]=function(t,n,r){return(n=ie(t,n,r)).method=e.toUpperCase(),ae(n)}});var Vn=function(e,t){var n=new Re.WebVTT.Parser(Re,Re.vttjs,Re.WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(Re.console&&Re.console.groupCollapsed&&Re.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return wt.error(e)}),Re.console&&Re.console.groupEnd&&Re.console.groupEnd()),n.flush()},qn=function(e,t){var n={uri:e},r=jn(e);r&&(n.cors=r),Wn(n,zt(this,function(e,n,r){if(e)return wt.error(e,n);if(t.loaded_=!0,"function"!=typeof Re.WebVTT){if(t.tech_){var i=function(){return Vn(r,t)};t.tech_.on("vttjsloaded",i),t.tech_.on("vttjserror",function(){wt.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",i)})}}else Vn(r,t)}))},Hn=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(ft(this,t),!r.tech)throw new Error("A tech was not provided.");var i=X(r,{kind:An[r.kind]||"subtitles",language:r.language||r.srclang||""}),o=kn[i.mode]||"disabled",a=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(o="hidden");var s=n=yt(this,e.call(this,i));if(s.tech_=i.tech,at)for(var c in t.prototype)"constructor"!==c&&(s[c]=t.prototype[c]);s.cues_=[],s.activeCues_=[];var l=new En(s.cues_),d=new En(s.activeCues_),u=!1,p=zt(s,function(){this.activeCues,u&&(this.trigger("cuechange"),u=!1)});return"disabled"!==o&&s.tech_.ready(function(){s.tech_.on("timeupdate",p)},!0),Object.defineProperty(s,"default",{get:function(){return a},set:function(){}}),Object.defineProperty(s,"mode",{get:function(){return o},set:function(e){var t=this;kn[e]&&("showing"===(o=e)&&this.tech_.ready(function(){t.tech_.on("timeupdate",p)},!0),this.trigger("modechange"))}}),Object.defineProperty(s,"cues",{get:function(){return this.loaded_?l:null},set:function(){}}),Object.defineProperty(s,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return d;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(u=!1,t.length!==this.activeCues_.length)u=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(u=!0);return this.activeCues_=t,d.setCues_(this.activeCues_),d},set:function(){}}),i.src?(s.src=i.src,qn(i.src,s)):s.loaded_=!0,yt(n,s)}return gt(t,e),t.prototype.addCue=function(e){var t=e;if(Re.vttjs&&!(e instanceof Re.vttjs.VTTCue)){for(var n in t=new Re.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(In);Hn.prototype.allowedEvents_={cuechange:"cuechange"};var Gn=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ft(this,t);var i=X(r,{kind:Sn[r.kind]||""}),o=n=yt(this,e.call(this,i)),a=!1;if(at)for(var s in t.prototype)"constructor"!==s&&(o[s]=t.prototype[s]);return Object.defineProperty(o,"enabled",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("enabledchange"))}}),i.enabled&&(o.enabled=i.enabled),o.loaded_=!0,yt(n,o)}return gt(t,e),t}(In),Yn=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ft(this,t);var i=X(r,{kind:wn[r.kind]||""}),o=n=yt(this,e.call(this,i)),a=!1;if(at)for(var s in t.prototype)"constructor"!==s&&(o[s]=t.prototype[s]);return Object.defineProperty(o,"selected",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("selectedchange"))}}),i.selected&&(o.selected=i.selected),yt(n,o)}return gt(t,e),t}(In),Kn=0,Jn=2,Xn=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ft(this,t);var r=yt(this,e.call(this)),i=void 0,o=r;if(at)for(var a in o=Ve.createElement("custom"),t.prototype)"constructor"!==a&&(o[a]=t.prototype[a]);var s=new Hn(n);return o.kind=s.kind,o.src=s.src,o.srclang=s.language,o.label=s.label,o.default=s.default,Object.defineProperty(o,"readyState",{get:function(){return i}}),Object.defineProperty(o,"track",{get:function(){return s}}),i=Kn,s.addEventListener("loadeddata",function(){i=Jn,o.trigger({type:"load",target:o})}),at?yt(r,o):r}return gt(t,e),t}(qt);Xn.prototype.allowedEvents_={load:"load"},Xn.NONE=Kn,Xn.LOADING=1,Xn.LOADED=Jn,Xn.ERROR=3;var Qn={audio:{ListClass:mn,TrackClass:Gn,capitalName:"Audio"},video:{ListClass:_n,TrackClass:Yn,capitalName:"Video"},text:{ListClass:Tn,TrackClass:Hn,capitalName:"Text"}};Object.keys(Qn).forEach(function(e){Qn[e].getterName=e+"Tracks",Qn[e].privateName=e+"Tracks_"});var $n={remoteText:{ListClass:Tn,TrackClass:Hn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Cn,TrackClass:Xn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Zn=X(Qn,$n);$n.names=Object.keys($n),Qn.names=Object.keys(Qn),Zn.names=[].concat($n.names).concat(Qn.names);var er=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();(se.prototype=er(Error.prototype)).constructor=se,se.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},le.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var tr={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},nr={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},rr={v:"title",lang:"lang"},ir={rt:"ruby"},or=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];fe.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},fe.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(ge.prototype=er(fe.prototype)).constructor=ge,ye.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},ye.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},ye.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},ye.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},ye.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},ye.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},ye.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},ye.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},me.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},me.convertCueToDOMTree=function(e,t){return e&&t?pe(e,t):null},me.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],o=ye.getSimpleBoxPosition(r),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,c=0;c<t.length;c++)s=t[c],n=new ge(e,s,a),r.appendChild(n.div),ve(0,n,o,i),s.displayState=n.div,i.push(ye.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)r.appendChild(t[s].displayState)},(me.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof se))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function t(){for(var e=i.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),n}function n(e){var t=new le;if(de(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var r=n.split(",");if(2!==r.length)break;var i=new le;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;t.set(e+"X",i.get("x")),t.set(e+"Y",i.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(i.vttjs.VTTRegion||i.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),i.onregion&&i.onregion(n),i.regionList.push({id:t.get("id"),region:n})}}var r,i=this;e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{var o;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var a=(o=t()).match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new se(se.Errors.BadSignature);i.state="HEADER"}for(var s=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(s?s=!1:o=t(),i.state){case"HEADER":/:/.test(o)?(r=o).match(/X-TIMESTAMP-MAP/)?de(r,function(e,t){switch(e){case"X-TIMESTAMP-MAP":n=t,r=new le,de(n,function(e,t){switch(e){case"MPEGT":r.integer(e+"S",t);break;case"LOCA":r.set(e+"L",ce(t))}},/[^\d]:/,/,/),i.ontimestampmap&&i.ontimestampmap({MPEGTS:r.get("MPEGTS"),LOCAL:r.get("LOCAL")})}var n,r},/=/):de(r,function(e,t){switch(e){case"Region":n(t)}},/:/):o||(i.state="ID");continue;case"NOTE":o||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){i.state="NOTE";break}if(!o)continue;if(i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,""),i.state="CUE",-1===o.indexOf("--\x3e")){i.cue.id=o;continue}case"CUE":try{ue(o,i.cue,i.regionList)}catch(e){i.reportOrThrowError(e),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var c=-1!==o.indexOf("--\x3e");if(!o||c&&(s=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=o;continue;case"BADCUE":o||(i.state="ID");continue}}}catch(e){i.reportOrThrowError(e),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new se(se.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var ar=me,sr="auto",cr={"":!0,lr:!0,rl:!0},lr={start:!0,middle:!0,end:!0,left:!0,right:!0};Te.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var dr=Te,ur={"":!0,up:!0},pr=function(){var e=100,t=3,n=0,r=100,i=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!Ce(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!Ce(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!Ce(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!Ce(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!Ce(e))throw new Error("ViewportAnchorX must be between 0 and 100.");i=e}},scroll:{enumerable:!0,get:function(){return a},set:function(e){var t,n="string"==typeof(t=e)&&!!ur[t.toLowerCase()]&&t.toLowerCase();if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");a=n}}})},hr=e(function(e){var t=e.exports={WebVTT:ar,VTTCue:dr,VTTRegion:pr};Re.vttjs=t,Re.WebVTT=t.WebVTT;var n=t.VTTCue,r=t.VTTRegion,i=Re.VTTCue,o=Re.VTTRegion;t.shim=function(){Re.VTTCue=n,Re.VTTRegion=r},t.restore=function(){Re.VTTCue=i,Re.VTTRegion=o},Re.VTTCue||t.shim()}),fr=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};ft(this,t),n.reportTouchActivity=!1;var i=yt(this,e.call(this,null,n,r));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),Zn.names.forEach(function(e){var t=Zn[e];n&&n[t.getterName]&&(i[t.privateName]=n[t.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===n["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new Zn.text.ListClass,i.initTrackListeners(),n.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return gt(t,e),t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(zt(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(e){this.duration_=this.duration()},t.prototype.buffered=function(){return Z(0,0)},t.prototype.bufferedPercent=function(){return ee(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(Qn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack(i)}})},t.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(this.error_=new te(e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?Z(0,0):Z()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTrackListeners=function(){var e=this;Qn.names.forEach(function(t){var n=Qn[t],r=function(){e.trigger(t+"trackchange")},i=e[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),e.on("dispose",function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)})})},t.prototype.addWebVttScript_=function(){var e=this;if(!Re.WebVTT)if(Ve.body.contains(this.el())){if(!this.options_["vtt.js"]&&i(hr)&&Object.keys(hr).length>0)return void this.trigger("vttjsloaded");var t=Ve.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),Re.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++)t[e].removeEventListener("cuechange",o)})},t.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var a=new Zn.text.TrackClass(i);return o.addTrack(a),a}(this,e,t,n)},t.prototype.createRemoteTextTrack=function(e){var t=X(e,{tech:this});return new $n.remoteTextEl.TrackClass(t)},t.prototype.addRemoteTextTrack=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(wt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==n&&this.ready(function(){return e.autoRemoteTextTracks_.addTrack(r.track)}),r},t.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},t.prototype.getVideoPlaybackQuality=function(){return{}},t.prototype.setPoster=function(){},t.prototype.playsinline=function(){},t.prototype.setPlaysinline=function(){},t.prototype.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=J(e),t.techs_[e]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return e=J(e),t.techs_&&t.techs_[e]?t.techs_[e]:Re&&Re.videojs&&Re.videojs[e]?(wt.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),Re.videojs[e]):void 0},t}(en);Zn.names.forEach(function(e){var t=Zn[e];fr.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),fr.prototype.featuresVolumeControl=!0,fr.prototype.featuresFullscreenResize=!1,fr.prototype.featuresPlaybackRate=!1,fr.prototype.featuresProgressEvents=!1,fr.prototype.featuresTimeupdateEvents=!1,fr.prototype.featuresNativeTextTracks=!1,fr.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""},["seekable","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:wt.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},en.registerComponent("Tech",fr),fr.registerTech("Tech",fr),fr.defaultTechOrder_=[];var gr={},yr={},vr={},mr={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},br={setCurrentTime:1},_r={play:1,pause:1},Tr=function(e){function t(n,r,i){ft(this,t);var o=X({createEl:!1},r),a=yt(this,e.call(this,n,o,i));if(r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var s=0,c=r.playerOptions.techOrder;s<c.length;s++){var l=J(c[s]),d=fr.getTech(l);if(l||(d=en.getComponent(l)),d&&d.isSupported()){n.loadTech_(l);break}}return a}return gt(t,e),t}(en);en.registerComponent("MediaLoader",Tr);var Cr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.emitTapEvents(),i.enable(),i}return gt(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=n({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},r),"button"===t&&wt.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),i=n({role:"button","aria-live":"polite"},i),this.tabIndex_=r.tabIndex;var o=e.prototype.createEl.call(this,t,r,i);return this.createControlTextEl(o),o},t.prototype.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=p("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,h(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},t.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},t.prototype.handleClick=function(e){},t.prototype.handleFocus=function(e){W(Ve,"keydown",zt(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(e){V(Ve,"keydown",zt(this,this.handleKeyPress))},t}(en);en.registerComponent("ClickableComponent",Cr);var Er=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.update(),n.on("posterchange",zt(i,i.update)),i}return gt(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=p("div",{className:"vjs-poster",tabIndex:-1});return ut||(this.fallbackImg_=p("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},t}(Cr);en.registerComponent("PosterImage",Er);var wr={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},Sr=function(e){function t(n,r,i){ft(this,t);var o=yt(this,e.call(this,n,r,i));return n.on("loadstart",zt(o,o.toggleDisplay)),n.on("texttrackchange",zt(o,o.updateDisplay)),n.on("loadstart",zt(o,o.preselectTrack)),n.ready(zt(o,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",zt(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),o}return gt(t,e),t.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,r=void 0,i=void 0,o=void 0,a=0;a<t.length;a++){var s=t[a];n&&n.enabled&&n.language===s.language?s.kind===n.kind?o=s:o||(o=s):n&&!n.enabled?(o=null,r=null,i=null):s.default&&("descriptions"!==s.kind||r?s.kind in e&&!i&&(i=s):r=s)}o?o.mode="showing":i?i.mode="showing":r&&(r.mode="showing")},t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof Re.WebVTT&&Re.WebVTT.processCues(Re,[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},t.prototype.updateForTrack=function(e){if("function"==typeof Re.WebVTT&&e.activeCues){for(var t=[],n=0;n<e.activeCues.length;n++)t.push(e.activeCues[n]);if(Re.WebVTT.processCues(Re,t,this.el_),this.player_.textTrackSettings)for(var r=this.player_.textTrackSettings.getValues(),i=t.length;i--;){var o=t[i];if(o){var a=o.displayState;if(r.color&&(a.firstChild.style.color=r.color),r.textOpacity&&ke(a.firstChild,"color",Ae(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(a.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&ke(a.firstChild,"backgroundColor",Ae(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?ke(a,"backgroundColor",Ae(r.windowColor,r.windowOpacity)):a.style.backgroundColor=r.windowColor),r.edgeStyle&&("dropshadow"===r.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===r.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===r.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===r.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),r.fontPercent&&1!==r.fontPercent){var s=Re.parseFloat(a.style.fontSize);a.style.fontSize=s*r.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}r.fontFamily&&"default"!==r.fontFamily&&("small-caps"===r.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=wr[r.fontFamily])}}}},t}(en);en.registerComponent("TextTrackDisplay",Sr);var Ar=function(e){function t(){return ft(this,t),yt(this,e.apply(this,arguments))}return gt(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),r=p("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i},t}(en);en.registerComponent("LoadingSpinner",Ar);var kr=function(e){function t(){return ft(this,t),yt(this,e.apply(this,arguments))}return gt(t,e),t.prototype.createEl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=n({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),r=n({type:"button","aria-live":"polite"},r);var i=en.prototype.createEl.call(this,"button",t,r);return this.createControlTextEl(i),i},t.prototype.addChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return wt.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),en.prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(Cr);en.registerComponent("Button",kr);var Ir=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){var t=this.player_.play();if(!(this.mouseused_&&e.clientX&&e.clientY)){var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(!r)return void this.player_.focus();var i=function(){return r.focus()};ne(t)?t.then(i,function(){}):this.setTimeout(i,1)}},t.prototype.handleKeyPress=function(t){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,t)},t.prototype.handleMouseDown=function(e){this.mouseused_=!0},t}(kr);Ir.prototype.controlText_="Play Video",en.registerComponent("BigPlayButton",Ir);var Pr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.controlText(r&&r.controlText||i.localize("Close")),i}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(kr);en.registerComponent("CloseButton",Pr);var Or=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.on(n,"play",i.handlePlay),i.on(n,"pause",i.handlePause),i.on(n,"ended",i.handleEnded),i}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},t.prototype.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.prototype.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(kr);Or.prototype.controlText_="Play",en.registerComponent("PlayToggle",Or);var jr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.throttledUpdateContent=Wt(zt(i,i.updateContent),25),i.on(n,"timeupdate",i.throttledUpdateContent),i}return gt(t,e),t.prototype.createEl=function(t){var n=this.buildCSSClass(),r=e.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control"});return this.contentEl_=p("div",{className:n+"-display"},{"aria-live":"off"},p("span",{className:"vjs-control-text",textContent:this.localize(this.controlText_)})),this.updateTextNode_(),r.appendChild(this.contentEl_),r},t.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},t.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=Ve.createTextNode(this.formattedTime_||"0:00"),this.contentEl_.appendChild(this.textNode_)}},t.prototype.formatTime_=function(e){return Ie(e)},t.prototype.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},t.prototype.updateContent=function(e){},t}(en);jr.prototype.controlText_="Time",en.registerComponent("TimeDisplay",jr);var xr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.on(n,"ended",i.handleEnded),i}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-current-time"},t.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},t.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(jr);xr.prototype.controlText_="Current Time",en.registerComponent("CurrentTimeDisplay",xr);var Dr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.on(n,"durationchange",i.updateContent),i.on(n,"loadedmetadata",i.throttledUpdateContent),i}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-duration"},t.prototype.updateContent=function(e){var t=this.player_.duration();t&&this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},t}(jr);Dr.prototype.controlText_="Duration Time",en.registerComponent("DurationDisplay",Dr);var Rr=function(e){function t(){return ft(this,t),yt(this,e.apply(this,arguments))}return gt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(en);en.registerComponent("TimeDivider",Rr);var Nr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.on(n,"durationchange",i.throttledUpdateContent),i.on(n,"ended",i.handleEnded),i}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-remaining-time"},t.prototype.formatTime_=function(t){return"-"+e.prototype.formatTime_.call(this,t)},t.prototype.updateContent=function(e){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},t.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},t}(jr);Nr.prototype.controlText_="Remaining Time",en.registerComponent("RemainingTimeDisplay",Nr);var Mr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}return gt(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=p("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},t.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(en);en.registerComponent("LiveDisplay",Mr);var Br=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}return gt(t,e),t.prototype.enabled=function(){return this.enabled_},t.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.prototype.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},t.prototype.createEl=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.className=r.className+" vjs-slider",r=n({tabIndex:0},r),i=n({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),e.prototype.createEl.call(this,t,r,i)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),w(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;S(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%",r=t.el().style;return this.vertical()?r.height=n:r.width=n,e}}},t.prototype.calculateDistance=function(e){var t=I(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(en);en.registerComponent("Slider",Br);var Lr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.partEls_=[],i.on(n,"progress",i.update),i}return gt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},t.prototype.update=function(e){var t=this.player_.buffered(),n=this.player_.duration(),r=this.player_.bufferedEnd(),i=this.partEls_,o=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=o(r,n);for(var a=0;a<t.length;a++){var s=t.start(a),c=t.end(a),l=i[a];l||(l=this.el_.appendChild(p()),i[a]=l),l.style.left=o(s,r),l.style.width=o(c-s,r)}for(var d=i.length;d>t.length;d--)this.el_.removeChild(i[d-1]);i.length=t.length},t}(en);en.registerComponent("LoadProgressBar",Lr);var Ur=function(e){function t(){return ft(this,t),yt(this,e.apply(this,arguments))}return gt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function(e,t,n){var r=A(this.el_),i=A(this.player_.el()),o=e.width*t;if(i&&r){var a=e.left-i.left+o,s=e.width-o+(i.right-e.right),c=r.width/2;a<c?c+=c-a:s<c&&(c=s),c<0?c=0:c>r.width&&(c=r.width),this.el_.style.right="-"+c+"px",h(this.el_,n)}},t}(en);en.registerComponent("TimeTooltip",Ur);var Fr=function(e){function t(){return ft(this,t),yt(this,e.apply(this,arguments))}return gt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.update=function(e,t){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r=Ie(n.player_.scrubbing()?n.player_.getCache().currentTime:n.player_.currentTime(),n.player_.duration()),i=n.getChild("timeTooltip");i&&i.update(e,t,r)})},t}(en);Fr.prototype.options_={children:[]},st&&!(st>8)||Xe||$e||Fr.prototype.options_.children.push("timeTooltip"),en.registerComponent("PlayProgressBar",Fr);var zr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.update=Wt(zt(i,i.update),25),i}return gt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.update=function(e,t){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r=n.player_.duration(),i=Ie(t*r,r);n.el_.style.left=e.width*t+"px",n.getChild("timeTooltip").update(e,t,i)})},t}(en);zr.prototype.options_={children:["timeTooltip"]},en.registerComponent("MouseTimeDisplay",zr);var Wr=30,Vr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.update=Wt(zt(i,i.update),Wr),i.on(n,"timeupdate",i.update),i.on(n,"ended",i.handleEnded),i.updateInterval=null,i.on(n,["playing"],function(){i.clearInterval(i.updateInterval),i.updateInterval=i.setInterval(function(){i.requestAnimationFrame(function(){i.update()})},Wr)}),i.on(n,["ended","pause","waiting"],function(){i.clearInterval(i.updateInterval)}),i.on(n,["timeupdate","ended"],i.update),i}return gt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.prototype.update_=function(e,t){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Ie(e,n),Ie(n,n)],"{1} of {2}")),this.bar.update(A(this.el_),t)},t.prototype.update=function(t){var n=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n},t.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.prototype.handleEnded=function(e){this.update_(this.player_.duration(),1)},t.prototype.getPercent=function(){var e=this.getCurrentTime_()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){R(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},t.prototype.handleMouseMove=function(e){if(R(e)){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)}},t.prototype.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},t.prototype.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&re(this.player_.play())},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t.prototype.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t}(Br);Vr.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},st&&!(st>8)||Xe||$e||Vr.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Vr.prototype.playerEvent="timeupdate",en.registerComponent("SeekBar",Vr);var qr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.handleMouseMove=Wt(zt(i,i.handleMouseMove),25),i.throttledHandleMouseSeek=Wt(zt(i,i.handleMouseSeek),25),i.enable(),i}return gt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.prototype.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay"),r=t.el(),i=A(r),o=I(r,e).x;o>1?o=1:o<0&&(o=0),n&&n.update(i,o)}},t.prototype.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},t.prototype.enabled=function(){return this.enabled_},t.prototype.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},t.prototype.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(en);qr.prototype.options_={children:["seekBar"]},en.registerComponent("ProgressControl",qr);var Hr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.on(n,"fullscreenchange",i.handleFullscreenChange),i}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(kr);Hr.prototype.controlText_="Fullscreen",en.registerComponent("FullscreenToggle",Hr);var Gr=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Yr=function(e){function t(){return ft(this,t),yt(this,e.apply(this,arguments))}return gt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(en);en.registerComponent("VolumeLevel",Yr);var Kr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.on("slideractive",i.updateLastVolume_),i.on(n,"volumechange",i.updateARIAAttributes),n.ready(function(){return i.updateARIAAttributes()}),i}return gt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.prototype.handleMouseDown=function(t){R(t)&&e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){R(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},t}(Br);Kr.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Kr.prototype.playerEvent="volumechange",en.registerComponent("VolumeBar",Kr);var Jr=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ft(this,t),r.vertical=r.vertical||!1,(void 0===r.volumeBar||i(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical);var o=yt(this,e.call(this,n,r));return Gr(o,n),o.throttledHandleMouseMove=Wt(zt(o,o.handleMouseMove),25),o.on("mousedown",o.handleMouseDown),o.on("touchstart",o.handleMouseDown),o.on(o.volumeBar,["focus","slideractive"],function(){o.volumeBar.addClass("vjs-slider-active"),o.addClass("vjs-slider-active"),o.trigger("slideractive")}),o.on(o.volumeBar,["blur","sliderinactive"],function(){o.volumeBar.removeClass("vjs-slider-active"),o.removeClass("vjs-slider-active"),o.trigger("sliderinactive")}),o}return gt(t,e),t.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},t.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(en);Jr.prototype.options_={children:["volumeBar"]},en.registerComponent("VolumeControl",Jr);var Xr=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return Gr(i,n),i.on(n,["loadstart","volumechange"],i.update),i}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},t.prototype.update=function(e){this.updateIcon_(),this.updateControlText_()},t.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)v(this.el_,"vjs-vol-"+n);y(this.el_,"vjs-vol-"+t)},t.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(kr);Xr.prototype.controlText_="Mute",en.registerComponent("MuteToggle",Xr);var Qr=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ft(this,t),void 0!==r.inline?r.inline=r.inline:r.inline=!0,(void 0===r.volumeControl||i(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline);var o=yt(this,e.call(this,n,r));return Gr(o,n),o.on(o.volumeControl,["slideractive"],o.sliderActive_),o.on(o.volumeControl,["sliderinactive"],o.sliderInactive_),o}return gt(t,e),t.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},t.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(en);Qr.prototype.options_={children:["muteToggle","volumeControl"]},en.registerComponent("VolumePanel",Qr);var $r=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return r&&(i.menuButton_=r.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}return gt(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",zt(this,function(t){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=p(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),W(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(en);en.registerComponent("Menu",$r);var Zr=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ft(this,t);var i=yt(this,e.call(this,n,r));i.menuButton_=new kr(n,r),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var o=kr.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+o,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"focus",i.handleFocus),i.on(i.menuButton_,"blur",i.handleBlur),i.on("keydown",i.handleSubmenuKeyPress),i}return gt(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.prototype.createMenu=function(){var e=new $r(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=p("li",{className:"vjs-menu-title",innerHTML:J(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),f(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+kr.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)},t.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",zt(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.focus=function(){this.menuButton_.focus()},t.prototype.blur=function(){this.menuButton_.blur()},t.prototype.handleFocus=function(){W(Ve,"keydown",zt(this,this.handleKeyPress))},t.prototype.handleBlur=function(){V(Ve,"keydown",zt(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},t.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Xe&&d())return;this.menu.focus()}},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(en);en.registerComponent("MenuButton",Zr);var ei=function(e){function t(n,r){ft(this,t);var i=r.tracks,o=yt(this,e.call(this,n,r));if(o.items.length<=1&&o.hide(),!i)return yt(o);var a=zt(o,o.update);return i.addEventListener("removetrack",a),i.addEventListener("addtrack",a),o.player_.on("ready",a),o.player_.on("dispose",function(){i.removeEventListener("removetrack",a),i.removeEventListener("addtrack",a)}),o}return gt(t,e),t}(Zr);en.registerComponent("TrackButton",ei);var ti=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.selectable=r.selectable,i.isSelected_=r.selected||!1,i.selected(i.isSelected_),i.selectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitem"),i}return gt(t,e),t.prototype.createEl=function(t,r,i){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",n({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},r),i)},t.prototype.handleClick=function(e){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Cr);en.registerComponent("MenuItem",ti);var ni=function(e){function t(n,r){ft(this,t);var i=r.track,o=n.textTracks();r.label=i.label||i.language||"Unknown",r.selected="showing"===i.mode;var a=yt(this,e.call(this,n,r));a.track=i;var s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.handleTracksChange.apply(a,t)},c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.handleSelectedLanguageChange.apply(a,t)};if(n.on(["loadstart","texttrackchange"],s),o.addEventListener("change",s),o.addEventListener("selectedlanguagechange",c),a.on("dispose",function(){n.off(["loadstart","texttrackchange"],s),o.removeEventListener("change",s),o.removeEventListener("selectedlanguagechange",c)}),void 0===o.onchange){var l=void 0;a.on(["tap","click"],function(){if("object"!==ht(Re.Event))try{l=new Re.Event("change")}catch(e){}l||(l=Ve.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(l)})}return a.handleTracksChange(),a}return gt(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,r=this.track.kinds,i=this.player_.textTracks();if(r||(r=[n]),e.prototype.handleClick.call(this,t),i)for(var o=0;o<i.length;o++){var a=i[o];a===this.track&&r.indexOf(a.kind)>-1?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},t.prototype.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},t.prototype.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},t.prototype.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(ti);en.registerComponent("TextTrackMenuItem",ni);var ri=function(e){function t(n,r){return ft(this,t),r.track={player:n,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,yt(this,e.call(this,n,r))}return gt(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},t.prototype.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(ni);en.registerComponent("OffTextTrackMenuItem",ri);var ii=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ft(this,t),r.tracks=n.textTracks(),yt(this,e.call(this,n,r))}return gt(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ni,n=void 0;this.label_&&(n=this.label_+" off"),e.push(new ri(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var o=r[i];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,selectable:!0});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(ei);en.registerComponent("TextTrackButton",ii);var oi=function(e){function t(n,r){ft(this,t);var i=r.track,o=r.cue,a=n.currentTime();r.selectable=!0,r.label=o.text,r.selected=o.startTime<=a&&a<o.endTime;var s=yt(this,e.call(this,n,r));return s.track=i,s.cue=o,i.addEventListener("cuechange",zt(s,s.update)),s}return gt(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(ti);en.registerComponent("ChaptersTrackMenuItem",oi);var ai=function(e){function t(n,r,i){return ft(this,t),yt(this,e.call(this,n,r,i))}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(J(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],o=new oi(this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(ii);ai.prototype.kind_="chapters",ai.prototype.controlText_="Chapters",en.registerComponent("ChaptersButton",ai);var si=function(e){function t(n,r,i){ft(this,t);var o=yt(this,e.call(this,n,r,i)),a=n.textTracks(),s=zt(o,o.handleTracksChange);return a.addEventListener("change",s),o.on("dispose",function(){a.removeEventListener("change",s)}),o}return gt(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(ii);si.prototype.kind_="descriptions",si.prototype.controlText_="Descriptions",en.registerComponent("DescriptionsButton",si);var ci=function(e){function t(n,r,i){return ft(this,t),yt(this,e.call(this,n,r,i))}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(ii);ci.prototype.kind_="subtitles",ci.prototype.controlText_="Subtitles",en.registerComponent("SubtitlesButton",ci);var li=function(e){function t(n,r){ft(this,t),r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem";var i=yt(this,e.call(this,n,r));return i.addClass("vjs-texttrack-settings"),i.controlText(", opens "+r.kind+" settings dialog"),i}return gt(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(ni);en.registerComponent("CaptionSettingsMenuItem",li);var di=function(e){function t(n,r,i){return ft(this,t),yt(this,e.call(this,n,r,i))}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new li(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(ii);di.prototype.kind_="captions",di.prototype.controlText_="Captions",en.registerComponent("CaptionsButton",di);var ui=function(e){function t(){return ft(this,t),yt(this,e.apply(this,arguments))}return gt(t,e),t.prototype.createEl=function(t,r,i){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),o+="</span>",e.prototype.createEl.call(this,t,n({innerHTML:o},r),i)},t}(ni);en.registerComponent("SubsCapsMenuItem",ui);var pi=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ft(this,t);var i=yt(this,e.call(this,n,r));return i.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(J(i.label_)),i}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new li(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t,ui)},t}(ii);pi.prototype.kinds_=["captions","subtitles"],pi.prototype.controlText_="Subtitles",en.registerComponent("SubsCapsButton",pi);var hi=function(e){function t(n,r){ft(this,t);var i=r.track,o=n.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled;var a=yt(this,e.call(this,n,r));a.track=i;var s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.handleTracksChange.apply(a,t)};return o.addEventListener("change",s),a.on("dispose",function(){o.removeEventListener("change",s)}),a}return gt(t,e),t.prototype.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},t.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(ti);en.registerComponent("AudioTrackMenuItem",hi);var fi=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ft(this,t),r.tracks=n.audioTracks(),yt(this,e.call(this,n,r))}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var r=t[n];e.push(new hi(this.player_,{track:r,selectable:!0}))}return e},t}(ei);fi.prototype.controlText_="Audio Track",en.registerComponent("AudioTrackButton",fi);var gi=function(e){function t(n,r){ft(this,t);var i=r.rate,o=parseFloat(i,10);r.label=i,r.selected=1===o,r.selectable=!0;var a=yt(this,e.call(this,n,r));return a.label=i,a.rate=o,a.on(n,"ratechange",a.update),a}return gt(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(ti);gi.prototype.contentElType="button",en.registerComponent("PlaybackRateMenuItem",gi);var yi=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.updateVisibility(),i.updateLabel(),i.on(n,"loadstart",i.updateVisibility),i.on(n,"ratechange",i.updateLabel),i}return gt(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=p("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},t.prototype.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createMenu=function(){var e=new $r(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new gi(this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>t){r=n[i];break}this.player().playbackRate(r)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(Zr);yi.prototype.controlText_="Playback Rate",en.registerComponent("PlaybackRateMenuButton",yi);var vi=function(e){function t(){return ft(this,t),yt(this,e.apply(this,arguments))}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(en);en.registerComponent("Spacer",vi);var mi=function(e){function t(){return ft(this,t),yt(this,e.apply(this,arguments))}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="",t},t}(vi);en.registerComponent("CustomControlSpacer",mi);var bi=function(e){function t(){return ft(this,t),yt(this,e.apply(this,arguments))}return gt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(en);bi.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},en.registerComponent("ControlBar",bi);var _i=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r));return i.on(n,"error",i.open),i}return gt(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(fn);_i.prototype.options_=X(fn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),en.registerComponent("ErrorDisplay",_i);var Ti=["#000","Black"],Ci=["#00F","Blue"],Ei=["#0FF","Cyan"],wi=["#0F0","Green"],Si=["#F0F","Magenta"],Ai=["#F00","Red"],ki=["#FFF","White"],Ii=["#FF0","Yellow"],Pi=["1","Opaque"],Oi=["0.5","Semi-Transparent"],ji=["0","Transparent"],xi={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ti,ki,Ai,wi,Ci,Ii,Si,Ei]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Pi,Oi,ji]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ki,Ti,Ai,wi,Ci,Ii,Si,Ei]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Pi,Oi]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ji,Oi,Pi]}};xi.windowColor.options=xi.backgroundColor.options;var Di=function(e){function n(r,i){ft(this,n),i.temporary=!1;var o=yt(this,e.call(this,r,i));return o.updateDisplay=zt(o,o.updateDisplay),o.fill(),o.hasBeenOpened_=o.hasBeenFilled_=!0,o.endDialog=p("p",{className:"vjs-control-text",textContent:o.localize("End of dialog window.")}),o.el().appendChild(o.endDialog),o.setDefaults(),void 0===i.persistTextTrackSettings&&(o.options_.persistTextTrackSettings=o.options_.playerOptions.persistTextTrackSettings),o.on(o.$(".vjs-done-button"),"click",function(){o.saveSettings(),o.close()}),o.on(o.$(".vjs-default-button"),"click",function(){o.setDefaults(),o.updateDisplay()}),t(xi,function(e){o.on(o.$(e.selector),"change",o.updateDisplay)}),o.options_.persistTextTrackSettings&&o.restoreSettings(),o}return gt(n,e),n.prototype.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.prototype.createElSelect_=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",i=xi[e],o=i.id.replace("%s",this.id_);return["<"+r+' id="'+o+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(i.label),"</"+r+">",'<select aria-labelledby="'+(""!==n?n+" ":"")+o+'">'].concat(i.options.map(function(e){var r=o+"-"+e[1];return['<option id="'+r+'" value="'+e[0]+'" ','aria-labelledby="'+(""!==n?n+" ":"")+o+" "+r+'">',t.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},n.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.prototype.createElColors_=function(){return p("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.prototype.createElFont_=function(){return p("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return p("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.prototype.label=function(){return this.localize("Caption Settings Dialog")},n.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.prototype.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.prototype.getValues=function(){var e=this;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return bt(e).reduce(function(n,r){return t(n,e[r],r)},n)}(xi,function(t,n,r){var i,o,a=(i=e.$(n.selector),o=n.parser,Pe(i.options[i.options.selectedIndex].value,o));return void 0!==a&&(t[r]=a),t},{})},n.prototype.setValues=function(e){var n=this;t(xi,function(t,r){!function(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(Pe(e.options[r].value,n)===t){e.selectedIndex=r;break}}(n.$(t.selector),e[r],t.parser)})},n.prototype.setDefaults=function(){var e=this;t(xi,function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n})},n.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(Re.localStorage.getItem("vjs-text-track-settings"))}catch(e){wt.warn(e)}e&&this.setValues(e)},n.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?Re.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):Re.localStorage.removeItem("vjs-text-track-settings")}catch(e){wt.warn(e)}}},n.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(Ve,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},n}(fn);en.registerComponent("TextTrackSettings",Di);var Ri=function(e){function t(n,r){ft(this,t);var i=r.ResizeObserver||Re.ResizeObserver;null===r.ResizeObserver&&(i=!1);var o=X({createEl:!i},r),a=yt(this,e.call(this,n,o));return a.ResizeObserver=r.ResizeObserver||Re.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=Vt(function(){a.resizeHandler()},100,!1,n),i?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(n.el())):(a.loadListener_=function(){a.el_.contentWindow&&W(a.el_.contentWindow,"resize",a.debouncedHandler_),a.off("load",a.loadListener_)},a.on("load",a.loadListener_)),a}return gt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},t.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},t.prototype.dispose=function(){this.resizeObserver_&&(this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&V(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},t}(en);en.registerComponent("ResizeManager",Ri);var Ni=vt(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Mi=function(e){function t(n,r){ft(this,t);var i=yt(this,e.call(this,n,r)),o=n.source,a=!1;if(o&&(i.el_.currentSrc!==o.src||n.tag&&3===n.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),i.el_.hasChildNodes()){for(var s=i.el_.childNodes,c=s.length,l=[];c--;){var d=s[c];"track"===d.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(d),i.remoteTextTracks().addTrack(d.track),i.textTracks().addTrack(d.track),a||i.el_.hasAttribute("crossorigin")||!jn(d.src)||(a=!0)):l.push(d))}for(var u=0;u<l.length;u++)i.el_.removeChild(l[u])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&wt.warn(St(Ni)),i.restoreMetadataTracksInIOSNativePlayer_(),(dt||Ke||tt)&&!0===n.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return gt(t,e),t.prototype.dispose=function(){t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},t.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var e=this.textTracks(),t=void 0,n=function(){t=[];for(var n=0;n<e.length;n++){var r=e[n];"metadata"===r.kind&&t.push({track:r,storedMode:r.mode})}};n(),e.addEventListener("change",n),this.on("dispose",function(){return e.removeEventListener("change",n)});var r=function n(){for(var r=0;r<t.length;r++){var i=t[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",n),e.removeEventListener("change",r),e.addEventListener("change",r)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",r)})},t.prototype.proxyNativeTracks_=function(){var e=this;Qn.names.forEach(function(t){var n=Qn[t],r=e.el()[n.getterName],i=e[n.getterName]();if(e["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var o={change:function(e){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<i.length;t++){for(var n=!1,o=0;o<r.length;o++)if(r[o]===i[t]){n=!0;break}n||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};Object.keys(o).forEach(function(t){var n=o[t];r.addEventListener(t,n),e.on("dispose",function(e){return r.removeEventListener(t,n)})}),e.on("loadstart",a),e.on("dispose",function(t){return e.off("loadstart",a)})}})},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),t.disposeMediaElement(e),e=r}else{e=Ve.createElement("video");var i=X({},this.options_.tag&&_(this.options_.tag));dt&&!0===this.options_.nativeControlsForTouch||delete i.controls,b(e,n(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&C(e,"preload",this.options_.preload);for(var o=["loop","muted","playsinline","autoplay"],a=0;a<o.length;a++){var s=o[a],c=this.options_[s];void 0!==c&&(c?C(e,s,s):E(e,s),e[s]=c)}return e},t.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})}},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){wt(e,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===1/0&&$e&&it&&0===this.el_.currentTime){return this.on("timeupdate",function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))}),NaN}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=Re.navigator&&Re.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=Ve.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},t.prototype.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},t.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),Re.performance&&"function"==typeof Re.performance.now?e.creationTime=Re.performance.now():Re.performance&&Re.performance.timing&&"number"==typeof Re.performance.timing.navigationStart&&(e.creationTime=Re.Date.now()-Re.performance.timing.navigationStart),e},t}(fr);if(c()){Mi.TEST_VID=Ve.createElement("video");var Bi=Ve.createElement("track");Bi.kind="captions",Bi.srclang="en",Bi.label="English",Mi.TEST_VID.appendChild(Bi)}Mi.isSupported=function(){try{Mi.TEST_VID.volume=.5}catch(e){return!1}return!(!Mi.TEST_VID||!Mi.TEST_VID.canPlayType)},Mi.canPlayType=function(e){return Mi.TEST_VID.canPlayType(e)},Mi.canPlaySource=function(e,t){return Mi.canPlayType(e.type)},Mi.canControlVolume=function(){try{var e=Mi.TEST_VID.volume;return Mi.TEST_VID.volume=e/2+.1,e!==Mi.TEST_VID.volume}catch(e){return!1}},Mi.canControlPlaybackRate=function(){if($e&&it&&ot<58)return!1;try{var e=Mi.TEST_VID.playbackRate;return Mi.TEST_VID.playbackRate=e/2+.1,e!==Mi.TEST_VID.playbackRate}catch(e){return!1}},Mi.supportsNativeTextTracks=function(){return lt},Mi.supportsNativeVideoTracks=function(){return!(!Mi.TEST_VID||!Mi.TEST_VID.videoTracks)},Mi.supportsNativeAudioTracks=function(){return!(!Mi.TEST_VID||!Mi.TEST_VID.audioTracks)},Mi.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Mi.prototype.featuresVolumeControl=Mi.canControlVolume(),Mi.prototype.featuresPlaybackRate=Mi.canControlPlaybackRate(),Mi.prototype.movingMediaElementInDOM=!Xe,Mi.prototype.featuresFullscreenResize=!0,Mi.prototype.featuresProgressEvents=!0,Mi.prototype.featuresTimeupdateEvents=!0,Mi.prototype.featuresNativeTextTracks=Mi.supportsNativeTextTracks(),Mi.prototype.featuresNativeVideoTracks=Mi.supportsNativeVideoTracks(),Mi.prototype.featuresNativeAudioTracks=Mi.supportsNativeAudioTracks();var Li=Mi.TEST_VID&&Mi.TEST_VID.constructor.prototype.canPlayType,Ui=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,Fi=/^video\/mp4/i;Mi.patchCanPlayType=function(){Ze>=4&&!nt&&!it?Mi.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Ui.test(e)?"maybe":Li.call(this,e)}:et&&(Mi.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Fi.test(e)?"maybe":Li.call(this,e)})},Mi.unpatchCanPlayType=function(){var e=Mi.TEST_VID.constructor.prototype.canPlayType;return Mi.TEST_VID.constructor.prototype.canPlayType=Li,e},Mi.patchCanPlayType(),Mi.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Mi.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Mi.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){Mi.prototype["set"+J(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){Mi.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){Mi.prototype["set"+J(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){Mi.prototype[e]=function(){return this.el_[e]()}}),fr.withSourceHandlers(Mi),Mi.nativeSourceHandler={},Mi.nativeSourceHandler.canPlayType=function(e){try{return Mi.TEST_VID.canPlayType(e)}catch(e){return""}},Mi.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Mi.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=On(e.src);return Mi.nativeSourceHandler.canPlayType("video/"+n)}return""},Mi.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Mi.nativeSourceHandler.dispose=function(){},Mi.registerSourceHandler(Mi.nativeSourceHandler),fr.registerTech("Html5",Mi);var zi=vt(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),Wi=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","resize","volumechange","texttrackchange"],Vi=function(e){function t(r,i,o){if(ft(this,t),r.id=r.id||"vjs_video_"+N(),(i=n(t.getTagSettings(r),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof r.closest){var a=r.closest("[lang]");a&&a.getAttribute&&(i.language=a.getAttribute("lang"))}else for(var s=r;s&&1===s.nodeType;){if(_(s).hasOwnProperty("lang")){i.language=s.getAttribute("lang");break}s=s.parentNode}var c=yt(this,e.call(this,null,i,o));if(c.isReady_=!1,c.hasStarted_=!1,c.userActive_=!1,!c.options_||!c.options_.techOrder||!c.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(c.tag=r,c.tagAttributes=r&&_(r),c.language(c.options_.language),i.languages){var l={};Object.getOwnPropertyNames(i.languages).forEach(function(e){l[e.toLowerCase()]=i.languages[e]}),c.languages_=l}else c.languages_=t.prototype.options_.languages;c.cache_={},c.poster_=i.poster||"",c.controls_=!!i.controls,c.cache_.lastVolume=1,r.controls=!1,r.removeAttribute("controls"),c.scrubbing_=!1,c.el_=c.createEl(),Y(c,{eventBusKey:"el_"});var d=X(c.options_);if(i.plugins){var u=i.plugins;Object.keys(u).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](u[e])},c)}c.options_.playerOptions=d,c.middleware_=[],c.initChildren(),c.isAudio("audio"===r.nodeName.toLowerCase()),c.controls()?c.addClass("vjs-controls-enabled"):c.addClass("vjs-controls-disabled"),c.el_.setAttribute("role","region"),c.isAudio()?c.el_.setAttribute("aria-label",c.localize("Audio Player")):c.el_.setAttribute("aria-label",c.localize("Video Player")),c.isAudio()&&c.addClass("vjs-audio"),c.flexNotSupported_()&&c.addClass("vjs-no-flex"),Xe||c.addClass("vjs-workinghover"),t.players[c.id_]=c;var p=xe.split(".")[0];return c.addClass("vjs-v"+p),c.userActive(!0),c.reportUserActivity(),c.listenForUserActivity_(),c.on("fullscreenchange",c.handleFullscreenChange_),c.on("stageclick",c.handleStageClick_),c.changingSrc_=!1,c.playWaitingForReady_=!1,c.playOnLoadstart_=null,c.forceAutoplayInChrome_(),c}return gt(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),yr[this.id()]=null,e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,n=void 0,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();r?n=this.el_=t.parentNode:i||(n=this.el_=e.prototype.createEl.call(this,"div"));var o=_(t);if(i){for(n=this.el_=t,t=this.tag=Ve.createElement("video");n.children.length;)t.appendChild(n.firstChild);g(n,"video-js")||y(n,"video-js"),n.appendChild(t),r=this.playerElIngest_=n}if(t.setAttribute("tabindex","-1"),t.removeAttribute("width"),t.removeAttribute("height"),Object.getOwnPropertyNames(o).forEach(function(e){"class"===e?(n.className+=" "+o[e],i&&(t.className+=" "+o[e])):(n.setAttribute(e,o[e]),i&&t.setAttribute(e,o[e]))}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),!0!==Re.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Ut("vjs-styles-dimensions");var a=kt(".vjs-styles-defaults"),s=kt("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var c=t.getElementsByTagName("a"),l=0;l<c.length;l++){var d=c.item(l);y(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!r&&t.parentNode.insertBefore(n,t),f(t,n),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_=n,n},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(t);isNaN(r)?wt.error('Improper value "'+t+'" supplied for for '+e):(this[n]=r,this.updateStyleEl_())},t.prototype.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(!0!==Re.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*i,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),Ft(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(o>=0&&(s.width=o),a>=0&&(s.height=a))}},t.prototype.loadTech_=function(e,t){var r=this;this.tech_&&this.unloadTech_();var i=J(e),o=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(fr.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var a={source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]};Zn.names.forEach(function(e){var t=Zn[e];a[t.getterName]=r[t.privateName]}),n(a,this.options_[i]),n(a,this.options_[o]),n(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var s=fr.getTech(e);if(!s)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new s(a),this.tech_.ready(zt(this,this.handleTechReady_),!0),pn(this.textTracksJson_||[],this.tech_),Wi.forEach(function(e){r.on(r.tech_,e,r["handleTech"+J(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||f(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){var e=this;Zn.names.forEach(function(t){var n=Zn[t];e[n.privateName]=e[n.getterName]()}),this.textTracksJson_=un(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){return void 0===e&&wt.warn(St(zi)),this.tech_},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(e){wt("deleting tag.poster throws in some browsers",e)}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(wt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){R(e)&&this.controls_&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){this.ready(function(){if(e in br)return n=this.middleware_,r=this.tech_,o=t,r[i=e](n.reduce(Se(i),o));var n,r,i,o;if(e in _r)return we(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw wt(e),e}},!0)},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in mr)return t=this.middleware_,n=this.tech_,r=e,t.reduceRight(Se(r),n[r]());if(e in _r)return we(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw wt("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw wt("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw wt(t),t}}var t,n,r},t.prototype.play=function(){var e=this;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.playOnLoadstart_=function(){e.playOnLoadstart_=null,re(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,re(e.play())})}},t.prototype.pause=function(){this.techCall_("pause")},t.prototype.paused=function(){return!1!==this.techGet_("paused")},t.prototype.played=function(){return this.techGet_("played")||Z(0,0)},t.prototype.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},t.prototype.currentTime=function(e){return void 0!==e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},t.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=Z(0,0)),e},t.prototype.bufferedPercent=function(){return ee(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?void this.techCall_("setMuted",e):this.techGet_("muted")||!1},t.prototype.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},t.prototype.lastVolume_=function(e){return void 0!==e&&0!==e?void(this.cache_.lastVolume=e):this.cache_.lastVolume},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?void(this.isFullscreen_=!!e):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=tn;this.isFullscreen(!0),e.requestFullscreen?(W(Ve,e.fullscreenchange,zt(this,function t(n){this.isFullscreen(Ve[e.fullscreenElement]),!1===this.isFullscreen()&&V(Ve,e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},t.prototype.exitFullscreen=function(){var e=tn;this.isFullscreen(!1),e.requestFullscreen?Ve[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=Ve.documentElement.style.overflow,W(Ve,"keydown",zt(this,this.fullWindowOnEscKey)),Ve.documentElement.style.overflow="hidden",y(Ve.body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,V(Ve,"keydown",this.fullWindowOnEscKey),Ve.documentElement.style.overflow=this.docOrigOverflow,v(Ve.body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],o=fr.getTech(i);if(o||(o=en.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else wt.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t,n=this,r=this.options_.techOrder.map(function(e){return[e,fr.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(wt.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),i=function(e,t,n){var r=void 0;return e.some(function(e){return t.some(function(t){if(r=n(e,t))return!0})}),r},o=function(e,t){var r=e[0];if(e[1].canPlaySource(t,n.options_[r.toLowerCase()]))return{source:t,tech:r}};return(this.options_.sourceOrder?i(e,r,(t=o,function(e,n){return t(n,e)})):i(r,e,o))||!1},t.prototype.src=function(e){var t=this;if(void 0===e)return this.cache_.src||"";var n=function e(t){if(Array.isArray(t)){var n=[];t.forEach(function(t){t=e(t),Array.isArray(t)?n=n.concat(t):r(t)&&n.push(t)}),t=n}else t="string"==typeof t&&t.trim()?[{src:t}]:r(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[t]:[];return t}(e);n.length?(this.cache_.sources=n,this.changingSrc_=!0,this.cache_.source=n[0],Ee(this,n[0],function(e,r){if(t.middleware_=r,t.src_(e))return n.length>1?t.src(n.slice(1)):(t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady());var i,o;t.changingSrc_=!1,t.cache_.src=e.src,i=r,o=t.tech_,i.forEach(function(e){return e.setTech&&e.setTech(o)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},t.prototype.src_=function(e){var t,n,r=this.selectSource([e]);return!r||(t=r.tech,n=this.techName_,J(t)===J(n)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load()},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),!1))},t.prototype.load=function(){this.techCall_("load")},t.prototype.reset=function(){this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){return this.cache_.source||{}},t.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},t.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,void this.ready(this.forceAutoplayInChrome_)):this.techGet_("autoplay",e)},t.prototype.forceAutoplayInChrome_=function(){this.paused()&&(this.autoplay()||this.options_.autoplay)&&it&&!$e&&this.play()},t.prototype.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},t.prototype.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange")},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},t.prototype.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new te(e),this.addClass("vjs-error"),wt.error("(CODE:"+this.error_.code+" "+te.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=zt(this,this.reportUserActivity);this.on("mousedown",function(){r(),this.clearInterval(e),e=this.setInterval(r,250)}),this.on("mousemove",function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())}),this.on("mouseup",function(t){r(),this.clearInterval(e)}),this.on("keydown",r),this.on("keyup",r);var i=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var e=this.options_.inactivityTimeout;e<=0||(i=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?void this.techCall_("setPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?void(this.isAudio_=!!e):!!this.isAudio_},t.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).track,t=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(t)},t.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},t.prototype.languages=function(){return X(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=X(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];(r=X(r)).player=void 0,e.tracks[n]=r}return e},t.prototype.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var r=new fn(this,t);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open(),r},t.getTagSettings=function(e){var t={sources:[],tracks:[]},r=_(e),i=r["data-setup"];if(g(e,"vjs-fluid")&&(r.fluid=!0),null!==i){var o=ln(i||"{}"),a=o[0],s=o[1];a&&wt.error(a),n(r,s)}if(n(t,r),e.hasChildNodes())for(var c=e.childNodes,l=0,d=c.length;l<d;l++){var u=c[l],p=u.nodeName.toLowerCase();"source"===p?t.sources.push(_(u)):"track"===p&&t.tracks.push(_(u))}return t},t.prototype.flexNotSupported_=function(){var e=Ve.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(en);Zn.names.forEach(function(e){var t=Zn[e];Vi.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),Vi.players={};var qi=Re.navigator;Vi.prototype.options_={techOrder:fr.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:qi&&(qi.languages&&qi.languages[0]||qi.userLanguage||qi.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},at||Vi.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach(function(e){Vi.prototype[e]=function(){return this.techGet_(e)}}),Wi.forEach(function(e){Vi.prototype["handleTech"+J(e)+"_"]=function(){return this.trigger(e)}}),en.registerComponent("Player",Vi);var Hi={},Gi=function(e){return Hi.hasOwnProperty(e)},Yi=function(e){return Gi(e)?Hi[e]:void 0},Ki=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},Ji=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},Xi=function(e,t){return t.prototype.name=e,function(){Ji(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=new(Function.prototype.bind.apply(t,[null].concat([this].concat(r))));return this[e]=function(){return o},Ji(this,o.getEventHash()),o}},Qi=function(){function e(t){if(ft(this,e),this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,Y(this),delete this.trigger,K(this,this.constructor.defaultState),Ki(t,this.name),this.dispose=zt(this,this.dispose),t.on("dispose",this.dispose)}return e.prototype.version=function(){return this.constructor.VERSION},e.prototype.getEventHash=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},e.prototype.trigger=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return q(this.eventBusEl_,e,this.getEventHash(t))},e.prototype.handleStateChanged=function(e){},e.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=Xi(e,Hi[e])},e.isBasic=function(t){var n="string"==typeof t?Yi(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(void 0===t?"undefined":ht(t))+".");if(Gi(t))wt.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Vi.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(void 0===n?"undefined":ht(n))+".");return Hi[t]=n,"plugin"!==t&&(e.isBasic(n)?Vi.prototype[t]=(r=t,i=n,o=function(){Ji(this,{name:r,plugin:i,instance:null},!0);var e=i.apply(this,arguments);return Ki(this,r),Ji(this,{name:r,plugin:i,instance:e}),e},Object.keys(i).forEach(function(e){o[e]=i[e]}),o):Vi.prototype[t]=Xi(t,n)),n;var r,i,o},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");Gi(e)&&(delete Hi[e],delete Vi.prototype[e])},e.getPlugins=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(Hi),t=void 0;return e.forEach(function(e){var n=Yi(e);n&&((t=t||{})[e]=n)}),t},e.getPluginVersion=function(e){var t=Yi(e);return t&&t.VERSION||""},e}();Qi.getPlugin=Yi,Qi.BASE_PLUGIN_NAME="plugin",Qi.registerPlugin("plugin",Qi),Vi.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},Vi.prototype.hasPlugin=function(e){return!!Gi(e)};"undefined"==typeof HTMLVideoElement&&c()&&(Ve.createElement("video"),Ve.createElement("audio"),Ve.createElement("track"),Ve.createElement("video-js"));var $i=function(e){return 0===e.indexOf("#")?e.slice(1):e};if(Oe.hooks_={},Oe.hooks=function(e,t){return Oe.hooks_[e]=Oe.hooks_[e]||[],t&&(Oe.hooks_[e]=Oe.hooks_[e].concat(t)),Oe.hooks_[e]},Oe.hook=function(e,t){Oe.hooks(e,t)},Oe.hookOnce=function(e,t){Oe.hooks(e,[].concat(t).map(function(t){return function n(){return Oe.removeHook(e,n),t.apply(void 0,arguments)}}))},Oe.removeHook=function(e,t){var n=Oe.hooks(e).indexOf(t);return!(n<=-1||(Oe.hooks_[e]=Oe.hooks_[e].slice(),Oe.hooks_[e].splice(n,1),0))},!0!==Re.VIDEOJS_NO_DYNAMIC_STYLE&&c()){var Zi=kt(".vjs-styles-defaults");if(!Zi){Zi=Ut("vjs-styles-defaults");var eo=kt("head");eo&&eo.insertBefore(Zi,eo.firstChild),Ft(Zi,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return G(1,Oe),Oe.VERSION=xe,Oe.options=Vi.prototype.options_,Oe.getPlayers=function(){return Vi.players},Oe.getPlayer=function(e){var t=Vi.players,n=void 0;if("string"==typeof e){var r=$i(e),i=t[r];if(i)return i;n=kt("#"+r)}else n=e;if(l(n)){var o=n,a=o.player,s=o.playerId;if(a||t[s])return a||t[s]}},Oe.getAllPlayers=function(){return Object.keys(Vi.players).map(function(e){return Vi.players[e]}).filter(Boolean)},Oe.players=Vi.players,Oe.getComponent=en.getComponent,Oe.registerComponent=function(e,t){fr.isTech(t)&&wt.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),en.registerComponent.call(en,e,t)},Oe.getTech=fr.getTech,Oe.registerTech=fr.registerTech,Oe.use=function(e,t){gr[e]=gr[e]||[],gr[e].push(t)},!at&&Object.defineProperty?(Object.defineProperty(Oe,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Oe.middleware,"TERMINATOR",{value:vr,writeable:!1,enumerable:!0})):Oe.middleware={TERMINATOR:vr},Oe.browser=pt,Oe.TOUCH_ENABLED=dt,Oe.extend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){e.apply(this,arguments)},r={};for(var i in"object"===(void 0===t?"undefined":ht(t))?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":ht(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)}(n,e),r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n},Oe.mergeOptions=X,Oe.bind=zt,Oe.registerPlugin=Qi.registerPlugin,Oe.plugin=function(e,t){return wt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Qi.registerPlugin(e,t)},Oe.getPlugins=Qi.getPlugins,Oe.getPlugin=Qi.getPlugin,Oe.getPluginVersion=Qi.getPluginVersion,Oe.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),Oe.options.languages=X(Oe.options.languages,((n={})[e]=t,n)),Oe.options.languages[e]},Oe.log=wt,Oe.createTimeRange=Oe.createTimeRanges=Z,Oe.formatTime=Ie,Oe.parseUrl=Pn,Oe.isCrossOrigin=jn,Oe.EventTarget=qt,Oe.on=W,Oe.one=H,Oe.off=V,Oe.trigger=q,Oe.xhr=Wn,Oe.TextTrack=Hn,Oe.AudioTrack=Gn,Oe.VideoTrack=Yn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){Oe[e]=function(){return wt.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Pt[e].apply(null,arguments)}}),Oe.computedStyle=o,Oe.dom=Pt,Oe.url=xn,Oe}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):e.videojsContribAds=t(e.videojs)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t=function(e,t){t.isImmediatePropagationStopped=function(){return!0},t.cancelBubble=!0,t.isPropagationStopped=function(){return!0}},n=function(e,n,r){t(0,r),e.trigger({type:n+r.type,originalEvent:r})},r=function(e,r){e.ads.isInAdMode()&&(e.ads.isContentResuming()?e.ads._contentEnding&&n(e,"content",r):e.ads._cancelledPlay?t(0,r):n(e,"ad",r))},i=function(e,t){if(e.ads.isInAdMode()){if(e.ads.isContentResuming())return;n(e,"ad",t)}else e.ads._contentHasEnded||n(e,"content",t)},o=function(e,t){if(!("loadstart"===t.type&&!e.ads._hasThereBeenALoadStartDuringPlayerLife||"loadeddata"===t.type&&!e.ads._hasThereBeenALoadedData||"loadedmetadata"===t.type&&!e.ads._hasThereBeenALoadedMetaData))if(e.ads.inAdBreak())n(e,"ad",t);else{if(e.currentSrc()!==e.ads.contentSrc)return;n(e,"content",t)}},a=function(e,t){var r=e.ads._cancelledPlay&&!e.ads.isInAdMode();e.ads.inAdBreak()?n(e,"ad",t):(e.ads.isContentResuming()||r)&&n(e,"content",t)};function s(e){"playing"===e.type?r(this,e):"ended"===e.type?i(this,e):"loadstart"===e.type||"loadeddata"===e.type||"loadedmetadata"===e.type?o(this,e):"play"===e.type?a(this,e):this.ads.isInAdMode()&&(this.ads.isContentResuming()?n(this,"content",e):n(this,"ad",e))}var c,l="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d="undefined"!=typeof window?window:void 0!==l?l:"undefined"!=typeof self?self:{},u={},p=(Object.freeze||Object)({default:u}),h=p&&u||p,f=void 0!==l?l:"undefined"!=typeof window?window:{};"undefined"!=typeof document?c=document:(c=f["__GLOBAL_DOCUMENT_CACHE@4"])||(c=f["__GLOBAL_DOCUMENT_CACHE@4"]=h);var g=c,y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=("function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator,function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),m=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},b=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},_=function(e,t){return t?encodeURIComponent(e):e},T=function(e,t,n){if(e&&e[n])for(var r=e[n],i=Object.keys(r),o=0;o<i.length;o++)t["{mediainfo."+n+"."+i[o]+"}"]=r[i[o]]},C={processMetadataTracks:function(e,t){for(var n=e.textTracks(),r=function(n){"metadata"===n.kind&&(e.ads.cueTextTracks.setMetadataTrackMode(n),t(e,n))},i=0;i<n.length;i++)r(n[i]);n.addEventListener("addtrack",function(e){r(e.track)})},setMetadataTrackMode:function(e){},getSupportedAdCue:function(e,t){return t},isSupportedAdCue:function(e,t){return!0},getCueId:function(e,t){return t.id},processAdTrack:function(t,n,r,i){t.ads.includedCues={};for(var o=0;o<n.length;o++){var a=n[o],s=this.getSupportedAdCue(t,a);if(!this.isSupportedAdCue(t,a))return void e.log.warn("Skipping as this is not a supported ad cue.",a);var c=this.getCueId(t,a),l=a.startTime;if(void 0!==(u=c)&&t.ads.includedCues[u])return void e.log("Skipping ad already seen with ID "+c);i&&i(t,s,c,l),r(t,s,c,l),void 0!==(d=c)&&""!==d&&(t.ads.includedCues[d]=!0)}var d,u}},E=function(){function t(e){v(this,t),this.player=e}return t.prototype.transitionTo=function(e){var t=this.player;this.cleanup();var n=new e(t);t.ads._state=n,t.ads.debug(this.constructor.name+" -> "+n.constructor.name);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];n.init.apply(n,[t].concat(i))},t.prototype.init=function(){},t.prototype.cleanup=function(){},t.prototype.onPlay=function(){},t.prototype.onPlaying=function(){},t.prototype.onEnded=function(){},t.prototype.onAdsReady=function(){e.log.warn("Unexpected adsready event")},t.prototype.onAdsError=function(){},t.prototype.onAdsCanceled=function(){},t.prototype.onAdTimeout=function(){},t.prototype.onAdStarted=function(){},t.prototype.onContentChanged=function(){},t.prototype.onContentResumed=function(){},t.prototype.onContentEnded=function(){e.log.warn("Unexpected contentended event")},t.prototype.onNoPreroll=function(){},t.prototype.onNoPostroll=function(){},t.prototype.startLinearAdMode=function(){e.log.warn("Unexpected startLinearAdMode invocation (State via "+this.constructor.name+")")},t.prototype.endLinearAdMode=function(){e.log.warn("Unexpected endLinearAdMode invocation (State via "+this.constructor.name+")")},t.prototype.skipLinearAdMode=function(){e.log.warn("Unexpected skipLinearAdMode invocation (State via "+this.constructor.name+")")},t.prototype.isAdState=function(){throw new Error("isAdState unimplemented for "+this.constructor.name)},t.prototype.isContentResuming=function(){return!1},t.prototype.inAdBreak=function(){return!1},t.prototype.handleEvent=function(e){var t=this.player;"play"===e?this.onPlay(t):"adsready"===e?this.onAdsReady(t):"adserror"===e?this.onAdsError(t):"adscanceled"===e?this.onAdsCanceled(t):"adtimeout"===e?this.onAdTimeout(t):"ads-ad-started"===e?this.onAdStarted(t):"contentchanged"===e?this.onContentChanged(t):"contentresumed"===e?this.onContentResumed(t):"contentended"===e?this.onContentEnded(t):"playing"===e?this.onPlaying(t):"ended"===e?this.onEnded(t):"nopreroll"===e?this.onNoPreroll(t):"nopostroll"===e&&this.onNoPostroll(t)},t}(),w=function(e){function t(n){v(this,t);var r=b(this,e.call(this,n));return r.contentResuming=!1,r}return m(t,e),t.prototype.isAdState=function(){return!0},t.prototype.onPlaying=function(){this.contentResuming&&this.transitionTo(D)},t.prototype.onContentResumed=function(){this.contentResuming&&this.transitionTo(D)},t.prototype.isContentResuming=function(){return this.contentResuming},t.prototype.inAdBreak=function(){return!0===this.player.ads._inLinearAdMode},t}(E),S=function(e){function t(){return v(this,t),b(this,e.apply(this,arguments))}return m(t,e),t.prototype.isAdState=function(){return!1},t.prototype.onContentChanged=function(e){e.ads.debug("Received contentchanged event (ContentState)"),e.paused()?this.transitionTo(x):(this.transitionTo(P,!1),e.pause(),e.ads._pausedOnContentupdate=!0)},t}(E);function A(e){e.ads.cancelPlayTimeout||(e.ads.cancelPlayTimeout=e.setTimeout(function(){e.ads.cancelPlayTimeout=null,e.ads.isInAdMode()&&(e.paused()||e.pause(),e.ads._cancelledPlay=!0)},1))}var k=function(t){t.ads.debug("Starting ad break"),t.ads._inLinearAdMode=!0,t.trigger("adstart"),t.ads.shouldPlayContentBehindAd(t)||(t.ads.snapshot=function(t){var n;n=e.browser.IS_IOS&&t.ads.isLive(t)&&t.seekable().length>0?t.currentTime()-t.seekable().end(0):t.currentTime();var r=t.$(".vjs-tech"),i=t.textTracks?t.textTracks():[],o=[],a={ended:t.ended(),currentSrc:t.currentSrc(),src:t.tech_.src(),currentTime:n,type:t.currentType()};r&&(a.nativePoster=r.poster,a.style=r.getAttribute("style"));for(var s=0;s<i.length;s++){var c=i[s];o.push({track:c,mode:c.mode}),c.mode="disabled"}return a.suppressedTracks=o,a}(t)),t.ads.shouldPlayContentBehindAd(t)&&(t.ads.preAdVolume_=t.volume(),t.volume(0)),t.addClass("vjs-ad-playing"),t.hasClass("vjs-live")&&t.removeClass("vjs-live"),t.ads.removeNativePoster()},I=function(t){t.ads.debug("Ending ad break"),t.ads.adType=null,t.ads._inLinearAdMode=!1,t.trigger("adend"),t.removeClass("vjs-ad-playing"),t.ads.isLive(t)&&t.addClass("vjs-live"),t.ads.shouldPlayContentBehindAd(t)||function(t,n){if(!0!==t.ads.disableNextSnapshotRestore){var r=t.$(".vjs-tech"),i=20,o=n.suppressedTracks,a=void 0,s=function(){for(var e=0;e<o.length;e++)(a=o[e]).track.mode=a.mode},c=function(){var r=void 0;e.browser.IS_IOS&&t.ads.isLive(t)?n.currentTime<0&&(r=t.seekable().length>0?t.seekable().end(0)+n.currentTime:t.currentTime(),t.currentTime(r)):n.ended?t.currentTime(t.duration()):t.currentTime(n.currentTime),n.ended||t.play(),t.ads.shouldRemoveAutoplay_&&(t.autoplay(!1),t.ads.shouldRemoveAutoplay_=!1)},l=function n(){if(t.off("contentcanplay",n),t.ads.tryToResumeTimeout_&&(t.clearTimeout(t.ads.tryToResumeTimeout_),t.ads.tryToResumeTimeout_=null),(r=t.el().querySelector(".vjs-tech")).readyState>1)return c();if(void 0===r.seekable)return c();if(r.seekable.length>0)return c();if(i--)t.setTimeout(n,50);else try{c()}catch(t){e.log.warn("Failed to resume the content after an advertisement",t)}};n.nativePoster&&(r.poster=n.nativePoster),"style"in n&&r.setAttribute("style",n.style||""),t.ads.videoElementRecycled()?(t.one("contentloadedmetadata",s),e.browser.IS_IOS&&!t.autoplay()&&(t.autoplay(!0),t.ads.shouldRemoveAutoplay_=!0),t.src({src:n.currentSrc,type:n.type}),t.one("contentcanplay",l),t.ads.tryToResumeTimeout_=t.setTimeout(l,2e3)):(s(),t.ended()||t.play())}else t.ads.disableNextSnapshotRestore=!1}(t,t.ads.snapshot),t.ads.shouldPlayContentBehindAd(t)&&t.volume(t.ads.preAdVolume_)},P=function(t){function n(){return v(this,n),b(this,t.apply(this,arguments))}return m(n,t),n.prototype.init=function(e,t){e.addClass("vjs-ad-loading");var n=e.ads.settings.timeout;"number"==typeof e.ads.settings.prerollTimeout&&(n=e.ads.settings.prerollTimeout),this._timeout=e.setTimeout(function(){e.trigger("adtimeout")},n),t?this.handleAdsReady():this.adsReady=!1},n.prototype.onAdsReady=function(t){t.ads.inAdBreak()||t.ads.isContentResuming()?e.log.warn("Unexpected adsready event (Preroll)"):(t.ads.debug("Received adsready event (Preroll)"),this.handleAdsReady())},n.prototype.handleAdsReady=function(){this.adsReady=!0,this.player.ads.nopreroll_?this.noPreroll():this.readyForPreroll()},n.prototype.afterLoadStart=function(e){var t=this.player;t.ads._hasThereBeenALoadStartDuringPlayerLife?e():(t.ads.debug("Waiting for loadstart..."),t.one("loadstart",function(){t.ads.debug("Received loadstart event"),e()}))},n.prototype.noPreroll=function(){var e=this;this.afterLoadStart(function(){e.player.ads.debug("Skipping prerolls due to nopreroll event (Preroll)"),e.transitionTo(D)})},n.prototype.readyForPreroll=function(){var e=this.player;this.afterLoadStart(function(){e.ads.debug("Triggered readyforpreroll event (Preroll)"),e.trigger("readyforpreroll")})},n.prototype.onPlay=function(e){e.ads.debug("Received play event (Preroll)"),this.inAdBreak()||this.isContentResuming()||A(this.player)},n.prototype.onAdsCanceled=function(e){var t=this;e.ads.debug("adscanceled (Preroll)"),this.afterLoadStart(function(){t.transitionTo(D)})},n.prototype.onAdsError=function(t){var n=this;e.log("adserror (Preroll)"),this.inAdBreak()&&t.ads.endLinearAdMode(),this.afterLoadStart(function(){n.transitionTo(D)})},n.prototype.startLinearAdMode=function(){var t=this.player;!this.adsReady||t.ads.inAdBreak()||this.isContentResuming()?e.log.warn("Unexpected startLinearAdMode invocation (Preroll)"):(t.clearTimeout(this._timeout),t.ads.adType="preroll",k(t))},n.prototype.onAdStarted=function(e){e.removeClass("vjs-ad-loading")},n.prototype.endLinearAdMode=function(){var e=this.player;this.inAdBreak()&&(e.removeClass("vjs-ad-loading"),I(e),this.contentResuming=!0)},n.prototype.skipLinearAdMode=function(){var t=this,n=this.player;n.ads.inAdBreak()||this.isContentResuming()?e.log.warn("Unexpected skipLinearAdMode invocation"):this.afterLoadStart(function(){n.trigger("adskip"),n.ads.debug("skipLinearAdMode (Preroll)"),t.transitionTo(D)})},n.prototype.onAdTimeout=function(e){var t=this;this.afterLoadStart(function(){e.ads.debug("adtimeout (Preroll)"),t.transitionTo(D)})},n.prototype.onNoPreroll=function(t){t.ads.inAdBreak()||this.isContentResuming()?e.log.warn("Unexpected nopreroll event (Preroll)"):this.noPreroll()},n.prototype.cleanup=function(){var t=this.player;t.ads._hasThereBeenALoadStartDuringPlayerLife||e.log.warn("Leaving Preroll state before loadstart event can cause issues."),t.removeClass("vjs-ad-loading"),t.clearTimeout(this._timeout)},n}(w),O=function(e){function t(){return v(this,t),b(this,e.apply(this,arguments))}return m(t,e),t.prototype.init=function(e){e.ads.adType="midroll",k(e)},t.prototype.endLinearAdMode=function(){var e=this.player;this.inAdBreak()&&(this.contentResuming=!0,I(e))},t.prototype.onAdsError=function(e){this.inAdBreak()&&e.ads.endLinearAdMode()},t}(w),j=function(t){function n(){return v(this,n),b(this,t.apply(this,arguments))}return m(n,t),n.prototype.init=function(e){var t=this;if(e.ads._contentEnding=!0,e.ads.nopostroll_)e.setTimeout(function(){e.ads.debug("Triggered ended event (no postroll)"),t.contentResuming=!0,e.trigger("ended")},1);else{e.addClass("vjs-ad-loading");var n=e.ads.settings.timeout;"number"==typeof e.ads.settings.postrollTimeout&&(n=e.ads.settings.postrollTimeout),this._postrollTimeout=e.setTimeout(function(){e.trigger("adtimeout")},n)}},n.prototype.startLinearAdMode=function(){var t=this.player;t.ads.inAdBreak()||this.isContentResuming()?e.log.warn("Unexpected startLinearAdMode invocation (Postroll)"):(t.ads.adType="postroll",t.clearTimeout(this._postrollTimeout),k(t))},n.prototype.onAdStarted=function(e){e.removeClass("vjs-ad-loading")},n.prototype.endLinearAdMode=function(){var e=this.player;this.inAdBreak()&&(e.removeClass("vjs-ad-loading"),I(e),this.contentResuming=!0,e.ads.debug("Triggered ended event (endLinearAdMode)"),e.trigger("ended"))},n.prototype.skipLinearAdMode=function(){var t=this.player;t.ads.inAdBreak()||this.isContentResuming()?e.log.warn("Unexpected skipLinearAdMode invocation"):(t.ads.debug("Postroll abort (skipLinearAdMode)"),t.trigger("adskip"),this.abort())},n.prototype.onAdTimeout=function(e){e.ads.debug("Postroll abort (adtimeout)"),this.abort()},n.prototype.onAdsError=function(e){e.ads.debug("Postroll abort (adserror)"),e.ads.inAdBreak()&&e.ads.endLinearAdMode(),this.abort()},n.prototype.onEnded=function(){this.isContentResuming()?this.transitionTo(R):e.log.warn("Unexpected ended event during postroll")},n.prototype.onContentChanged=function(e){this.isContentResuming()?this.transitionTo(x):this.inAdBreak()||this.transitionTo(P)},n.prototype.onNoPostroll=function(t){this.isContentResuming()||this.inAdBreak()?e.log.warn("Unexpected nopostroll event (Postroll)"):this.transitionTo(R)},n.prototype.abort=function(){var e=this.player;this.contentResuming=!0,e.removeClass("vjs-ad-loading"),e.ads.debug("Triggered ended event (postroll abort)"),e.trigger("ended")},n.prototype.cleanup=function(){var e=this.player;e.clearTimeout(this._postrollTimeout),e.ads._contentEnding=!1},n}(w),x=function(e){function t(){return v(this,t),b(this,e.apply(this,arguments))}return m(t,e),t.prototype.init=function(e){this.adsReady=!1},t.prototype.onAdsReady=function(e){e.ads.debug("Received adsready event (BeforePreroll)"),this.adsReady=!0},t.prototype.onPlay=function(e){e.ads.debug("Received play event (BeforePreroll)"),A(e),this.transitionTo(P,this.adsReady)},t.prototype.onAdsCanceled=function(e){e.ads.debug("adscanceled (BeforePreroll)"),this.transitionTo(D)},t.prototype.onAdsError=function(){this.transitionTo(D)},t.prototype.onNoPreroll=function(){this.player.ads.debug("Skipping prerolls due to nopreroll event (BeforePreroll)"),this.transitionTo(D)},t.prototype.skipLinearAdMode=function(){this.player.trigger("adskip"),this.transitionTo(D)},t.prototype.onContentChanged=function(){},t}(S),D=function(e){function t(){return v(this,t),b(this,e.apply(this,arguments))}return m(t,e),t.prototype.init=function(e){e.paused()&&(e.ads._cancelledPlay||e.ads._pausedOnContentupdate)&&e.play()},t.prototype.onAdsReady=function(e){e.ads.debug("Received adsready event (ContentPlayback)"),e.ads.nopreroll_||(e.ads.debug("Triggered readyforpreroll event (ContentPlayback)"),e.trigger("readyforpreroll"))},t.prototype.onContentEnded=function(e){e.ads.debug("Received contentended event"),this.transitionTo(j)},t.prototype.startLinearAdMode=function(){this.transitionTo(O)},t}(S),R=function(t){function n(){return v(this,n),b(this,t.apply(this,arguments))}return m(n,t),n.prototype.init=function(e){e.ads._contentHasEnded=!0},n.prototype.startLinearAdMode=function(){e.log.warn("Unexpected startLinearAdMode invocation (AdsDone)")},n}(S),N=e.getTech("Html5").Events,M={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1},B=function(t){var n,r=this,i=e.mergeOptions(M,t),o=N.concat(["firstplay","loadedalldata","playing"]);r.on(o,s),r.setTimeout(function(){r.ads._hasThereBeenALoadStartDuringPlayerLife||""===r.src()||e.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see https://github.com/videojs/videojs-contrib-ads#important-note-about-initialization")},5e3),r.on("ended",function(){r.hasClass("vjs-has-started")||r.addClass("vjs-has-started")}),r.on(["addurationchange","adcanplay"],function(){r.ads.snapshot&&r.currentSrc()===r.ads.snapshot.currentSrc||r.ads.inAdBreak()&&r.play()}),r.on("nopreroll",function(){r.ads.debug("Received nopreroll event"),r.ads.nopreroll_=!0}),r.on("nopostroll",function(){r.ads.debug("Received nopostroll event"),r.ads.nopostroll_=!0}),r.on("playing",function(){r.ads._cancelledPlay=!1,r.ads._pausedOnContentupdate=!1}),r.one("loadstart",function(){r.ads._hasThereBeenALoadStartDuringPlayerLife=!0}),r.on("loadeddata",function(){r.ads._hasThereBeenALoadedData=!0}),r.on("loadedmetadata",function(){r.ads._hasThereBeenALoadedMetaData=!0}),r.ads={settings:i,disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,adType:null,VERSION:"__VERSION__",reset:function(){r.ads.disableNextSnapshotRestore=!1,r.ads._contentEnding=!1,r.ads._contentHasEnded=!1,r.ads.snapshot=null,r.ads.adType=null,r.ads._hasThereBeenALoadedData=!1,r.ads._hasThereBeenALoadedMetaData=!1,r.ads._cancelledPlay=!1,r.ads.nopreroll_=!1,r.ads.nopostroll_=!1},startLinearAdMode:function(){r.ads._state.startLinearAdMode()},endLinearAdMode:function(){r.ads._state.endLinearAdMode()},skipLinearAdMode:function(){r.ads._state.skipLinearAdMode()},stitchedAds:function(e){return void 0!==e&&(this._stitchedAds=!!e),this._stitchedAds},videoElementRecycled:function(){if(r.ads.shouldPlayContentBehindAd(r))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var e=r.tech_.src()!==this.snapshot.src,t=r.currentSrc()!==this.snapshot.currentSrc;return e||t},isLive:function(t){return t.duration()===1/0||"8"===e.browser.IOS_VERSION&&0===t.duration()},shouldPlayContentBehindAd:function(t){return!e.browser.IS_IOS&&!e.browser.IS_ANDROID&&t.duration()===1/0},isInAdMode:function(){return this._state.isAdState()},isContentResuming:function(){return this._state.isContentResuming()},isAdPlaying:function(){return this._state.inAdBreak()},inAdBreak:function(){return this._state.inAdBreak()},removeNativePoster:function(){var e=r.$(".vjs-tech");e&&e.removeAttribute("poster")},debug:function(){if(this.settings.debug){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];1===n.length&&"string"==typeof n[0]?e.log("ADS: "+n[0]):e.log.apply(e,["ADS:"].concat(n))}}},r.ads._state=new x(r),r.ads.stitchedAds(i.stitchedAds),r.ads.cueTextTracks=C,r.ads.adMacroReplacement=function(t,n,r){void 0===n&&(n=!1);var i={};for(var o in void 0!==r&&(i=r),i["{player.id}"]=this.options_["data-player"],i["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",i["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",i["{mediainfo.description}"]=this.mediainfo?this.mediainfo.description:"",i["{mediainfo.tags}"]=this.mediainfo?this.mediainfo.tags:"",i["{mediainfo.reference_id}"]=this.mediainfo?this.mediainfo.reference_id:"",i["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"",i["{mediainfo.ad_keys}"]=this.mediainfo?this.mediainfo.ad_keys:"",i["{player.duration}"]=this.duration(),i["{timestamp}"]=(new Date).getTime(),i["{document.referrer}"]=g.referrer,i["{window.location.href}"]=d.location.href,i["{random}"]=Math.floor(1e12*Math.random()),T(this.mediainfo,i,"custom_fields"),T(this.mediainfo,i,"customFields"),i)t=t.split(o).join(_(i[o],n));return t.replace(/{pageVariable\.([^}]+)}/g,function(t,r){for(var i=void 0,o=d,a=r.split("."),s=0;s<a.length;s++)s===a.length-1?i=o[a[s]]:o=o[a[s]];var c=void 0===i?"undefined":y(i);return null===i?"null":void 0===i?(e.log.warn('Page variable "'+r+'" not found'),""):"string"!==c&&"number"!==c&&"boolean"!==c?(e.log.warn('Page variable "'+r+'" is not a supported type'),""):_(String(i),n)})}.bind(r),(n=r).ads.contentSrc=n.currentSrc(),n.ads._seenInitialLoadstart=!1,n.on("loadstart",function(){if(!n.ads.inAdBreak()){var e=n.currentSrc();e!==n.ads.contentSrc&&(n.ads._seenInitialLoadstart&&n.trigger({type:"contentchanged"}),n.trigger({type:"contentupdate",oldValue:n.ads.contentSrc,newValue:e}),n.ads.contentSrc=e),n.ads._seenInitialLoadstart=!0}}),r.on("contentchanged",r.ads.reset);var a=function(){var t=r.textTracks();if(!r.ads.shouldPlayContentBehindAd(r)&&r.ads.inAdBreak()&&r.tech_.featuresNativeTextTracks&&e.browser.IS_IOS&&!Array.isArray(r.textTracks()))for(var n=0;n<t.length;n++){var i=t[n];"showing"===i.mode&&(i.mode="disabled")}};r.ready(function(){r.textTracks().addEventListener("change",a)}),r.on(["play","playing","ended","adsready","adscanceled","adskip","adserror","adtimeout","ads-ad-started","contentchanged","contentresumed","contentended","nopreroll","nopostroll"],function(e){r.ads._state.handleEvent(e.type)}),r.on("dispose",function(){r.textTracks().removeEventListener("change",a)})};return(e.registerPlugin||e.plugin)("ads",B),B}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):t(e.videojs)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t=function(e,t,n){this.vjsPlayer=e,this.controller=n,this.contentTrackingTimer=null,this.contentComplete=!1,this.updateTimeIntervalHandle=null,this.updateTimeInterval=1e3,this.seekCheckIntervalHandle=null,this.seekCheckInterval=1e3,this.resizeCheckIntervalHandle=null,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentEndedListeners=[],this.contentSource="",this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.vjsPlayerDimensions={width:this.getPlayerWidth(),height:this.getPlayerHeight()},this.vjsControls=this.vjsPlayer.getChild("controlBar"),this.h5Player=null,this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this)),this.boundContentEndedListener=this.localContentEndedListener.bind(this),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("readyforpreroll",this.onReadyForPreroll.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),this.vjsPlayer.ads(t)};t.prototype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval),this.seekCheckIntervalHandle=setInterval(this.checkForSeeking.bind(this),this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(this.checkForResize.bind(this),this.resizeCheckInterval)},t.prototype.updateCurrentTime=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.vjsPlayer.currentTime())},t.prototype.checkForSeeking=function(){var e=1e3*(this.vjsPlayer.currentTime()-this.contentPlayheadTracker.previousTime);Math.abs(e)>this.seekCheckInterval+this.seekThreshold?this.contentPlayheadTracker.seeking=!0:this.contentPlayheadTracker.seeking=!1,this.contentPlayheadTracker.previousTime=this.vjsPlayer.currentTime()},t.prototype.checkForResize=function(){var e=this.getPlayerWidth(),t=this.getPlayerHeight();e==this.vjsPlayerDimensions.width&&t==this.vjsPlayerDimensions.height||(this.vjsPlayerDimensions.width=e,this.vjsPlayerDimensions.height=t,this.controller.onPlayerResize(e,t))},t.prototype.localContentEndedListener=function(){for(var e in this.contentComplete||(this.contentComplete=!0,this.controller.onContentComplete()),this.contentEndedListeners)"function"==typeof this.contentEndedListeners[e]&&this.contentEndedListeners[e]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.vjsPlayer.el()&&this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this))},t.prototype.onNoPostroll=function(){this.vjsPlayer.trigger("nopostroll")},t.prototype.playerDisposedListener=function(){this.contentEndedListeners=[],this.controller.onPlayerDisposed(),this.contentComplete=!0,this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);var e=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(var t in e)e[t]&&clearInterval(e[t])},t.prototype.onReadyForPreroll=function(){this.controller.onPlayerReadyForPreroll()},t.prototype.onPlayerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0],this.h5Player.hasAttribute("autoplay")&&this.controller.setSetting("adWillAutoPlay",!0),this.onVolumeChange(),this.vjsPlayer.on("fullscreenchange",this.onFullscreenChange.bind(this)),this.vjsPlayer.on("volumechange",this.onVolumeChange.bind(this)),this.controller.onPlayerReady()},t.prototype.onFullscreenChange=function(){this.vjsPlayer.isFullscreen()?this.controller.onPlayerEnterFullscreen():this.controller.onPlayerExitFullscreen()},t.prototype.onVolumeChange=function(){var e=this.vjsPlayer.muted()?0:this.vjsPlayer.volume();this.controller.onPlayerVolumeChanged(e)},t.prototype.injectAdContainerDiv=function(e){this.vjsControls.el().parentNode.appendChild(e)},t.prototype.getContentPlayer=function(){return this.h5Player},t.prototype.getVolume=function(){return this.vjsPlayer.muted()?0:this.vjsPlayer.volume()},t.prototype.setVolume=function(e){this.vjsPlayer.volume(e),0==e?this.vjsPlayer.muted(!0):this.vjsPlayer.muted(!1)},t.prototype.unmute=function(){this.vjsPlayer.muted(!1)},t.prototype.mute=function(){this.vjsPlayer.muted(!0)},t.prototype.play=function(){this.vjsPlayer.play()},t.prototype.getPlayerWidth=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).width;return e&&0!==parseInt(e,10)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).width),parseInt(e,10)||this.vjsPlayer.width()},t.prototype.getPlayerHeight=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).height;return e&&0!==parseInt(e,10)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).height),parseInt(e,10)||this.vjsPlayer.height()},t.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_},t.prototype.getPlayerId=function(){return this.vjsPlayer.id()},t.prototype.toggleFullscreen=function(){this.vjsPlayer.isFullscreen()?this.vjsPlayer.exitFullscreen():this.vjsPlayer.requestFullscreen()},t.prototype.getContentPlayheadTracker=function(){return this.contentPlayheadTracker},t.prototype.onAdError=function(e){this.vjsControls.show();var t=void 0!==e.getError?e.getError():e.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:e}})},t.prototype.onAdBreakStart=function(){this.contentSource=this.vjsPlayer.currentSrc(),this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.startLinearAdMode(),this.vjsControls.hide(),this.vjsPlayer.pause()},t.prototype.onAdBreakEnd=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.vjsControls.show()},t.prototype.onAdStart=function(){this.vjsPlayer.trigger("ads-ad-started")},t.prototype.onAllAdsCompleted=function(){1==this.contentComplete&&(this.h5Player.src!=this.contentSource&&this.vjsPlayer.src(this.contentSource),this.controller.onContentAndAdsCompleted())},t.prototype.onAdsReady=function(){this.vjsPlayer.trigger("adsready")},t.prototype.changeSource=function(e,t){this.vjsPlayer.currentSrc()&&(this.vjsPlayer.currentTime(0),this.vjsPlayer.pause()),e&&this.vjsPlayer.src(e),t?this.vjsPlayer.one("loadedmetadata",this.playContentFromZero.bind(this)):this.vjsPlayer.one("loadedmetadata",this.seekContentToZero.bind(this))},t.prototype.seekContentToZero=function(){this.vjsPlayer.currentTime(0)},t.prototype.playContentFromZero=function(){this.vjsPlayer.currentTime(0),this.vjsPlayer.play()},t.prototype.triggerPlayerEvent=function(e,t){this.vjsPlayer.trigger(e,t)},t.prototype.addContentEndedListener=function(e){this.contentEndedListeners.push(e)},t.prototype.reset=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsControls.show(),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.contentPlayheadTracker.currentTime=0,this.contentComplete=!1};var n=function(e){this.controller=e,this.adContainerDiv=document.createElement("div"),this.controlsDiv=document.createElement("div"),this.countdownDiv=document.createElement("div"),this.seekBarDiv=document.createElement("div"),this.progressDiv=document.createElement("div"),this.playPauseDiv=document.createElement("div"),this.muteDiv=document.createElement("div"),this.sliderDiv=document.createElement("div"),this.sliderLevelDiv=document.createElement("div"),this.fullscreenDiv=document.createElement("div"),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.controlPrefix=this.controller.getPlayerId()+"_",this.showCountdown=!0,!1===this.controller.getSettings().showCountdown&&(this.showCountdown=!1),this.createAdContainer()};n.prototype.createAdContainer=function(){this.assignControlAttributes(this.adContainerDiv,"ima-ad-container"),this.adContainerDiv.style.position="absolute",this.adContainerDiv.style.zIndex=1111,this.adContainerDiv.addEventListener("mouseenter",this.showAdControls.bind(this),!1),this.adContainerDiv.addEventListener("mouseleave",this.hideAdControls.bind(this),!1),this.createControls(),this.controller.injectAdContainerDiv(this.adContainerDiv)},n.prototype.createControls=function(){this.assignControlAttributes(this.controlsDiv,"ima-controls-div"),this.controlsDiv.style.width="100%",this.assignControlAttributes(this.countdownDiv,"ima-countdown-div"),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none",this.assignControlAttributes(this.seekBarDiv,"ima-seek-bar-div"),this.seekBarDiv.style.width="100%",this.assignControlAttributes(this.progressDiv,"ima-progress-div"),this.assignControlAttributes(this.playPauseDiv,"ima-play-pause-div"),this.addClass(this.playPauseDiv,"ima-playing"),this.playPauseDiv.addEventListener("click",this.onAdPlayPauseClick.bind(this),!1),this.assignControlAttributes(this.muteDiv,"ima-mute-div"),this.addClass(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1),this.assignControlAttributes(this.sliderDiv,"ima-slider-div"),this.sliderDiv.addEventListener("mousedown",this.onAdVolumeSliderMouseDown.bind(this),!1),this.controller.getIsIos()&&(this.sliderDiv.style.display="none"),this.assignControlAttributes(this.sliderLevelDiv,"ima-slider-level-div"),this.assignControlAttributes(this.fullscreenDiv,"ima-fullscreen-div"),this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1),this.adContainerDiv.appendChild(this.controlsDiv),this.controlsDiv.appendChild(this.countdownDiv),this.controlsDiv.appendChild(this.seekBarDiv),this.controlsDiv.appendChild(this.playPauseDiv),this.controlsDiv.appendChild(this.muteDiv),this.controlsDiv.appendChild(this.sliderDiv),this.controlsDiv.appendChild(this.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)},n.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()},n.prototype.onAdMuteClick=function(){this.controller.onAdMuteClick()},n.prototype.onAdFullscreenClick=function(){this.controller.toggleFullscreen()},n.prototype.onAdsPaused=function(){this.addClass(this.playPauseDiv,"ima-paused"),this.removeClass(this.playPauseDiv,"ima-playing"),this.showAdControls()},n.prototype.onAdsResumed=function(){this.onAdsPlaying(),this.showAdControls()},n.prototype.onAdsPlaying=function(){this.addClass(this.playPauseDiv,"ima-playing"),this.removeClass(this.playPauseDiv,"ima-paused")},n.prototype.updateAdUi=function(e,t,n,r,i){var o=Math.floor(t/60),a=Math.floor(t%60);a.toString().length<2&&(a="0"+a);var s=": ";i>1&&(s=" ("+r+" "+this.controller.getSettings().adLabelNofN+" "+i+"): "),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel+s+o+":"+a;var c=100*(e/n);this.progressDiv.style.width=c+"%"},n.prototype.unmute=function(){this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*this.controller.getPlayerVolume()+"%"},n.prototype.mute=function(){this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"},n.prototype.onAdVolumeSliderMouseDown=function(){document.addEventListener("mouseup",this.boundOnMouseUp,!1),document.addEventListener("mousemove",this.boundOnMouseMove,!1)},n.prototype.onMouseMove=function(e){this.changeVolume(e)},n.prototype.onMouseUp=function(e){this.changeVolume(e),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},n.prototype.changeVolume=function(e){var t=(e.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;t*=100,t=Math.min(Math.max(t,0),100),this.sliderLevelDiv.style.width=t+"%",0==this.percent?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted")):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted")),this.controller.setVolume(t/100)},n.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"},n.prototype.onAdError=function(){this.adContainerDiv.style.display="none"},n.prototype.onAdBreakStart=function(e){this.adContainerDiv.style.display="block","application/javascript"!==e.getAd().getContentType()||this.controller.getSettings().showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.onAdsPlaying(),this.hideAdControls()},n.prototype.onAdBreakEnd=function(){var e=this.controller.getCurrentAd();(null==e||e.isLinear())&&(this.adContainerDiv.style.display="none"),this.controlsDiv.style.display="none",this.countdownDiv.innerHTML=""},n.prototype.onAllAdsCompleted=function(){this.adContainerDiv.style.display="none"},n.prototype.onLinearAdStart=function(){this.removeClass(this.adContainerDiv,"bumpable-ima-ad-container")},n.prototype.onNonLinearAdLoad=function(){this.adContainerDiv.style.display="block",this.addClass(this.adContainerDiv,"bumpable-ima-ad-container")},n.prototype.onPlayerEnterFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-non-fullscreen")},n.prototype.onPlayerExitFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-fullscreen")},n.prototype.onPlayerVolumeChanged=function(e){0==e?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*e+"%")},n.prototype.showAdControls=function(){this.addClass(this.controlsDiv,"ima-controls-div-showing"),this.playPauseDiv.style.display="block",this.muteDiv.style.display="block",this.fullscreenDiv.style.display="block",this.controller.getIsIos()||(this.sliderDiv.style.display="block")},n.prototype.hideAdControls=function(){this.removeClass(this.controlsDiv,"ima-controls-div-showing"),this.playPauseDiv.style.display="none",this.muteDiv.style.display="none",this.sliderDiv.style.display="none",this.fullscreenDiv.style.display="none"},n.prototype.assignControlAttributes=function(e,t){e.id=this.controlPrefix+t,e.className=this.controlPrefix+t+" "+t},n.prototype.getClassRegexp=function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")},n.prototype.elementHasClass=function(e,t){return this.getClassRegexp(t).test(e.className)},n.prototype.addClass=function(e,t){e.className=e.className.trim()+" "+t},n.prototype.removeClass=function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")},n.prototype.getAdContainerDiv=function(){return this.adContainerDiv},n.prototype.setShowCountdown=function(e){this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"};var r="1.5.1",i=function(e){this.controller=e,this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.adTagUrl=null,this.adsResponse=null,this.currentAd=null,this.adTrackingTimer=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener=void 0,this.contentCompleteCalled=!1,this.adsManagerDimensions={width:0,height:0},this.autoPlayAdBreaks=!0,!1===this.controller.getSettings().autoPlayAdBreaks&&(this.autoPlayAdBreaks=!1),this.controller.getSettings().locale&&google.ima.settings.setLocale(this.controller.getSettings().locale),this.controller.getSettings().disableFlashAds&&google.ima.settings.setDisableFlashAds(this.controller.getSettings().disableFlashAds),this.controller.getSettings().disableCustomPlaybackForIOS10Plus&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.controller.getSettings().disableCustomPlaybackForIOS10Plus)};i.prototype.initAdObjects=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv(),this.controller.getContentPlayer()),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),0==this.controller.getSettings().vpaidAllowed&&this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),this.controller.getSettings().vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.controller.getSettings().vpaidMode),this.controller.getSettings().locale&&this.adsLoader.getSettings().setLocale(this.controller.getSettings().locale),this.controller.getSettings().numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.controller.getSettings().numRedirects),this.adsLoader.getSettings().setPlayerType("videojs-ima"),this.adsLoader.getSettings().setPlayerVersion(r),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1)},i.prototype.requestAds=function(){var e=new google.ima.AdsRequest;this.controller.getSettings().adTagUrl?e.adTagUrl=this.controller.getSettings().adTagUrl:e.adsResponse=this.controller.getSettings().adsResponse,this.controller.getSettings().forceNonLinearFullSlot&&(e.forceNonLinearFullSlot=!0),this.controller.getSettings().vastLoadTimeout&&(e.vastLoadTimeout=this.controller.getSettings().vastLoadTimeout),e.linearAdSlotWidth=this.controller.getPlayerWidth(),e.linearAdSlotHeight=this.controller.getPlayerHeight(),e.nonLinearAdSlotWidth=this.controller.getSettings().nonLinearWidth||this.controller.getPlayerWidth(),e.nonLinearAdSlotHeight=this.controller.getSettings().nonLinearHeight||this.controller.getPlayerHeight(),e.setAdWillAutoPlay(this.controller.adsWillAutoplay()),e.setAdWillPlayMuted(this.controller.adsWillPlayMuted()),this.adsLoader.requestAds(e),this.controller.triggerPlayerEvent("ads-request",e)},i.prototype.onAdsManagerLoaded=function(e){this.createAdsRenderingSettings(),this.adsManager=e.getAdsManager(this.controller.getContentPlayheadTracker(),this.adsRenderingSettings),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.onAdBreakReady.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete.bind(this)),this.controller.getIsMobile()&&(this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this))),this.autoPlayAdBreaks||this.initAdsManager(),this.controller.onAdsReady(),this.controller.getSettings().adsManagerLoadedCallback&&this.controller.getSettings().adsManagerLoadedCallback()},i.prototype.onAdsLoaderError=function(e){window.console.warn("AdsLoader error: "+e.getError()),this.controller.onErrorLoadingAds(e),this.adsManager&&this.adsManager.destroy()},i.prototype.initAdsManager=function(){try{var e=this.controller.getPlayerWidth(),t=this.controller.getPlayerHeight();this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.init(e,t,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainer.initialized=!0)}catch(e){this.onAdError(e)}},i.prototype.createAdsRenderingSettings=function(){if(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.controller.getSettings().adsRenderingSettings)for(var e in this.controller.getSettings().adsRenderingSettings)""!==e&&(this.adsRenderingSettings[e]=this.controller.getSettings().adsRenderingSettings[e])},i.prototype.onAdError=function(e){var t=void 0!==e.getError?e.getError():e.stack;window.console.warn("Ad error: "+t),this.adsManager.destroy(),this.controller.onAdError(e),this.adsActive=!1,this.adPlaying=!1},i.prototype.onAdBreakReady=function(e){this.adBreakReadyListener(e)},i.prototype.onContentPauseRequested=function(e){this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(e)},i.prototype.onContentResumeRequested=function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd()},i.prototype.onAllAdsCompleted=function(e){this.allAdsCompleted=!0,this.controller.onAllAdsCompleted()},i.prototype.onAdLoaded=function(e){e.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.controller.playContent())},i.prototype.onAdStarted=function(e){this.currentAd=e.getAd(),this.currentAd.isLinear()?(this.adTrackingTimer=setInterval(this.onAdPlayheadTrackerInterval.bind(this),250),this.controller.onLinearAdStart()):this.controller.onNonLinearAdStart()},i.prototype.onAdPaused=function(){this.controller.onAdsPaused()},i.prototype.onAdResumed=function(e){this.controller.onAdsResumed()},i.prototype.onAdComplete=function(){this.currentAd.isLinear()&&clearInterval(this.adTrackingTimer)},i.prototype.onAdPlayheadTrackerInterval=function(){var e=this.adsManager.getRemainingTime(),t=this.currentAd.getDuration(),n=t-e;n=n>0?n:0;var r=0,i=void 0;this.currentAd.getAdPodInfo()&&(i=this.currentAd.getAdPodInfo().getAdPosition(),r=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(n,e,t,i,r)},i.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),this.adsManager&&this.adsManager.getCuePoints()&&!this.adsManager.getCuePoints().includes(-1)&&this.controller.onNoPostroll(),this.allAdsCompleted&&this.controller.onContentAndAdsCompleted()},i.prototype.onPlayerDisposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)},i.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start()}catch(e){this.onAdError(e)}}},i.prototype.onPlayerReady=function(){this.initAdObjects(),(this.controller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&this.requestAds()},i.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)},i.prototype.onPlayerExitFullscreen=function(){this.adsManager&&this.adsManager.resize(this.controller.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)},i.prototype.onPlayerVolumeChanged=function(e){this.adsManager&&this.adsManager.setVolume(e),this.adMuted=0==e},i.prototype.onPlayerResize=function(e,t){this.adsManager&&(this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL))},i.prototype.getCurrentAd=function(){return this.currentAd},i.prototype.setAdBreakReadyListener=function(e){this.adBreakReadyListener=e},i.prototype.isAdPlaying=function(){return this.adPlaying},i.prototype.isAdMuted=function(){return this.adMuted},i.prototype.pauseAds=function(){this.adsManager.pause(),this.adPlaying=!1},i.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},i.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},i.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},i.prototype.setVolume=function(e){this.adsManager.setVolume(e),this.adMuted=0==e},i.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainer&&(this.adDisplayContainerInitialized=!0,this.adDisplayContainer.initialize())},i.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())},i.prototype.addEventListener=function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)},i.prototype.getAdsManager=function(){return this.adsManager},i.prototype.reset=function(){this.adsActive=!1,this.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1};var o=function(e,r){this.settings={},this.contentAndAdsEndedListeners=[],this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(r);var o={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},a=this.extend({},o,r.contribAdsSettings||{});this.playerWrapper=new t(e,a,this),this.adUi=new n(this),this.sdkImpl=new i(this)};o.IMA_DEFAULTS={debug:!1,timeout:5e3,prerollTimeout:1e3,adLabel:"Advertisement",adLabelNofN:"of",showControlsForJSAds:!0},o.prototype.initWithSettings=function(e){this.settings=this.extend({},o.IMA_DEFAULTS,e||{}),this.warnAboutDeprecatedSettings(),this.showCountdown=!0,!1===this.settings.showCountdown&&(this.showCountdown=!1)},o.prototype.warnAboutDeprecatedSettings=function(){var e=this;["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"].forEach(function(t){e.settings[t]})},o.prototype.getSettings=function(){return this.settings},o.prototype.getIsMobile=function(){return this.isMobile},o.prototype.getIsIos=function(){return this.isIos},o.prototype.injectAdContainerDiv=function(e){this.playerWrapper.injectAdContainerDiv(e)},o.prototype.getAdContainerDiv=function(){return this.adUi.getAdContainerDiv()},o.prototype.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()},o.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},o.prototype.requestAds=function(){this.sdkImpl.requestAds()},o.prototype.setSetting=function(e,t){this.settings[e]=t},o.prototype.onErrorLoadingAds=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},o.prototype.onAdPlayPauseClick=function(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},o.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},o.prototype.setVolume=function(e){this.playerWrapper.setVolume(e),this.sdkImpl.setVolume(e)},o.prototype.getPlayerVolume=function(){return this.playerWrapper.getVolume()},o.prototype.toggleFullscreen=function(){this.playerWrapper.toggleFullscreen()},o.prototype.onAdError=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},o.prototype.onAdBreakStart=function(e){this.playerWrapper.onAdBreakStart(),this.adUi.onAdBreakStart(e)},o.prototype.showAdContainer=function(){this.adUi.showAdContainer()},o.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd(),this.adUi.onAdBreakEnd()},o.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted(),this.playerWrapper.onAllAdsCompleted()},o.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()},o.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},o.prototype.onAdPlayheadUpdated=function(e,t,n,r,i){this.adUi.updateAdUi(e,t,n,r,i)},o.prototype.getCurrentAd=function(){return this.sdkImpl.getCurrentAd()},o.prototype.playContent=function(){this.playerWrapper.play()},o.prototype.onLinearAdStart=function(){this.adUi.onLinearAdStart(),this.playerWrapper.onAdStart()},o.prototype.onNonLinearAdLoad=function(){this.adUi.onNonLinearAdLoad()},o.prototype.onNonLinearAdStart=function(){this.adUi.onNonLinearAdLoad(),this.playerWrapper.onAdStart()},o.prototype.getPlayerWidth=function(){return this.playerWrapper.getPlayerWidth()},o.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()},o.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()},o.prototype.onPlayerResize=function(e,t){this.sdkImpl.onPlayerResize(e,t)},o.prototype.onContentComplete=function(){this.sdkImpl.onContentComplete()},o.prototype.onNoPostroll=function(){this.playerWrapper.onNoPostroll()},o.prototype.onContentAndAdsCompleted=function(){for(var e in this.contentAndAdsEndedListeners)"function"==typeof this.contentAndAdsEndedListeners[e]&&this.contentAndAdsEndedListeners[e]()},o.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},o.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()},o.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},o.prototype.onPlayerEnterFullscreen=function(){this.adUi.onPlayerEnterFullscreen(),this.sdkImpl.onPlayerEnterFullscreen()},o.prototype.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},o.prototype.onPlayerVolumeChanged=function(e){this.adUi.onPlayerVolumeChanged(e),this.sdkImpl.onPlayerVolumeChanged(e)},o.prototype.setContentWithAdTag=function(e,t,n){this.reset(),this.settings.adTagUrl=t||this.settings.adTagUrl,this.playerWrapper.changeSource(e,n)},o.prototype.setContentWithAdsResponse=function(e,t,n){this.reset(),this.settings.adsResponse=t||this.settings.adsResponse,this.playerWrapper.changeSource(e,n)},o.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset()},o.prototype.addContentEndedListener=function(e){this.playerWrapper.addContentEndedListener(e)},o.prototype.addContentAndAdsEndedListener=function(e){this.contentAndAdsEndedListeners.push(e)},o.prototype.setAdBreakReadyListener=function(e){this.sdkImpl.setAdBreakReadyListener(e)},o.prototype.setShowCountdown=function(e){this.adUi.setShowCountdown(e),this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"},o.prototype.initializeAdDisplayContainer=function(){this.sdkImpl.initializeAdDisplayContainer()},o.prototype.playAdBreak=function(){this.sdkImpl.playAdBreak()},o.prototype.addEventListener=function(e,t){this.sdkImpl.addEventListener(e,t)},o.prototype.getAdsManager=function(){return this.sdkImpl.getAdsManager()},o.prototype.getPlayerId=function(){return this.playerWrapper.getPlayerId()},o.prototype.changeAdTag=function(e){this.reset(),this.settings.adTagUrl=e},o.prototype.pauseAd=function(){this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()},o.prototype.resumeAd=function(){this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds()},o.prototype.adsWillAutoplay=function(){return void 0!==this.settings.adsWillAutoplay?this.settings.adsWillAutoplay:void 0!==this.settings.adWillAutoplay?this.settings.adWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},o.prototype.adsWillPlayMuted=function(){return void 0!==this.settings.adsWillPlayMuted?this.settings.adsWillPlayMuted:void 0!==this.settings.adWillPlayMuted?this.settings.adWillPlayMuted:void 0!==this.playerWrapper.getPlayerOptions().muted?this.playerWrapper.getPlayerOptions().muted:0==this.playerWrapper.getVolume()},o.prototype.triggerPlayerEvent=function(e,t){this.playerWrapper.triggerPlayerEvent(e,t)},o.prototype.extend=function(e){for(var t=void 0,n=void 0,r=void 0,i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];for(n=0;n<o.length;n++)for(r in t=o[n])t.hasOwnProperty(r)&&(e[r]=t[r]);return e};(e.registerPlugin||e.plugin)("ima",function(e){this.ima=new function(e,t){this.controller=new o(e,t),this.addContentAndAdsEndedListener=function(e){this.controller.addContentAndAdsEndedListener(e)}.bind(this),this.addContentEndedListener=function(e){this.controller.addContentEndedListener(e)}.bind(this),this.addEventListener=function(e,t){this.controller.addEventListener(e,t)}.bind(this),this.changeAdTag=function(e){this.controller.changeAdTag(e)}.bind(this),this.getAdsManager=function(){return this.controller.getAdsManager()}.bind(this),this.initializeAdDisplayContainer=function(){this.controller.initializeAdDisplayContainer()}.bind(this),this.pauseAd=function(){this.controller.pauseAd()}.bind(this),this.playAdBreak=function(){this.controller.playAdBreak()}.bind(this),this.requestAds=function(){this.controller.requestAds()}.bind(this),this.resumeAd=function(){this.controller.resumeAd()}.bind(this),this.setAdBreakReadyListener=function(e){this.controller.setAdBreakReadyListener(e)}.bind(this),this.setContentWithAdTag=function(e,t,n){this.controller.setContentWithAdTag(e,t,n)}.bind(this),this.setContentWithAdsResponse=function(e,t,n){this.controller.setContentWithAdsResponse(e,t,n)}.bind(this),this.setShowCountdown=function(e){this.controller.setShowCountdown(e)}.bind(this)}(this,e)})}),function(e){var t=window.pbjs_vdoChunk;window.pbjs_vdoChunk=function(n,o,a){for(var s,c,l,d=0,u=[];d<n.length;d++)c=n[d],r[c]&&u.push(r[c][0]),r[c]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);for(t&&t(n,o,a);u.length;)u.shift()();if(a)for(d=0;d<a.length;d++)l=i(i.s=a[d]);return l};var n={},r={231:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw e},i(i.s=594)}({0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"internal",function(){return S}),n.d(t,"bind",function(){return k}),t.replaceTokenInString=function(e,t,n){return X(t,function(t,r){t=void 0===t?"":t;var i=n+r.toUpperCase()+n,o=new RegExp(i,"g");e=e.replace(o,t)}),e},t.getUniqueIdentifierStr=P,t.generateUUID=function e(t){return t?(t^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},t.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},t.tryAppendQueryString=function(e,t,n){return n?e+(t+"=")+encodeURIComponent(n)+"&":e},t.parseQueryStringParameters=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t},t.transformAdServerTargetingObj=function(e){return e&&0<Object.getOwnPropertyNames(e).length?ae(e).map(function(t){return"".concat(t,"=").concat(encodeURIComponent(se(e,t)))}).join("&"):""},t.getAdUnitSizes=function(e){if(e){var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var n=e.mediaTypes.banner.sizes;Array.isArray(n[0])?t=n:t.push(n)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}},t.parseSizesInput=function(e){var t,n=[];if("string"==typeof e){var r=e.split(","),i=/^(\d)+x(\d)+$/i;if(r)for(var o in r)$(r,o)&&r[o].match(i)&&n.push(r[o])}else if("object"===(t=e,("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t))){var a=e.length;if(0<a)if(2===a&&"number"==typeof e[0]&&"number"==typeof e[1])n.push(O(e));else for(var s=0;s<a;s++)n.push(O(e[s]))}return n},t.parseGPTSingleSizeArray=O,t.getTopWindowLocation=j,t.getTopFrameReferrer=x,t.getAncestorOrigins=D,t.getWindowTop=R,t.getWindowSelf=N,t.getWindowLocation=M,t.getTopWindowUrl=function(){var e;try{e=S.getTopWindowLocation().href}catch(t){e=""}return e},t.getTopWindowReferrer=function(){try{return window.top.document.referrer}catch(e){return document.referrer}},t.logMessage=B,t.logInfo=L,t.logWarn=U,t.logError=F,t.hasConsoleLogger=function(){return w},t.debugTurnedOn=z,t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=P(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e},t.getParameterByName=W,t.hasValidBidRequest=function(e,t,n){var r=!1;function i(e,n){n===t[o]&&(r=!0)}for(var o=0;o<t.length;o++)if(r=!1,X(e,i),!r)return F("Params are missing for bid request. One of these required paramaters are missing: "+t,n),!1;return!0},t.addEventHandler=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent&&e.attachEvent("on"+t,n)},t.isA=V,t.isFn=q,t.isStr=H,t.isArray=G,t.isNumber=Y,t.isPlainObject=K,t.isBoolean=function(e){return V(e,T)},t.isEmpty=J,t.isEmptyStr=function(e){return H(e)&&(!e||0===e.length)},t._each=X,t.contains=function(e,t){if(J(e))return!1;if(q(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},n.d(t,"indexOf",function(){return Q}),t._map=function(e,t){if(J(e))return[];if(q(e.map))return e.map(t);var n=[];return X(e,function(r,i){n.push(t(r,i,e))}),n},t.insertElement=Z,t.triggerPixel=ee,t.callBurl=function(e){var t=e.source,n=e.burl;t===f.S2S.SRC&&n&&S.triggerPixel(n)},t.insertHtmlIntoIframe=function(e){if(e){var t=document.createElement("iframe");t.id=P(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",S.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}},t.insertUserSyncIframe=te,t.createTrackPixelHtml=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+'<img src="'+encodeURI(e)+'"></div>':""},t.createTrackPixelIframeHtml=ne,t.getIframeDocument=function(e){if(e){var t;try{t=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument}catch(e){S.logError("Cannot get iframe document",e)}return t}},t.getValueString=re,t.uniques=ie,t.flatten=oe,t.getBidRequest=function(e,t){return e?(t.some(function(t){var r=s()(t.bids,function(t){return["bidId","adId","bid_id"].some(function(n){return t[n]===e})});return r&&(n=r),r}),n):void 0;var n},t.getKeys=ae,t.getValue=se,t.getKeyByValue=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n},t.getBidderCodes=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:pbjs_vdo.adUnits).map(function(e){return e.bids.map(function(e){return e.bidder}).reduce(oe,[])}).reduce(oe).filter(ie)},t.isGptPubadsDefined=function(){if(window.googletag&&q(window.googletag.pubads)&&q(window.googletag.pubads().getSlots))return!0},n.d(t,"getHighestCpm",function(){return ce}),n.d(t,"getOldestHighestCpmBid",function(){return le}),n.d(t,"getLatestHighestCpmBid",function(){return de}),t.shuffle=function(e){for(var t=e.length;0<t;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e},t.adUnitsFilter=function(e,t){return l()(e,t&&t.adUnitCode)},t.isSrcdocSupported=function(e){return e.defaultView&&e.defaultView.frameElement&&"srcdoc"in e.defaultView.frameElement&&!/firefox/i.test(navigator.userAgent)},t.deepClone=pe,t.inIframe=he,t.isSafariBrowser=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},t.replaceAuctionPrice=function(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)},t.timestamp=function(){return(new Date).getTime()},t.checkCookieSupport=fe,t.cookiesAreEnabled=function(){return!!S.checkCookieSupport()||(window.document.cookie="prebid.cookieTest",-1!=window.document.cookie.indexOf("prebid.cookieTest"))},t.getCookie=function(e){var t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null},t.setCookie=function(e,t,n){document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(""!==n?"; expires=".concat(n):"","; path=/")},t.localStorageIsEnabled=function(){try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){return!1}},t.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(null,arguments)}},t.groupBy=function(e,t){return e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{})},t.deepAccess=function(e,t){if(e){t=String(t).split(".");for(var n=0;n<t.length;n++)if(void 0===(e=e[t[n]]))return;return e}},t.createContentToExecuteExtScriptInFriendlyFrame=function(e){return e?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;<\/script></head><body>\x3c!--PRE_SCRIPT_TAG_MACRO--\x3e<script src="'.concat(e,'"><\/script>\x3c!--POST_SCRIPT_TAG_MACRO--\x3e</body></html>'):""},t.getDefinedParams=function(e,t){return t.filter(function(t){return e[t]}).reduce(function(t,n){return p(t,(r={},i=n,o=e[n],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r));var r,i,o},{})},t.isValidMediaTypes=function(e){var t=["banner","native","video"];return!!Object.keys(e).every(function(e){return l()(t,e)})&&(!e.video||!e.video.context||l()(["instream","outstream","adpod"],e.video.context))},t.getBidderRequest=function(e,t,n){return s()(e,function(e){return 0<e.bids.filter(function(e){return e.bidder===t&&e.adUnitCode===n}).length})||{start:null,auctionId:null}},t.getUserConfiguredParams=function(e,t,n){return e.filter(function(e){return e.code===t}).map(function(e){return e.bids}).reduce(oe,[]).filter(function(e){return e.bidder===n}).map(function(e){return e.params||{}})},t.getOrigin=function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},t.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},t.isAdUnitCodeMatchingSlot=function(e){return function(t){return ge(e,t)}},t.isSlotMatchingAdUnitCode=function(e){return function(t){return ge(t,e)}},t.unsupportedBidderMessage=function(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(n," ad unit\n    containing bidders that don't support ").concat(n,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")},t.deletePropertyFromObject=function(e,t){var n=p({},e);return delete n[t],n},t.isInteger=ye,t.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},t.transformBidderParamKeywords=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"keywords",n=[];return X(e,function(e,r){if(G(e)){var i=[];X(e,function(e){((e=re(t+"."+r,e))||""===e)&&i.push(e)}),e=i}else{if(!H(e=re(t+"."+r,e)))return;e=[e]}n.push({key:r,value:e})}),n},t.convertTypes=function(e,t){return Object.keys(e).forEach(function(n){var r,i;t[n]&&(q(e[n])?t[n]=e[n](t[n]):t[n]=(r=e[n],i=t[n],"string"===r?i&&i.toString():"number"===r?Number(i):i),isNaN(t[n])&&delete t.key)}),t},t.setDataInLocalStorage=function(e,t){ve()&&window.localStorage.setItem(e,t)},t.getDataFromLocalStorage=function(e){if(ve())return window.localStorage.getItem(e)},t.hasLocalStorage=ve,t.isArrayOfNums=function(e,t){return G(e)&&(!t||e.length===t)&&e.every(function(e){return ye(e)})},t.fill=function(e,t){for(var n=[],r=0;r<t;r++){var i=K(e)?pe(e):e;n.push(i)}return n},t.chunk=function(e,t){for(var n=[],r=0;r<Math.ceil(e.length/t);r++){var i=r*t,o=i+t;n.push(e.slice(i,o))}return n},t.getMinValueFromArray=function(e){return Math.min.apply(Math,u(e))},t.getMaxValueFromArray=function(e){return Math.max.apply(Math,u(e))},t.compareOn=function(e){return function(t,n){return t[e]<n[e]?1:t[e]>n[e]?-1:0}};var r=n(3),i=n(91),o=n.n(i),a=n(11),s=n.n(a),c=n(8),l=n.n(c),d=n(10);function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h,f=n(4),g=!1,y="Array",v="String",m="Function",b="Number",_="Object",T="Boolean",C=Object.prototype.toString,E=Boolean(window.console),w=Boolean(E&&window.console.log),S=(Boolean(E&&window.console.info),Boolean(E&&window.console.warn),Boolean(E&&window.console.error),{checkCookieSupport:fe,createTrackPixelIframeHtml:ne,getWindowSelf:N,getWindowTop:R,getAncestorOrigins:D,getTopFrameReferrer:x,getWindowLocation:M,getTopWindowLocation:j,insertUserSyncIframe:te,insertElement:Z,isFn:q,triggerPixel:ee,logError:F,logWarn:U,logMessage:B,logInfo:L}),A={},k=function(e,t){return t}.bind(null,1,A)()===A?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},I=(h=0,function(){return++h});function P(){return I()+Math.random().toString(16).substr(2)}function O(e){if(G(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e[0]+"x"+e[1]}function j(){if(he()){var e;try{e=S.getAncestorOrigins()||S.getTopFrameReferrer()}catch(e){L("could not obtain top window location",e)}if(e)return Object(d.c)(e,{decodeSearchAsString:!0})}return S.getWindowLocation()}function x(){try{window.top.location.toString();for(var e,t="";(e=e?e.parent:window).document&&e.document.referrer&&(t=e.document.referrer),e!==window.top;);return t}catch(e){return window.document.referrer}}function D(){if(window.document.location&&window.document.location.ancestorOrigins&&1<=window.document.location.ancestorOrigins.length)return window.document.location.ancestorOrigins[window.document.location.ancestorOrigins.length-1]}function R(){return window.top}function N(){return window.self}function M(){return window.location}function B(){z()}function L(){z()}function U(){z()}function F(){z()}function z(){if(!1===r.config.getConfig("debug")&&!1===g){var e="TRUE"===W(f.DEBUG_MODE).toUpperCase();r.config.setConfig({debug:e}),g=!0}return!!r.config.getConfig("debug")}function W(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function V(e,t){return C.call(e)==="[object "+t+"]"}function q(e){return V(e,m)}function H(e){return V(e,v)}function G(e){return V(e,y)}function Y(e){return V(e,b)}function K(e){return V(e,_)}function J(e){if(!e)return!0;if(G(e)||H(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function X(e,t){if(!J(e)){if(q(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(0<r)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}var Q=function(){if(Array.prototype.indexOf)return Array.prototype.indexOf}(),$=function(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]};function Z(e,t,n,r){var i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=r?null:i.firstChild;return i.insertBefore(e,o)}}catch(e){}}function ee(e,t){var n=new Image;t&&S.isFn(t)&&(n.addEventListener("load",t),n.addEventListener("error",t)),n.src=e}function te(e,t){var n=S.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),r=document.createElement("div");r.innerHTML=n;var i=r.firstChild;t&&S.isFn(t)&&(i.addEventListener("load",t),i.addEventListener("error",t)),S.insertElement(i,document,"html",!0)}function ne(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),n&&(n='sandbox="'.concat(n,'"')),"<iframe ".concat(n,' id="').concat(P(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function re(e,t,n){return null==t?n:H(t)?t:Y(t)?t.toString():void S.logWarn("Unsuported type for param: "+e+" required type: String")}function ie(e,t,n){return n.indexOf(e)===t}function oe(e,t){return e.concat(t)}function ae(e){return Object.keys(e)}function se(e,t){return e[t]}var ce=ue("timeToRespond",function(e,t){return t<e}),le=ue("responseTimestamp",function(e,t){return t<e}),de=ue("responseTimestamp",function(e,t){return e<t});function ue(e,t){return function(n,r){return n.cpm===r.cpm?t(n[e],r[e])?r:n:n.cpm<r.cpm?r:n}}function pe(e){return o()(e)}function he(){try{return S.getWindowSelf()!==S.getWindowTop()}catch(e){return!0}}function fe(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}var ge=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function ye(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function ve(){try{return!!window.localStorage}catch(e){F("Local storage api disabled")}}},1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerBidder=function(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){var n=w(e);i.default.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach(function(t){i.default.aliasRegistry[t]=e.code,n(T({},e,{code:t}))})},t.newBidder=w,t.preloadBidderMappingFile=S,t.getIabSubCategory=function(e,t){var n=i.default.getBidAdapter(e);if(n.getSpec().getMappingFileInfo){var r=n.getSpec().getMappingFileInfo(),o=r.localStorageKey?r.localStorageKey:n.getBidderCode(),a=Object(v.getDataFromLocalStorage)(o);if(a){try{a=JSON.parse(a)}catch(t){Object(v.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return a.mapping[t]?a.mapping[t]:null}}},t.isValid=A;var r=n(45),i=n(7),o=n(3),a=n(22),s=n(24),c=n(27),l=n(46),d=n(4),u=n.n(d),p=n(9),h=n.n(p),f=n(8),g=n.n(f),y=n(5),v=n(0),m=n(2),b=n(17);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=["requestId","cpm","ttl","creativeId","netRevenue","currency"],E=1;function w(e){return T(new r.a(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:t,callBids:function(r,i,o,s,c){if(Array.isArray(r.bids)){var l={},d=[],p=r.bids.filter(n);if(0!==p.length){var f={};p.forEach(function(e){(f[e.bidId]=e).adUnitCode||(e.adUnitCode=e.placementCode)});var g=e.buildRequests(p,r);if(g&&0!==g.length){Array.isArray(g)||(g=[g]);var y=Object(v.delayExecution)(m,g.length);g.forEach(function(t){switch(t.method){case"GET":s("".concat(t.url).concat((n=t.data)?"?".concat("object"===_(n)?Object(v.parseQueryStringParameters)(n):n):""),{success:o,error:p},void 0,T({method:"GET",withCredentials:!0},t.options));break;case"POST":s(t.url,{success:o,error:p},"string"==typeof t.data?t.data:JSON.stringify(t.data),T({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:Object(v.logWarn)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),y()}var n;function o(n,o){c(e.code);try{n=JSON.parse(n)}catch(n){}var s;n={body:n,headers:{get:o.getResponseHeader.bind(o)}},d.push(n);try{s=e.interpretResponse(n,t)}catch(n){return Object(v.logError)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,n),void y()}function p(t){var n,o,s=f[t.requestId];if(s){var c=T(Object(a.a)(u.a.STATUS.GOOD,s),t);n=s.adUnitCode,o=c,l[n]=!0,A(n,o,[r])&&i(n,o)}else Object(v.logWarn)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring."))}s&&(s.forEach?s.forEach(p):p(s)),y(s)}function p(t){c(e.code),Object(v.logError)("Server call for ".concat(e.code," failed: ").concat(t,". Continuing without bids.")),y()}})}else m()}else m()}function m(){o(),h.a.emit(u.a.EVENTS.BIDDER_DONE,r),t(d,r.gdprConsent)}}});function t(t,n){if(e.getUserSyncs){var r=o.config.getConfig("userSync.filterSettings"),i=e.getUserSyncs({iframeEnabled:!!(o.config.getConfig("userSync.iframeEnabled")||r&&(r.iframe||r.all)),pixelEnabled:!!(o.config.getConfig("userSync.pixelEnabled")||r&&(r.image||r.all))},t,n);i&&(Array.isArray(i)||(i=[i]),i.forEach(function(t){s.a.registerSync(t.type,e.code,t.url)}))}}function n(t){return!!e.isBidRequestValid(t)||(Object(v.logWarn)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}function S(e,t){if(!o.config.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter(function(e){return Object(v.deepAccess)(e,"mediaTypes.video.context")===m.a}).map(function(e){return e.bids.map(function(e){return e.bidder})}).reduce(v.flatten,[]).filter(v.uniques).forEach(function(e){var t=i.default.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var n=t.getSpec().getMappingFileInfo(),r=n.refreshInDays?n.refreshInDays:E,o=n.localStorageKey?n.localStorageKey:t.getSpec().code,a=Object(v.getDataFromLocalStorage)(o);(!a||Object(v.timestamp)()<a.lastUpdated+24*r*60*60*1e3)&&Object(y.a)(n.url,{success:function(t){try{t=JSON.parse(t);var n={lastUpdated:Object(v.timestamp)(),mapping:t.mapping};Object(v.setDataInLocalStorage)(o,JSON.stringify(n))}catch(t){Object(v.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}},error:function(){Object(v.logError)("Failed to load ".concat(e," bidder translation file"))}})}}),e.call(this,t)}function A(e,t,n){function r(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?(i=Object.keys(t),C.every(function(e){return g()(i,e)&&!g()([void 0,null],t[e])})?"native"!==t.mediaType||Object(c.f)(t,n)?"video"!==t.mediaType||Object(l.c)(t,n)?!("banner"===t.mediaType&&!function(e,t,n){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var r=Object(v.getBidderRequest)(n,t.bidderCode,e),i=r&&r.bids&&r.bids[0]&&r.bids[0].sizes,o=Object(v.parseSizesInput)(i);if(1!==o.length)return!1;var a,s,c=(a=o[0].split("x"),s=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(a,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),l=c[0],d=c[1];return t.width=parseInt(l,10),t.height=parseInt(d,10),!0}(e,t,n)&&(Object(v.logError)(r("Banner bids require a width and height")),1)):(Object(v.logError)(r("Video bid does not have required vastUrl or renderer property")),!1):(Object(v.logError)(r("Native bid missing some required properties.")),!1):(Object(v.logError)(r("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1)):(Object(v.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):(Object(v.logWarn)("No adUnitCode was supplied to addBidResponse."),!1);var i}Object(b.a)("checkAdUnitSetup").before(S)},10:function(e,t,n){"use strict";function r(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return"".concat(t,"[]=").concat(e)}).join("&"):"".concat(t,"=").concat(e[t])}).join("&")}t.b=r,t.c=function(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r,i=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:i?n.search:(r=n.search||"",r?r.replace(/^\?/,"").split("&").reduce(function(e,t){var n,r=t.split("="),i=function(e){if(Array.isArray(e))return e}(n=r)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),2!==n.length);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),o=i[0],a=i[1];return/\[\]$/.test(o)?(e[o=o.replace("[]","")]=e[o]||[],e[o].push(a)):e[o]=a||"",e},{}):{}),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},t.a=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(r(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}},11:function(e,t,n){n(83),e.exports=n(14).Array.find},12:function(e,t,n){"use strict";t.a=s,t.c=function(e){return!(!e||!e.url)},t.b=function(e,t){e.render(t)};var r=n(47),i=n(0),o=n(11),a=n.n(o);function s(e){var t,n,o,s=this,c=e.url,l=e.config,d=e.id,u=e.callback,p=e.loaded,h=e.adUnitCode;this.url=c,this.config=l,this.handlers={},this.id=d,this.loaded=p,this.cmd=[],this.push=function(e){"function"==typeof e?s.loaded?e.call():s.cmd.push(e):i.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=u||function(){s.loaded=!0,s.process()},t=h,n=pbjs_vdo.adUnits,(o=a()(n,function(e){return e.code===t}))&&o.renderer&&o.renderer.url&&o.renderer.render?i.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(h)):Object(r.b)(c,this.callback,!0)}s.install=function(e){return new s({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},s.prototype.getConfig=function(){return this.config},s.prototype.setRender=function(e){this.render=e},s.prototype.setEventHandlers=function(e){this.handlers=e},s.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),i.logMessage("Prebid Renderer event for id ".concat(t," type ").concat(n))},s.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){i.logError("Error processing Renderer command: ",e)}}},13:function(e,t,n){var r=n(18),i=n(14),o=n(23),a=n(20),s=n(26),c="prototype",l=function(e,t,n){var d,u,p,h=e&l.F,f=e&l.G,g=e&l.S,y=e&l.P,v=e&l.B,m=e&l.W,b=f?i:i[t]||(i[t]={}),_=b[c],T=f?r:g?r[t]:(r[t]||{})[c];for(d in f&&(n=t),n)(u=!h&&T&&void 0!==T[d])&&s(b,d)||(p=u?T[d]:n[d],b[d]=f&&"function"!=typeof T[d]?n[d]:v&&u?o(p,r):m&&T[d]==p?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[c]=e[c],t}(p):y&&"function"==typeof p?o(Function.call,p):p,y&&((b.virtual||(b.virtual={}))[d]=p,e&l.R&&_&&!_[d]&&a(_,d,p)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},130:function(e,t,n){"use strict";var r=n(13),i=n(40)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(34)(o)},132:function(e,t,n){"use strict";t.a=function(){addEventListener("message",h,!1)};var r=n(9),i=n.n(r),o=n(27),a=n(4),s=(n.n(a),n(0)),c=n(37),l=n(11),d=n.n(l),u=n(12),p=a.EVENTS.BID_WON;function h(e){var t,n,r,a,l,h,f,g,y,v,m,b,_,T,C=e.message?"message":"data",E={};try{E=JSON.parse(e[C])}catch(e){return}if(E&&E.adId){var w=d()(c.a.getBidsReceived(),function(e){return e.adId===E.adId});if("Prebid Request"===E.message&&(t=w,n=E.adServerDomain,r=e.source,g=t.adId,y=t.ad,v=t.adUrl,m=t.width,b=t.height,_=t.renderer,T=t.cpm,Object(u.c)(_)?Object(u.b)(_,t):g&&(l=(a=t).adUnitCode,h=a.width,f=a.height,["div","iframe"].forEach(function(e){var t,n,r,i,o,a,c,u=(t=e,n=l,a=window.googletag?(o=n,d()(window.googletag.pubads().getSlots().filter(Object(s.isSlotMatchingAdUnitCode)(o)),function(e){return e}).getSlotElementId()):window.apntag?(r=n,(i=window.apntag.getTag(r))&&i.targetId):n,(c=document.getElementById(a))&&c.querySelector(t));if(u){var p=u.style;p.width=h+"px",p.height=f+"px"}else Object(s.logWarn)("Unable to locate matching page element for adUnitCode ".concat(l,".  Can't resize it to ad's dimensions.  Please review setup."))}),r.postMessage(JSON.stringify({message:"Prebid Response",ad:Object(s.replaceAuctionPrice)(y,T),adUrl:Object(s.replaceAuctionPrice)(v,T),adId:g,width:m,height:b}),n)),c.a.addWinningBid(w),i.a.emit(p,w)),"Prebid Native"===E.message){if("assetRequest"===E.action){var S=Object(o.c)(E,w);return void e.source.postMessage(JSON.stringify(S),e.origin)}if("click"===Object(o.b)(E,w))return;c.a.addWinningBid(w),i.a.emit(p,w)}}}},133:function(e,t,n){"use strict";t.a=function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(c))}catch(e){}t&&u(t,!0)};var r=n(3),i=n(0),o=n(36);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s,c="pbjs_vdo:debugging";function l(e){Object(i.logMessage)("DEBUG: "+e)}function d(){o.c.getHooks({hook:s}).remove()}function u(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];r.config.setConfig({debug:!0}),l("bidder overrides enabled".concat(t?" from session":"")),d(),s=function(e,t,n){if(Array.isArray(this.bidders)&&-1===this.bidders.indexOf(n.bidderCode))return r="bidder '".concat(n.bidderCode,"' excluded from auction by bidder overrides"),void Object(i.logWarn)("DEBUG: "+r);var r;Array.isArray(this.bids)&&this.bids.forEach(function(e){e.bidder&&e.bidder!==n.bidderCode||e.adUnitCode&&e.adUnitCode!==t||(n=a({},n),Object.keys(e).filter(function(e){return-1===["bidder","adUnitCode"].indexOf(e)}).forEach(function(r){var i=e[r];l("bidder overrides changed '".concat(t,"/").concat(n.bidderCode,"' bid.").concat(r," from '").concat(n[r],"' to '").concat(i,"'")),n[r]=i}))}),e(t,n)}.bind(e),o.c.before(s,5)}r.config.getConfig("debugging",function(e){return function(e){if(e.enabled){try{window.sessionStorage.setItem(c,JSON.stringify(e))}catch(e){}u(e)}else{d(),l("bidder overrides disabled");try{window.sessionStorage.removeItem(c)}catch(e){}}}(e.debugging)})},134:function(e,t,n){n(135),n(67),n(144),n(146),n(150),n(153),n(155),e.exports=n(14).Set},135:function(e,t){},136:function(e,t,n){var r=n(42),i=n(32);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),l=s.length;return c<0||l<=c?e?"":void 0:(o=s.charCodeAt(c))<55296||56319<o||c+1===l||(a=s.charCodeAt(c+1))<56320||57343<a?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},137:function(e,t,n){e.exports=n(20)},138:function(e,t,n){"use strict";var r=n(68),i=n(39),o=n(51),a={};n(20)(a,n(15)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},139:function(e,t,n){var r=n(19),i=n(25),o=n(140);e.exports=n(21)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,c=0;c<s;)r.f(e,n=a[c++],t[n]);return e}},14:function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},140:function(e,t,n){var r=n(141),i=n(69);e.exports=Object.keys||function(e){return r(e,i)}},141:function(e,t,n){var r=n(26),i=n(44),o=n(59)(!1),a=n(50)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(l,n)||l.push(n));return l}},142:function(e,t,n){var r=n(18).document;e.exports=r&&r.documentElement},143:function(e,t,n){var r=n(26),i=n(41),o=n(50)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},144:function(e,t,n){n(145);for(var r=n(18),i=n(20),o=n(28),a=n(15)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],d=r[l],u=d&&d.prototype;u&&!u[a]&&i(u,a,l),o[l]=o.Array}},145:function(e,t,n){"use strict";var r=n(34),i=n(70),o=n(28),a=n(44);e.exports=n(49)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},146:function(e,t,n){"use strict";var r=n(147),i=n(78);e.exports=n(149)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},147:function(e,t,n){"use strict";var r=n(19).f,i=n(68),o=n(71),a=n(23),s=n(72),c=n(38),l=n(49),d=n(70),u=n(148),p=n(21),h=n(77).fastKey,f=n(78),g=p?"_s":"size",y=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var d=e(function(e,r){s(e,d,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,null!=r&&c(r,n,e[l],e)});return o(d.prototype,{clear:function(){for(var e=f(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=f(this,t),r=y(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(e){f(this,t);for(var n,r=a(e,1<arguments.length?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!y(f(this,t),e)}}),p&&r(d.prototype,"size",{get:function(){return f(this,t)[g]}}),d},def:function(e,t,n){var r,i,o=y(e,t);return o?o.v=n:(e._l=o={i:i=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[g]++,"F"!==i&&(e._i[i]=o)),e},getEntry:y,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=f(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?d(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,d(1))},n?"entries":"values",!n,!0),u(t)}}},148:function(e,t,n){"use strict";var r=n(18),i=n(14),o=n(19),a=n(21),s=n(15)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},149:function(e,t,n){"use strict";var r=n(18),i=n(13),o=n(77),a=n(30),s=n(20),c=n(71),l=n(38),d=n(72),u=n(16),p=n(51),h=n(19).f,f=n(40)(0),g=n(21);e.exports=function(e,t,n,y,v,m){var b=r[e],_=b,T=v?"set":"add",C=_&&_.prototype,E={};return g&&"function"==typeof _&&(m||C.forEach&&!a(function(){(new _).entries().next()}))?(_=t(function(t,n){d(t,_,e,"_c"),t._c=new b,null!=n&&l(n,v,t[T],t)}),f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in C&&(!m||"clear"!=e)&&s(_.prototype,e,function(n,r){if(d(this,_,e),!t&&m&&!u(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),m||h(_.prototype,"size",{get:function(){return this._c.size}})):(_=y.getConstructor(t,e,v,T),c(_.prototype,n),o.NEED=!0),p(_,e),E[e]=_,i(i.G+i.W+i.F,E),m||y.setStrong(_,e,v),_}},15:function(e,t,n){var r=n(57)("wks"),i=n(43),o=n(18).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},150:function(e,t,n){var r=n(13);r(r.P+r.R,"Set",{toJSON:n(151)("Set")})},151:function(e,t,n){var r=n(76),i=n(152);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},152:function(e,t,n){var r=n(38);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},153:function(e,t,n){n(154)("Set")},154:function(e,t,n){"use strict";var r=n(13);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},155:function(e,t,n){n(156)("Set")},156:function(e,t,n){"use strict";var r=n(13),i=n(53),o=n(23),a=n(38);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,c=arguments[1];return i(this),(t=void 0!==c)&&i(c),null==e?new this:(n=[],t?(r=0,s=o(c,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},157:function(e,t,n){n(67),n(158),e.exports=n(14).Array.from},158:function(e,t,n){"use strict";var r=n(23),i=n(13),o=n(41),a=n(73),s=n(74),c=n(33),l=n(159),d=n(75);i(i.S+i.F*!n(160)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,u,p=o(e),h="function"==typeof this?this:Array,f=arguments.length,g=1<f?arguments[1]:void 0,y=void 0!==g,v=0,m=d(p);if(y&&(g=r(g,2<f?arguments[2]:void 0,2)),null==m||h==Array&&s(m))for(n=new h(t=c(p.length));v<t;v++)l(n,v,y?g(p[v],v):p[v]);else for(u=m.call(p),n=new h;!(i=u.next()).done;v++)l(n,v,y?a(u,g,[i.value,v],!0):i.value);return n.length=v,n}})},159:function(e,t,n){"use strict";var r=n(19),i=n(39);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},16:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},160:function(e,t,n){var r=n(15)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},17:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),t.c=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:15;0===e.getHooks({hook:t}).length&&e.before(t,n)};var r=n(90),i=n.n(r),o=i()({ready:i.a.SYNC|i.a.ASYNC|i.a.QUEUE}),a=o.get},18:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},19:function(e,t,n){var r=n(25),i=n(84),o=n(85),a=Object.defineProperty;t.f=n(21)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},2:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r="native",i="video",o="banner",a="adpod"},20:function(e,t,n){var r=n(19),i=n(39);e.exports=n(21)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},21:function(e,t,n){e.exports=!n(30)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},22:function(e,t,n){"use strict";t.a=function(e,t){return new function(e,t){var n=t&&t.src||"client",i=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(i){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=r.getUniqueIdentifierStr(),this.requestId=t&&t.bidId,this.mediaType="banner",this.source=n,this.getStatusCode=function(){return i},this.getSize=function(){return this.width+"x"+this.height}}(e,t)};var r=n(0)},23:function(e,t,n){var r=n(53);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},24:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),i=n(3),o=n(8),a=n.n(o);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}i.config.setDefaults({userSync:{syncEnabled:!0,pixelEnabled:!0,syncsPerBidder:5,syncDelay:3e3}});var l=!r.isSafariBrowser()&&r.cookiesAreEnabled(),d=function(e){var t={},n={image:[],iframe:[]},o=!1,l={},d={image:!1,iframe:!1},u=e.config;function p(){if(u.syncEnabled&&e.browserSupportsCookies&&(u.enableOverride||!o)){try{(u.pixelEnabled||d.image)&&r.shuffle(n.image).forEach(function(e){var t=s(e,2),n=t[0],i=t[1];r.logMessage("Invoking image pixel user sync for bidder: ".concat(n)),r.triggerPixel(i)}),(u.iframeEnabled||d.iframe)&&r.shuffle(n.iframe).forEach(function(e){var t=s(e,2),n=t[0],i=t[1];r.logMessage("Invoking iframe user sync for bidder: ".concat(n)),r.insertUserSyncIframe(i)})}catch(e){return r.logError("Error firing user syncs",e)}n={image:[],iframe:[]},o=!0}}return i.config.getConfig("userSync",function(e){u=c(u,e.userSync)}),t.registerSync=function(e,i,o){return u.syncEnabled&&r.isArray(n[e])?i?0!==u.syncsPerBidder&&Number(l[i])>=u.syncsPerBidder?r.logWarn('Number of user syncs exceeded for "'.concat(i,'"')):t.canBidderRegisterSync(e,i)?(n[e].push([i,o]),(a=l)[s=i]?a[s]+=1:a[s]=1,void(l=a)):r.logWarn('Bidder "'.concat(i,'" not permitted to register their "').concat(e,'" userSync pixels.')):r.logWarn("Bidder is required for registering sync"):r.logWarn('User sync type "'.concat(e,'" not supported'));var a,s},t.syncUsers=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(p,Number(e));p()},t.triggerUserSyncs=function(){u.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){if(u.filterSettings){if(function(e,t){var n=u.filterSettings;if(function(e,t){if(e.all&&e[t])return r.logWarn('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var n=e.all?e.all:e[t],i=e.all?"all":t;if(!n)return!1;var o=n.filter,a=n.bidders;return o&&"include"!==o&&"exclude"!==o?(r.logWarn('UserSync "filterSettings.'.concat(i,".filter\" setting '").concat(o,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===a||Array.isArray(a)&&0<a.length&&a.every(function(e){return r.isStr(e)&&"*"!==e}))||(r.logWarn('Detected an invalid setup in userSync "filterSettings.'.concat(i,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(n,e)){d[e]=!0;var i=n.all?n.all:n[e],o="*"===i.bidders?[t]:i.bidders;return{include:function(e,t){return!a()(e,t)},exclude:function(e,t){return a()(e,t)}}[i.filter||"include"](o,t)}return!1}(e,t))return!1}else{if(u.enabledBidders&&u.enabledBidders.length&&u.enabledBidders.indexOf(t)<0)return!1;if("iframe"===e&&!u.iframeEnabled&&!d.iframe)return!1;if("image"===e&&!u.pixelEnabled&&!d.image)return!1}return!0},t}({config:i.config.getConfig("userSync"),browserSupportsCookies:l})},25:function(e,t,n){var r=n(16);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},26:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},27:function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"a",function(){return l}),t.g=function(e){return e&&e.type&&((t=e.type)&&o()(Object.keys(d),t)||(Object(r.logError)("".concat(t," nativeParam is not supported")),0))?d[e.type]:e;var t},t.f=function(e,t){var n=Object(r.getBidRequest)(e.requestId,t);if(!n)return!1;if(!Object(r.deepAccess)(e,"native.clickUrl"))return!1;if(Object(r.deepAccess)(e,"native.image")&&(!Object(r.deepAccess)(e,"native.image.height")||!Object(r.deepAccess)(e,"native.image.width")))return!1;if(Object(r.deepAccess)(e,"native.icon")&&(!Object(r.deepAccess)(e,"native.icon.height")||!Object(r.deepAccess)(e,"native.icon.width")))return!1;var i=n.nativeParams;if(!i)return!0;var a=Object.keys(i).filter(function(e){return i[e].required}),s=Object.keys(e.native).filter(function(t){return e.native[t]});return a.every(function(e){return o()(s,e)})},t.b=function(e,t){var n;return"click"===e.action?n=t.native&&t.native.clickTrackers:(n=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&Object(r.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(n||[]).forEach(r.triggerPixel),e.action},t.d=function(e,t){var n={};return Object.keys(e.native).forEach(function(i){var o=s.NATIVE_KEYS[i],a=u(e.native[i]);Object(r.deepAccess)(t,"mediaTypes.native.".concat(i,".sendId"))&&(a="".concat(o,":").concat(e.adId)),o&&a&&(n[o]=a)}),n},t.c=function(e,t){var n={message:"assetResponse",adId:e.adId,assets:[]};return e.assets.forEach(function(e){var i=Object(r.getKeyByValue)(s.NATIVE_KEYS,e),o=u(t.native[i]);n.assets.push({key:i,value:o})}),n};var r=n(0),i=n(8),o=n.n(i);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(4),c=[],l=Object.keys(s.NATIVE_KEYS).map(function(e){return s.NATIVE_KEYS[e]}),d={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function u(e){return"object"===a(e)&&e.url?e.url:e}},28:function(e,t){e.exports={}},29:function(qy,ry){var sy;sy=function(){return this}();try{sy=sy||Function("return this")()||eval("this")}catch(e){"object"==typeof window&&(sy=window)}qy.exports=sy},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"RANDOM",function(){return b}),t.newConfig=w,n.d(t,"config",function(){return S});var r=n(52),i=n(11),o=n.n(i),a=n(8),s=n.n(a),c=n(17);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=n(0),p=!1,h=3e3,f=window.location.origin,g=!0,y=!1,v=!1,m=400,b="random",_={};_[b]=!0,_.fixed=!0;var T=b,C={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},E="*";function w(){var e,t,n=[];function i(){e={};var n={_debug:p,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:h,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:f,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:C.MEDIUM,set priceGranularity(e){a(e)&&("string"==typeof e?this._priceGranularity=i(e)?e:C.MEDIUM:"object"===d(e)&&(this._customPriceBucket=e,this._priceGranularity=C.CUSTOM,u.logMessage("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){var t=this;this._mediaTypePriceGranularity=Object.keys(e).reduce(function(n,r){return a(e[r])?"string"==typeof e?n[r]=i(e[r])?e[r]:t._priceGranularity:"object"===d(e)&&(n[r]=e[r],u.logMessage("Using custom price granularity for ".concat(r))):u.logWarn("Invalid price granularity for media type: ".concat(r)),n},{})},_sendAllBids:g,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:v,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_bidderSequence:T,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){_[e]?this._bidderSequence=e:u.logWarn("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:m,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:y,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e}};function i(e){return o()(Object.keys(C),function(t){return e===C[t]})}function a(e){if(!e)return u.logError("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)i(e)||u.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if("object"===d(e)&&!Object(r.b)(e))return u.logError("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}t&&b(Object.keys(t).reduce(function(e,r){return t[r]!==n[r]&&(e[r]=n[r]||{}),e},{})),t=n}var a=Object(c.b)("async",function(n){if("object"===d(n)){var r=Object.keys(n),i={};r.forEach(function(r){var o=n[r];"object"===d(e[r])&&"object"===d(o)&&(o=l({},e[r],o)),i[r]=t[r]=o}),b(i)}else u.logError("setConfig options must be an object")});function b(e){var t=Object.keys(e);n.filter(function(e){return s()(t,e.topic)}).forEach(function(t){var n,r,i;t.callback((n={},r=t.topic,i=e[t.topic],r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n))}),n.filter(function(e){return e.topic===E}).forEach(function(t){return t.callback(e)})}return i(),{getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?u.deepAccess(t,e):t}return function(e,t){var r=t;return"string"!=typeof e&&(r=e,e=E),"function"==typeof r?(n.push({topic:e,callback:r}),function(){n.splice(n.indexOf(t),1)}):void u.logError("listener must be a function")}.apply(void 0,arguments)},setConfig:a,setDefaults:function(n){"object"===d(e)?(l(e,n),l(t,n)):u.logError("defaults must be an object")},resetConfig:i}}var S=w()},30:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},31:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},32:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},33:function(e,t,n){var r=n(42),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},34:function(e,t){e.exports=function(){}},35:function(e,t,n){n(130),e.exports=n(14).Array.findIndex},36:function(e,t,n){"use strict";n.d(t,"b",function(){return E}),n.d(t,"a",function(){return w}),t.h=function(e){var t,n,i,a,s=e.adUnits,d=e.adUnitCodes,u=e.callback,p=e.cbTimeout,O=e.labels,D=e.auctionId,R=s,M=O,B=d,L=[],U=[],F=[],z=D||m.generateUUID(),W=u,V=p,q=[],H=new Set;function G(){return{auctionId:z,timestamp:t,auctionEnd:n,auctionStatus:i,adUnits:R,adUnitCodes:B,labels:M,bidderRequests:L,noBids:F,bidsReceived:U,winningBids:q,timeout:V}}function Y(e,t){if(t&&clearTimeout(a),null!=W){var o=[];e&&(m.logMessage("Auction ".concat(z," timedOut")),(p=H,o=L.map(function(e){return(e.bids||[]).filter(function(e){return!p.has(e.bidder)})}).reduce(r.flatten,[]).map(function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}})).length&&_.emit(T.EVENTS.BID_TIMEOUT,o));try{i=w,n=Date.now(),_.emit(T.EVENTS.AUCTION_END,G());var c=B,d=U.filter(m.bind.call(r.adUnitsFilter,this,c)).reduce(N,{});W.apply(pbjs_vdo,[d,e])}catch(e){m.logError("Error executing bidsBackHandler",null,e)}finally{o.length&&b.callTimedOutBidders(s,o,V);var u=l.config.getConfig("userSync")||{};u.enableOverride||v(u.syncDelay)}W=null}var p}function K(){m.logInfo("Bids Received for Auction with id: ".concat(z),U),i=w,Y(!1,!0)}function J(e){H.add(e)}return{addBidReceived:function(e){U=U.concat(e)},addNoBid:function(e){F=F.concat(e)},executeCallback:Y,callBids:function(){var e=this;i=C,t=Date.now();var n=b.makeBidRequests(R,t,z,V,M);m.logInfo("Bids Requested for Auction with id: ".concat(z),n),n.forEach(function(e){var t;t=e,L=L.concat(t)});var s={};if(n.length<1)m.logWarn("No valid bid requests returned for auction"),K();else{var d={bidRequests:n,run:function(){var t,d;t=Y.bind(null,!0),d=setTimeout(t,V),a=d,i=E,_.emit(T.EVENTS.AUCTION_INIT,G());var v=function(e,t){var n=0,i=!1,a=new Set,s={};function d(){n--,i&&0===n&&e()}return{addBidResponse:function(e,i){s[i.requestId]=!0,n++;var a=t.getAuctionId(),u=function(e){var t=e.adUnitCode,n=e.bid,i=e.bidderRequest,a=e.auctionId,s=i.start,d=y({},n,{auctionId:a,responseTimestamp:Object(r.timestamp)(),requestTimestamp:s,cpm:parseFloat(n.cpm)||0,bidder:n.bidderCode,adUnitCode:t});d.timeToRespond=d.responseTimestamp-d.requestTimestamp,_.emit(T.EVENTS.BID_ADJUSTMENT,d);var u=i.bids&&h()(i.bids,function(e){return e.adUnitCode==t}),p=u&&u.renderer;p&&p.url&&(d.renderer=c.a.install({url:p.url}),d.renderer.setRender(p.render));var f=l.config.getConfig("mediaTypePriceGranularity.".concat(n.mediaType)),v=Object(o.a)(d.cpm,"object"===g(f)?f:l.config.getConfig("customPriceBucket"),l.config.getConfig("currency.granularityMultiplier"));return d.pbLg=v.low,d.pbMg=v.med,d.pbHg=v.high,d.pbAg=v.auto,d.pbDg=v.dense,d.pbCg=v.custom,d}({adUnitCode:e,bid:i,bidderRequest:this,auctionId:a});"video"===u.mediaType?function(e,t,n,i){var o=!0,a=Object(r.getBidRequest)(t.requestId,[n]),s=a&&Object(r.deepAccess)(a,"mediaTypes.video"),c=s&&Object(r.deepAccess)(s,"context");l.config.getConfig("cache.url")&&c!==f.a&&(t.videoCacheKey?t.vastUrl||(m.logError("videoCacheKey specified but not required vastUrl for video bid"),o=!1):(o=!1,x(e,t,i,a)));o&&(j(e,t),i())}(t,u,this,d):(j(t,u),d())},adapterDone:function(){a.add(this),i=t.getBidRequests().every(function(e){return a.has(e)}),this.bids.forEach(function(e){s[e.bidId]||(t.addNoBid(e),_.emit(T.EVENTS.NO_BID,e))}),i&&0===n&&e()}}}(K,e);b.callBids(R,n,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];P.apply({dispatch:v.addBidResponse,bidderRequest:this},t)},v.adapterDone,{request:function(e,t){p(A,t),p(s,e),k[e]||(k[e]={SRA:!0,origin:t}),1<s[e]&&(k[e].SRA=!1)},done:function(e){A[e]--,I[0]&&u(I[0])&&I.shift()}},V,J)}};u(d)||(m.logWarn("queueing auction due to limited endpoint capacity"),I.push(d))}function u(e){var t=!0,n=l.config.getConfig("maxRequestsPerOrigin")||S;return e.bidRequests.some(function(e){var r=1,i=void 0!==e.src&&e.src===T.S2S.SRC?"s2s":e.bidderCode;return k[i]&&(!1===k[i].SRA&&(r=Math.min(e.bids.length,n)),A[k[i].origin]+r>n&&(t=!1)),!t}),t&&e.run(),t}function p(e,t){void 0===e[t]?e[t]=1:e[t]++}},addWinningBid:function(e){q=q.concat(e),b.callBidWonBidder(e.bidder,e,s)},setBidTargeting:function(e){b.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return q},getTimeout:function(){return V},getAuctionId:function(){return z},getAuctionStatus:function(){return i},getAdUnits:function(){return R},getAdUnitCodes:function(){return B},getBidRequests:function(){return L},getBidsReceived:function(){return U},getNoBids:function(){return F}}},n.d(t,"c",function(){return P}),t.f=O,t.d=j,n.d(t,"e",function(){return x}),t.g=D;var r=n(0),i=n(10),o=n(52),a=n(27),s=n(64),c=n(12),l=n(3),d=n(24),u=n(17),p=n(11),h=n.n(p),f=n(46);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=d.a.syncUsers,m=n(0),b=n(7).default,_=n(9),T=n(4),C="started",E="inProgress",w="completed";_.on(T.EVENTS.BID_ADJUSTMENT,function(e){!function(e){var t,n=e.bidderCode,r=e.cpm;if(pbjs_vdo.bidderSettings&&(n&&pbjs_vdo.bidderSettings[n]&&"function"==typeof pbjs_vdo.bidderSettings[n].bidCpmAdjustment?t=pbjs_vdo.bidderSettings[n].bidCpmAdjustment:pbjs_vdo.bidderSettings[T.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs_vdo.bidderSettings[T.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(t=pbjs_vdo.bidderSettings[T.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),t))try{r=t(e.cpm,y({},e))}catch(e){m.logError("Error during bid adjustment","bidmanager.js",e)}0<=r&&(e.cpm=r)}(e)});var S=4,A={},k={},I=[],P=Object(u.b)("async",function(e,t){this.dispatch.call(this.bidderRequest,e,t)},"addBidResponse");function O(e,t){t.timeToRespond>e.getTimeout()+l.config.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function j(e,t){var n=e.getBidRequests(),r=h()(n,function(e){return e.bidderCode===t.bidderCode});!function(e,t){var n;if(e.bidderCode&&(0<e.cpm||e.dealId)){var r=h()(t.bids,function(t){return t.adUnitCode===e.adUnitCode});n=function(e,t,n){if(!t)return{};var r={},i=pbjs_vdo.bidderSettings;i&&(R(r,D(t.mediaType,e),t),e&&i[e]&&i[e][T.JSON_MAPPING.ADSERVER_TARGETING]&&(R(r,i[e],t),t.sendStandardTargeting=i[e].sendStandardTargeting));return t.native&&(r=y({},r,Object(a.d)(t,n))),r}(e.bidderCode,e,r)}e.adserverTargeting=y(e.adserverTargeting||{},n)}(t,r),_.emit(T.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),O(e,t)}var x=Object(u.b)("async",function(e,t,n,r){Object(s.b)([t],function(r,i){r?(m.logWarn("Failed to save to the video cache: ".concat(r,". Video bid must be discarded.")),O(e,t)):""===i[0].uuid?(m.logWarn("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),O(e,t)):(t.videoCacheKey=i[0].uuid,t.vastUrl||(t.vastUrl=Object(s.a)(t.videoCacheKey)),j(e,t),n())})},"callPrebidCache");function D(e,t){function n(e,t){return{key:e,val:"function"==typeof t?function(e){return t(e)}:function(e){return Object(r.getValue)(e,t)}}}var o=T.TARGETING_KEYS,a=l.config.getConfig("mediaTypePriceGranularity.".concat(e)),s="string"==typeof e&&a?"string"==typeof a?a:"custom":l.config.getConfig("priceGranularity"),c=pbjs_vdo.bidderSettings;if(c[T.JSON_MAPPING.BD_SETTING_STANDARD]||(c[T.JSON_MAPPING.BD_SETTING_STANDARD]={}),c[T.JSON_MAPPING.BD_SETTING_STANDARD][T.JSON_MAPPING.ADSERVER_TARGETING]||(c[T.JSON_MAPPING.BD_SETTING_STANDARD][T.JSON_MAPPING.ADSERVER_TARGETING]=[n(o.BIDDER,"bidderCode"),n(o.AD_ID,"adId"),n(o.PRICE_BUCKET,function(e){return s===T.GRANULARITY_OPTIONS.AUTO?e.pbAg:s===T.GRANULARITY_OPTIONS.DENSE?e.pbDg:s===T.GRANULARITY_OPTIONS.LOW?e.pbLg:s===T.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:s===T.GRANULARITY_OPTIONS.HIGH?e.pbHg:s===T.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0}),n(o.SIZE,"size"),n(o.DEAL,"dealId"),n(o.SOURCE,"source"),n(o.FORMAT,"mediaType")]),"video"===e){var d=c[T.JSON_MAPPING.BD_SETTING_STANDARD][T.JSON_MAPPING.ADSERVER_TARGETING];if([o.UUID,o.CACHE_ID].forEach(function(e){void 0===h()(d,function(t){return t.key===e})&&d.push(n(e,"videoCacheKey"))}),l.config.getConfig("cache.url")&&(!t||!1!==m.deepAccess(c,"".concat(t,".sendStandardTargeting")))){var u=Object(i.c)(l.config.getConfig("cache.url"));void 0===h()(d,function(e){return e.key===o.CACHE_HOST})&&d.push(n(o.CACHE_HOST,function(e){return m.deepAccess(e,"adserverTargeting.".concat(o.CACHE_HOST))?e.adserverTargeting[o.CACHE_HOST]:u.hostname}))}}return c[T.JSON_MAPPING.BD_SETTING_STANDARD]}function R(e,t,n){var r=t[T.JSON_MAPPING.ADSERVER_TARGETING];return n.size=n.getSize(),m._each(r,function(r){var i=r.key,o=r.val;if(e[i]&&m.logWarn("The key: "+i+" is getting ovewritten"),m.isFn(o))try{o=o(n)}catch(r){m.logError("bidmanager","ERROR",r)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&i!==T.TARGETING_KEYS.DEAL||!m.isEmptyStr(o)&&null!=o?e[i]=o:m.logInfo("suppressing empty key '"+i+"' from adserver targeting")}),e}function N(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}},37:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r,i,o=n(0),a=n(36),s=n(11),c=n.n(s),l=n(4),d=(r=[],(i={}).addWinningBid=function(e){var t=c()(r,function(t){return t.getAuctionId()===e.auctionId});t?t.addWinningBid(e):utils.logWarn("Auction not found when adding winning bid")},i.getAllWinningBids=function(){return r.map(function(e){return e.getWinningBids()}).reduce(o.flatten,[])},i.getBidsRequested=function(){return r.map(function(e){return e.getBidRequests()}).reduce(o.flatten,[])},i.getNoBids=function(){return r.map(function(e){return e.getNoBids()}).reduce(o.flatten,[])},i.getBidsReceived=function(){return r.map(function(e){if(e.getAuctionStatus()===a.a)return e.getBidsReceived()}).reduce(o.flatten,[]).filter(function(e){return e})},i.getAdUnits=function(){return r.map(function(e){return e.getAdUnits()}).reduce(o.flatten,[])},i.getAdUnitCodes=function(){return r.map(function(e){return e.getAdUnitCodes()}).reduce(o.flatten,[]).filter(o.uniques)},i.createAuction=function(e){var t,n=e.adUnits,i=e.adUnitCodes,o=e.callback,s=e.cbTimeout,c=e.labels,l=e.auctionId,d=Object(a.h)({adUnits:n,adUnitCodes:i,callback:o,cbTimeout:s,labels:c,auctionId:l});return t=d,r.push(t),d},i.findBidByAdId=function(e){return c()(r.map(function(e){return e.getBidsReceived()}).reduce(o.flatten,[]),function(t){return t.adId===e})},i.getStandardBidderAdServerTargeting=function(){return Object(a.g)()[l.JSON_MAPPING.ADSERVER_TARGETING]},i.setStatusForBids=function(e,t){var n=i.findBidByAdId(e);if(n&&(n.status=t),n&&t===l.BID_STATUS.BID_TARGETING_SET){var o=c()(r,function(e){return e.getAuctionId()===n.auctionId});o&&o.setBidTargeting(n)}},i.getLastAuctionId=function(){return r.length&&r[r.length-1].getAuctionId()},i)},38:function(e,t,n){var r=n(23),i=n(73),o=n(74),a=n(25),s=n(33),c=n(75),l={},d={};(t=e.exports=function(e,t,n,u,p){var h,f,g,y,v=p?function(){return e}:c(e),m=r(n,u,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(h=s(e.length);b<h;b++)if((y=t?m(a(f=e[b])[0],f[1]):m(e[b]))===l||y===d)return y}else for(g=v.call(e);!(f=g.next()).done;)if((y=i(g,m,f.value,t))===l||y===d)return y}).BREAK=l,t.RETURN=d},39:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4:function(e,t){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",NO_BID:"noBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",SET_TARGETING:"setTargeting",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed"},AD_RENDER_FAILED_REASON:{PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocuemnt",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:{BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host"},NATIVE_KEYS:{title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice"},S2S:{SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"},BID_STATUS:{BID_TARGETING_SET:"targetingSet",RENDERED:"rendered"}}},40:function(e,t,n){var r=n(23),i=n(55),o=n(41),a=n(33),s=n(86);e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,d=4==e,u=6==e,p=5==e||u,h=t||s;return function(t,s,f){for(var g,y,v=o(t),m=i(v),b=r(s,f,3),_=a(m.length),T=0,C=n?h(t,_):c?h(t,0):void 0;T<_;T++)if((p||T in m)&&(y=b(g=m[T],T,v),e))if(n)C[T]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return T;case 2:C.push(g)}else if(d)return!1;return u?-1:l||d?d:C}}},41:function(e,t,n){var r=n(32);e.exports=function(e){return Object(r(e))}},42:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},43:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},44:function(e,t,n){var r=n(55),i=n(32);e.exports=function(e){return r(i(e))}},45:function(e,t,n){"use strict";t.a=function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}},46:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),t.c=function(e,t){var n=Object(r.getBidRequest)(e.requestId,t),i=n&&Object(r.deepAccess)(n,"mediaTypes.video"),o=i&&Object(r.deepAccess)(i,"context");return c(e,n,i,o)},n.d(t,"b",function(){return c}),n(7);var r=n(0),i=n(3),o=n(8),a=(n.n(o),n(17)),s="outstream",c=Object(a.b)("sync",function(e,t,n,o){return!t||n&&o!==s?i.config.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(Object(r.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):o!==s||!(!e.renderer&&!t.renderer)},"checkVideoBidSetup")},47:function(e,t,n){"use strict";t.a=function(e,t){if(t&&e)if(i()(s,t)){if(!a[e]){o.logWarn("module ".concat(t," is loading external JavaScript"));var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,o.insertElement(n),a[e]=!0}}else o.logError("".concat(t," not whitelisted for loading external JavaScript"));else o.logError("cannot load external script without url and moduleCode")},t.b=function(e,t,n){e?n?a[e]?t&&"function"==typeof t&&(a[e].loaded?t():a[e].callbacks.push(t)):(a[e]={loaded:!1,callbacks:[]},t&&"function"==typeof t&&a[e].callbacks.push(t),c(e,function(){a[e].loaded=!0;try{for(var t=0;t<a[e].callbacks.length;t++)a[e].callbacks[t]()}catch(t){o.logError("Error executing callback","adloader.js:loadScript",t)}})):c(e,t):o.logError("Error attempting to request empty URL","adloader.js:loadScript")};var r=n(8),i=n.n(r),o=n(0),a={},s=["criteo"];function c(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,t&&"function"==typeof t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()}),n.src=e;var r=document.getElementsByTagName("head");(r=r.length?r:document.getElementsByTagName("body")).length&&(r=r[0]).insertBefore(n,r.firstChild)}},48:function(e,t,n){"use strict";t.a=function(){return window.pbjs_vdo},window.pbjs_vdo=window.pbjs_vdo||{},window.pbjs_vdo.cmd=window.pbjs_vdo.cmd||[],window.pbjs_vdo.que=window.pbjs_vdo.que||[]},49:function(e,t,n){"use strict";var r=n(58),i=n(13),o=n(137),a=n(20),s=n(28),c=n(138),l=n(51),d=n(143),u=n(15)("iterator"),p=!([].keys&&"next"in[].keys()),h="values",f=function(){return this};e.exports=function(e,t,n,g,y,v,m){c(n,t,g);var b,_,T,C=function(e){if(!p&&e in A)return A[e];switch(e){case"keys":case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",w=y==h,S=!1,A=e.prototype,k=A[u]||A["@@iterator"]||y&&A[y],I=k||C(y),P=y?w?C("entries"):I:void 0,O="Array"==t&&A.entries||k;if(O&&(T=d(O.call(new e)))!==Object.prototype&&T.next&&(l(T,E,!0),r||"function"==typeof T[u]||a(T,u,f)),w&&k&&k.name!==h&&(S=!0,I=function(){return k.call(this)}),r&&!m||!p&&!S&&A[u]||a(A,u,I),s[t]=I,s[E]=f,y)if(b={values:w?I:C(h),keys:v?I:C("keys"),entries:P},m)for(_ in b)_ in A||o(A,_,b[_]);else i(i.P+i.F*(p||S),t,b);return b}},5:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),t.b=d;var r=n(10),i=n(3);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(0),c=4,l=d();function d(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3e3,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.request,l=t.done;return function(t,d,u){var p=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var h,f=p.method||(u?"POST":"GET"),g=document.createElement("a");g.href=t;var y="object"===a(d)&&null!==d?d:{success:function(){s.logMessage("xhr success")},error:function(e){s.logError("xhr error",null,e)}};if("function"==typeof d&&(y.success=d),(h=new window.XMLHttpRequest).onreadystatechange=function(){if(h.readyState===c){"function"==typeof l&&l(g.origin);var e=h.status;200<=e&&e<300||304===e?y.success(h.responseText,h):y.error(h.statusText,h)}},i.config.getConfig("disableAjaxTimeout")||(h.ontimeout=function(){s.logError("  xhr timeout after ",h.timeout,"ms")}),"GET"===f&&u){var v=Object(r.c)(t,p);o(v.search,u),t=Object(r.a)(v)}h.open(f,t,!0),i.config.getConfig("disableAjaxTimeout")||(h.timeout=e),p.withCredentials&&(h.withCredentials=!0),s._each(p.customHeaders,function(e,t){h.setRequestHeader(t,e)}),p.preflight&&h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.setRequestHeader("Content-Type",p.contentType||"text/plain"),"function"==typeof n&&n(g.origin),"POST"===f&&u?h.send(u):h.send()}catch(t){s.logError("xhr construction",t)}}}},50:function(e,t,n){var r=n(57)("keys"),i=n(43);e.exports=function(e){return r[e]||(r[e]=i(e))}},51:function(e,t,n){var r=n(19).f,i=n(26),o=n(15)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},52:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f});var r=n(11),i=n.n(r),o=n(0),a=2,s={buckets:[{min:0,max:5,increment:.5}]},c={buckets:[{min:0,max:20,increment:.1}]},l={buckets:[{min:0,max:20,increment:.01}]},d={buckets:[{min:0,max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}]},u={buckets:[{min:0,max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}]};function p(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":h(e,s,n),med:""===r?"":h(e,c,n),high:""===r?"":h(e,l,n),auto:""===r?"":h(e,u,n),dense:""===r?"":h(e,d,n),custom:""===r?"":h(e,t,n)}}function h(e,t,n){var r="";if(!f(t))return r;var o,s,c,l,d,u,p,h,g,y=t.buckets.reduce(function(e,t){return e.max>t.max?e:t},{max:0}),v=i()(t.buckets,function(t){if(e>y.max*n){var i=t.precision;void 0===i&&(i=a),r=(t.max*n).toFixed(i)}else if(e<=t.max*n&&e>=t.min*n)return t});return v&&(o=e,c=n,l=void 0!==(s=v).precision?s.precision:a,d=s.increment*c,u=s.min*c,p=Math.pow(10,l+2),h=(o*p-u*p)/(d*p),g=Math.floor(h)*d+u,r=(g=Number(g.toFixed(10))).toFixed(l)),r}function f(e){if(o.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach(function(e){void 0!==e.min&&e.max&&e.increment||(t=!1)}),t}},53:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},54:function(e,t,n){var r=n(16),i=n(18).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},55:function(e,t,n){var r=n(31);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},56:function(e,t,n){var r=n(31);e.exports=Array.isArray||function(e){return"Array"==r(e)}},57:function(e,t,n){var r=n(14),i=n(18),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(58)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},58:function(e,t){e.exports=!0},59:function(e,t,n){var r=n(44),i=n(33),o=n(89);e.exports=function(e){return function(t,n,a){var s,c=r(t),l=i(c.length),d=o(a,l);if(e&&n!=n){for(;d<l;)if((s=c[d++])!=s)return!0}else for(;d<l;d++)if((e||d in c)&&c[d]===n)return e||d||0;return!e&&-1}}},594:function(e,t,n){e.exports=n(65)},60:function(e,t,n){"use strict";t.a=function(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}},t.c=function(e){var t=l(1<arguments.length&&void 0!==arguments[1]?arguments[1]:c);return!t.shouldFilter||!!t.sizesSupported[e]},t.b=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=e.labelAll,o=void 0!==r&&r,s=e.activeLabels,d=void 0===s?[]:s,u=1<arguments.length?arguments[1]:void 0,p=2<arguments.length?arguments[2]:void 0,h=l(3<arguments.length&&void 0!==arguments[3]?arguments[3]:c);u=Object(i.isPlainObject)(u)?Object(i.deepClone)(u):p?{banner:{sizes:p}}:{};var f=Object(i.deepAccess)(u,"banner.sizes");h.shouldFilter&&f&&(u.banner.sizes=f.filter(function(e){return h.sizesSupported[e]}));var g=Object.keys(u),y={active:1<g.length||1===g.length&&"banner"!==g[0]||"banner"===g[0]&&0<Object(i.deepAccess)(u,"banner.sizes.length")&&(0===n.length||!o&&(n.some(function(e){return h.labels[e]})||n.some(function(e){return a()(d,e)}))||o&&n.reduce(function(e,t){return e?h.labels[t]||a()(d,t):e},!0)),mediaTypes:u};return f&&f.length!==u.banner.sizes.length&&(y.filterResults={before:f,after:u.banner.sizes}),y};var r=n(3),i=n(0),o=n(8),a=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=[];function l(e){return e.reduce(function(e,t){if("object"===s(t)&&"string"==typeof t.mediaQuery){var n=!1;try{n=Object(i.getWindowTop)().matchMedia(t.mediaQuery).matches}catch(e){Object(i.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),n=matchMedia(t.mediaQuery).matches}n&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach(function(n){return(t[n]||[]).forEach(function(t){return e[n][t]=!0})}))}else Object(i.logWarn)('sizeConfig rule missing required property "mediaQuery"');return e},{labels:{},sizesSupported:{},shouldFilter:!1})}r.config.getConfig("sizeConfig",function(e){return t=e.sizeConfig,void(c=t);var t})},61:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i={},o={incrementCounter:function(e){return i[e]=i[e]||{},i[e].counter=Object(r.deepAccess)(i,"".concat(e,".counter"))+1||1,i[e].counter},getCounter:function(e){return Object(r.deepAccess)(i,"".concat(e,".counter"))||0}}},62:function(e,t,n){"use strict";t.a=o,n.d(t,"b",function(){return a});var r=n(0);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){function t(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}return function(){try{var n,o=function(){var n=function(){var n,o=[];do{try{n=n?n.parent:e;try{var a=n==e.top,s={referrer:n.document.referrer||null,location:n.location.href||null,isTop:a};a&&(s=i(s,{canonicalUrl:t(n.document)})),o.push(s)}catch(a){o.push({referrer:null,location:null,isTop:n==e.top}),Object(r.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location")}}catch(a){return o.push({referrer:null,location:null,isTop:!1}),o}}while(n!=e.top);return o}(),o=function(){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}();if(o)for(var a=0,s=o.length;a<s;a++)n[a].ancestor=o[a];return n}(),a=o.length-1,s=null!==o[a].location||0<a&&null!==o[a-1].referrer,c=function(e){var t,n=[],r=null,i=null,o=null,a=null,s=null;for(t=e.length-1;0<=t;t--){try{r=e[t].location}catch(e){}if(r)n.push(r),s||(s=r);else if(0!==t){i=e[t-1];try{o=i.referrer,a=i.ancestor}catch(e){}o?(n.push(o),s||(s=o)):a?(n.push(a),s||(s=a)):n.push(null)}else n.push(null)}return{stack:n,detectedRefererUrl:s}}(o);return o[o.length-1].canonicalUrl&&(n=o[o.length-1].canonicalUrl),{referer:c.detectedRefererUrl,reachedTop:s,numIframes:a,stack:c.stack,canonicalUrl:n}}catch(n){}}}var a=o(window)},63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"TARGETING_KEY_PB_CAT_DUR",function(){return v}),n.d(t,"TARGETING_KEY_CACHE_ID",function(){return m}),t.callPrebidCacheHook=E,t.checkAdUnitSetupHook=w,t.checkVideoBidSetupHook=S,t.adpodSetConfig=A,t.initAdpodHooks=function(){Object(s.c)(i.e,E),Object(s.c)(o.checkAdUnitSetup,w),Object(s.c)(a.b,S)},t.callPrebidCacheAfterAuction=function(e,t){Object(c.b)(e,function(n,r){if(n)t(n,null);else{for(var i=[],o=0;o<r.length;o++)""!==r[o]&&i.push(e[o]);t(null,i)}})},t.sortByPricePerSecond=function(e,t){return e.cpm/e.video.durationBucket<t.cpm/t.video.durationBucket?1:e.cpm/e.video.durationBucket>t.cpm/t.video.durationBucket?-1:0};var r=n(0),i=n(36),o=n(65),a=n(46),s=n(17),c=n(64),l=n(3),d=n(2),u=n(134),p=n.n(u),h=n(11),f=n.n(h);var g,y=n(157),v="hb_pb_cat_dur",m="hb_cache_id",b=50,_=5,T=(g={},{addBid:function(e){var t,n,o,a;g[e.auctionId]||(t=e.auctionId,g[t]={},g[t].bidStorage=new p.a,g[t].queueDispatcher=(n=b,a=1,function(e,t,s,l){var d=this,u=function(){(function(e,t,n){(function(e){for(var t=0;t<e.length;t++)T.removeBid(e[t])})(t),Object(c.b)(t,function(o,a){if(o){r.logWarn("Failed to save to the video cache: ".concat(o,". Video bid(s) must be discarded."));for(var s=0;s<t.length;s++)Object(i.f)(e,t[s])}else for(var c=0;c<a.length;c++)""!==a[c].uuid?Object(i.d)(e,t[c]):r.logInfo("Detected a bid was not cached because the custom key was already registered.  Attempted to use key: ".concat(t[c].customCacheKey,". Bid was: "),t[c]),n()})}).call(d,e,t,s)};clearTimeout(o),l?a=1:a===_?(a=1,u()):(a++,o=setTimeout(u,n))}),g[t].initialCacheKey=r.generateUUID()),g[e.auctionId].bidStorage.add(e)},removeBid:function(e){g[e.auctionId].bidStorage.delete(e)},getBids:function(e){return g[e.auctionId]&&g[e.auctionId].bidStorage.values()},getQueueDispatcher:function(e){return g[e.auctionId]&&g[e.auctionId].queueDispatcher},setupInitialCacheKey:function(e){g[e.auctionId]||(g[e.auctionId]={},g[e.auctionId].initialCacheKey=r.generateUUID())},getInitialCacheKey:function(e){return g[e.auctionId]&&g[e.auctionId].initialCacheKey}});function C(e,t){var n,i=T.getInitialCacheKey(e),o=r.deepAccess(e,"video.durationBucket"),a=e.cpm.toFixed(2);if(t){var s=r.deepAccess(e,"meta.adServerCatId");n="".concat(a,"_").concat(s,"_").concat(o,"s")}else n="".concat(a,"_").concat(o,"s");e.adserverTargeting||(e.adserverTargeting={}),e.adserverTargeting[v]=n,e.adserverTargeting[m]=i,e.videoCacheKey=i,e.customCacheKey="".concat(n,"_").concat(i)}function E(e,t,n,o,a){var s=r.deepAccess(a,"mediaTypes.video");if(s&&s.context===d.a){var c=l.config.getConfig("adpod.brandCategoryExclusion");!r.deepAccess(n,"meta.adServerCatId")&&c&&(r.logWarn("Detected a bid without meta.adServerCatId while setConfig({adpod.brandCategoryExclusion}) was enabled.  This bid has been rejected:",n),o()),!1===l.config.getConfig("adpod.deferCaching")?(T.addBid(n),C(n,c),function(e,t,n){var o=T.getBids(t);if(o){var a=y(o);T.getQueueDispatcher(t)(e,a,n,!(e.getAuctionStatus()===i.b))}else r.logWarn("Attempted to cache a bid from an unknown auction. Bid:",t)}(t,n,o)):(T.setupInitialCacheKey(n),C(n,c),Object(i.d)(t,n),o())}else e.call(this,t,n,o,a)}function w(e,t){t=t.filter(function(e){var t=r.deepAccess(e,"mediaTypes"),n=r.deepAccess(t,"video");if(n&&n.context===d.a){if(1<Object.keys(t).length)return r.logWarn("Detected more than one mediaType in adUnitCode: ".concat(e.code," while attempting to define an 'adpod' video adUnit.  'adpod' adUnits cannot be mixed with other mediaTypes.  This adUnit will be removed from the auction.")),!1;var i="Detected missing or incorrectly setup fields for an adpod adUnit.  Please review the following fields of adUnitCode: ".concat(e.code,".  This adUnit will be removed from the auction."),o=!(!n.playerSize||!r.isArrayOfNums(n.playerSize)),a=!!(n.adPodDurationSec&&r.isNumber(n.adPodDurationSec)&&0<n.adPodDurationSec),s=!!(n.durationRangeSec&&r.isArrayOfNums(n.durationRangeSec)&&n.durationRangeSec.every(function(e){return 0<e}));if(!o||!a||!s)return i+=o?"":"\nmediaTypes.video.playerSize",i+=a?"":"\nmediaTypes.video.adPodDurationSec",i+=s?"":"\nmediaTypes.video.durationRangeSec",r.logWarn(i),!1}return!0}),e.call(this,t)}function S(e,t,n,i,o){if(o===d.a){var a=!0;l.config.getConfig("adpod.brandCategoryExclusion")&&!r.deepAccess(t,"meta.iabSubCatId")&&(a=!1),r.deepAccess(t,"video")&&(r.deepAccess(t,"video.context")&&t.video.context===d.a||(a=!1),!r.deepAccess(t,"video.durationSeconds")||t.video.durationSeconds<=0?a=!1:function(e,t){var n,i=r.deepAccess(t,"video.durationSeconds"),o=r.deepAccess(e,"mediaTypes.video"),a=o.durationRangeSec;if(a.sort(function(e,t){return e-t}),o.requireExactDuration){if(!f()(a,function(e){return e===i}))return r.logWarn("Detected a bid with a duration value not part of the list of accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Exact match durations must be used for this adUnit. Rejecting bid: ",t),!1;t.video.durationBucket=i}else{var s=Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(n=a)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}());if(!(i<=s+2))return r.logWarn("Detected a bid with a duration value outside the accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Rejecting bid: ",t),!1;var c=f()(a,function(e){return i<=e+2});t.video.durationBucket=c}return!0}(n,t)||(a=!1)),l.config.getConfig("cache.url")||!t.vastXml||t.vastUrl||(r.logError('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),a=!1),e.bail(a)}else e.call(this,t,n,i,o)}function A(e){void 0!==e.bidQueueTimeDelay&&("number"==typeof e.bidQueueTimeDelay&&0<e.bidQueueTimeDelay?b=e.bidQueueTimeDelay:r.logWarn("Detected invalid value for adpod.bidQueueTimeDelay in setConfig; must be a positive number.  Using default: ".concat(b))),void 0!==e.bidQueueSizeLimit&&("number"==typeof e.bidQueueSizeLimit&&0<e.bidQueueSizeLimit?_=e.bidQueueSizeLimit:r.logWarn("Detected invalid value for adpod.bidQueueSizeLimit in setConfig; must be a positive number.  Using default: ".concat(_)))}l.config.getConfig("adpod",function(e){return A(e.adpod)})},64:function(e,t,n){"use strict";t.b=function(e,t){var n,a={puts:e.map(o)};Object(r.a)(i.config.getConfig("cache.url"),(n=t,{success:function(e){var t;try{t=JSON.parse(e).responses}catch(e){return void n(e,[])}t?n(null,t):n(new Error("The cache server didn't respond with a responses property."),[])},error:function(e,t){n(new Error("Error storing video ad in the cache: ".concat(e,": ").concat(JSON.stringify(t))),[])}}),JSON.stringify(a),{contentType:"text/plain",withCredentials:!0})},t.a=function(e){return"".concat(i.config.getConfig("cache.url"),"?uuid=").concat(e)};var r=n(5),i=n(3);function o(e){var t,n,r,i={type:"xml",value:e.vastXml?e.vastXml:(t=e.vastUrl,n=e.vastImpUrl,r=n?"<![CDATA[".concat(n,"]]>"):"",'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(t,"]]></VASTAdTagURI>\n        <Impression>").concat(r,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")),ttlseconds:Number(e.ttl)};return"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(i.key=e.customCacheKey),i}},65:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"checkAdUnitSetup",function(){return F});var r=n(48),i=n(0),o=n(132),a=n(24),s=n(47),c=n(3),l=n(37),d=n(66),u=n(17),p=n(133),h=n(8),f=n.n(h),g=n(61),y=n(12),v=n(22);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=Object(r.a)(),T=n(4),C=n(0),E=n(7).default,w=n(9),S=a.a.triggerUserSyncs,A=T.EVENTS,k=A.ADD_AD_UNITS,I=A.BID_WON,P=A.REQUEST_BIDS,O=A.SET_TARGETING,j=A.AD_RENDER_FAILED,x=T.AD_RENDER_FAILED_REASON,D=x.PREVENT_WRITING_ON_MAIN_DOCUMENT,R=x.NO_AD,N=x.EXCEPTION,M=x.CANNOT_FIND_AD,B=x.MISSING_DOC_OR_ADID,L={bidWon:function(e){var t=l.a.getBidsRequested().map(function(e){return e.bids.map(function(e){return e.adUnitCode})}).reduce(i.flatten).filter(i.uniques);return!!C.contains(t,e)||void C.logError('The "'+e+'" placement is not defined.')}};function U(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}Object(p.a)(),_.bidderSettings=_.bidderSettings||{},_.libLoaded=!0,_.version="v2.13.0-pre",C.logInfo("Prebid.js v2.13.0-pre loaded"),_.adUnits=_.adUnits||[],_.triggerUserSyncs=S;var F=Object(u.b)("sync",function(e){return e.forEach(function(e){var t=e.mediaTypes,n=C.getAdUnitSizes(e);if(t&&t.banner){var r=t.banner;r.sizes?(r.sizes=n,e.sizes=n):(C.logError("Detected a mediaTypes.banner object did not include sizes.  This is a required field for the mediaTypes.banner object.  Removing invalid mediaTypes.banner object from request."),delete e.mediaTypes.banner)}else e.sizes&&(C.logWarn("Usage of adUnits.sizes will eventually be deprecated.  Please define size dimensions within the corresponding area of the mediaTypes.<object> (eg mediaTypes.banner.sizes)."),e.sizes=n);if(t&&t.video){var o=t.video;if(o.playerSize)if(Array.isArray(o.playerSize)&&1===o.playerSize.length&&o.playerSize.every(function(e){return Object(i.isArrayOfNums)(e,2)}))e.sizes=o.playerSize;else if(Object(i.isArrayOfNums)(o.playerSize,2)){var a=[];a.push(o.playerSize),C.logInfo("Transforming video.playerSize from [".concat(o.playerSize,"] to [[").concat(a,"]] so it's in the proper format.")),e.sizes=o.playerSize=a}else C.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete e.mediaTypes.video.playerSize}if(t&&t.native){var s=t.native;s.image&&s.image.sizes&&!Array.isArray(s.image.sizes)&&(C.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete e.mediaTypes.native.image.sizes),s.image&&s.image.aspect_ratios&&!Array.isArray(s.image.aspect_ratios)&&(C.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete e.mediaTypes.native.image.aspect_ratios),s.icon&&s.icon.sizes&&!Array.isArray(s.icon.sizes)&&(C.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete e.mediaTypes.native.icon.sizes)}}),e},"checkAdUnitSetup");function z(e){var t=l.a[e]().filter(C.bind.call(i.adUnitsFilter,this,l.a.getAdUnitCodes())),n=l.a.getLastAuctionId();return t.map(function(e){return e.adUnitCode}).filter(i.uniques).map(function(e){return t.filter(function(t){return t.auctionId===n&&t.adUnitCode===e})}).filter(function(e){return e&&e[0]&&e[0].adUnitCode}).map(function(e){return t={},n=e[0].adUnitCode,r={bids:e},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r}).reduce(function(e,t){return b(e,t)},{})}function W(e,t,n){var r={};r.reason=e,r.message=t,n&&(r.bid=n),C.logError(t),w.emit(j,r)}function V(e){e.forEach(function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){C.logError("Error processing command :","prebid.js",e)}})}_.getAdserverTargetingForAdUnitCodeStr=function(e){if(C.logInfo("Invoking pbjs_vdo.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=_.getAdserverTargetingForAdUnitCode(e);return C.transformAdServerTargetingObj(t)}C.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},_.getAdserverTargetingForAdUnitCode=function(e){return _.getAdserverTargeting(e)[e]},_.getAdserverTargeting=function(e){return C.logInfo("Invoking pbjs_vdo.getAdserverTargeting",arguments),d.b.getAllTargeting(e)},_.getNoBids=function(){return C.logInfo("Invoking pbjs_vdo.getNoBids",arguments),z("getNoBids")},_.getBidResponses=function(){return C.logInfo("Invoking pbjs_vdo.getBidResponses",arguments),z("getBidsReceived")},_.getBidResponsesForAdUnitCode=function(e){return{bids:l.a.getBidsReceived().filter(function(t){return t.adUnitCode===e})}},_.setTargetingForGPTAsync=function(e,t){if(C.logInfo("Invoking pbjs_vdo.setTargetingForGPTAsync",arguments),Object(i.isGptPubadsDefined)()){var n=d.b.getAllTargeting(e);d.b.resetPresetTargeting(e),d.b.setTargetingForGPT(n,t),Object.keys(n).forEach(function(e){Object.keys(n[e]).forEach(function(t){"hb_adid"===t&&l.a.setStatusForBids(n[e][t],T.BID_STATUS.BID_TARGETING_SET)})}),w.emit(O,n)}else C.logError("window.googletag is not defined on the page")},_.setTargetingForAst=function(){C.logInfo("Invoking pbjs_vdo.setTargetingForAn",arguments),d.b.isApntagDefined()?(d.b.setTargetingForAst(),w.emit(O,d.b.getAllTargeting())):C.logError("window.apntag is not defined on the page")},_.renderAd=function(e,t){if(C.logInfo("Invoking pbjs_vdo.renderAd",arguments),C.logMessage("Calling renderAd with adId :"+t),e&&t)try{var n=l.a.findBidByAdId(t);if(n){n.status=T.BID_STATUS.RENDERED,n.ad=C.replaceAuctionPrice(n.ad,n.cpm),n.adUrl=C.replaceAuctionPrice(n.adUrl,n.cpm),l.a.addWinningBid(n),w.emit(I,n);var r=n.height,i=n.width,o=n.ad,a=n.mediaType,s=n.adUrl,c=n.renderer,d=document.createComment("Creative ".concat(n.creativeId," served by ").concat(n.bidder," Prebid.js Header Bidding"));if(C.insertElement(d,e,"body"),Object(y.c)(c))Object(y.b)(c,n);else if(e===document&&!C.inIframe()||"video"===a){var u="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");W(D,u,n)}else if(o)e.open("text/html","replace"),e.write(o),e.close(),U(e,i,r),C.callBurl(n);else if(s){var p=C.createInvisibleIframe();p.height=r,p.width=i,p.style.display="inline",p.style.overflow="hidden",p.src=s,C.insertElement(p,e,"body"),U(e,i,r),C.callBurl(n)}else{var h="Error trying to write ad. No ad for bid response id: ".concat(t);W(R,h,n)}}else{var f="Error trying to write ad. Cannot find ad by given id : ".concat(t);W(M,f)}}catch(e){var g="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);W(N,g)}else{var v="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");W(B,v)}},_.removeAdUnit=function(e){C.logInfo("Invoking pbjs_vdo.removeAdUnit",arguments),e?(C.isArray(e)?e:[e]).forEach(function(e){for(var t=0;t<_.adUnits.length;t++)_.adUnits[t].code===e&&_.adUnits.splice(t,1)}):_.adUnits=[]},_.requestBids=Object(u.b)("async",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,i=e.adUnitCodes,o=e.labels,a=e.auctionId;w.emit(P);var s=n||c.config.getConfig("bidderTimeout");if(r=r||_.adUnits,C.logInfo("Invoking pbjs_vdo.requestBids",arguments),i&&i.length?r=r.filter(function(e){return f()(i,e.code)}):i=r&&r.map(function(e){return e.code}),(r=F(r)).forEach(function(e){var t=Object.keys(e.mediaTypes||{banner:"banner"}),n=e.bids.map(function(e){return e.bidder}),r=E.bidderRegistry,i=c.config.getConfig("s2sConfig"),o=i&&i.bidders,a=o?n.filter(function(e){return!f()(o,e)}):n;e.transactionId=C.generateUUID(),a.forEach(function(n){var i=r[n],o=i&&i.getSpec&&i.getSpec(),a=o&&o.supportedMediaTypes||["banner"];t.some(function(e){return f()(a,e)})||(C.logWarn(C.unsupportedBidderMessage(e,n)),e.bids=e.bids.filter(function(e){return e.bidder!==n}))}),g.a.incrementCounter(e.code)}),r&&0!==r.length){var u=l.a.createAuction({adUnits:r,adUnitCodes:i,callback:t,cbTimeout:s,labels:o,auctionId:a}),p=r.length;return 15<p&&C.logInfo("Current auction ".concat(u.getAuctionId()," contains ").concat(p," adUnits."),r),i.forEach(function(e){return d.b.setLatestAuctionForAdUnit(e,u.getAuctionId())}),u.callBids(),u}if(C.logMessage("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){C.logError("Error executing bidsBackHandler",null,e)}}),_.addAdUnits=function(e){C.logInfo("Invoking pbjs_vdo.addAdUnits",arguments),C.isArray(e)?_.adUnits.push.apply(_.adUnits,e):"object"===m(e)&&_.adUnits.push(e),w.emit(k)},_.onEvent=function(e,t,n){C.logInfo("Invoking pbjs_vdo.onEvent",arguments),C.isFn(t)?!n||L[e].call(null,n)?w.on(e,t,n):C.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):C.logError('The event handler provided is not a function and was not set on event "'+e+'".')},_.offEvent=function(e,t,n){C.logInfo("Invoking pbjs_vdo.offEvent",arguments),n&&!L[e].call(null,n)||w.off(e,t,n)},_.registerBidAdapter=function(e,t){C.logInfo("Invoking pbjs_vdo.registerBidAdapter",arguments);try{E.registerBidAdapter(e(),t)}catch(e){C.logError("Error registering bidder adapter : "+e.message)}},_.registerAnalyticsAdapter=function(e){C.logInfo("Invoking pbjs_vdo.registerAnalyticsAdapter",arguments);try{E.registerAnalyticsAdapter(e)}catch(e){C.logError("Error registering analytics adapter : "+e.message)}},_.createBid=function(e){return C.logInfo("Invoking pbjs_vdo.createBid",arguments),Object(v.a)(e)},_.loadScript=function(e,t,n){C.logInfo("Invoking pbjs_vdo.loadScript",arguments),Object(s.b)(e,t,n)},_.enableAnalytics=function(e){e&&!C.isEmpty(e)?(C.logInfo("Invoking pbjs_vdo.enableAnalytics for: ",e),E.enableAnalytics(e)):C.logError("pbjs_vdo.enableAnalytics should be called with option {}")},_.aliasBidder=function(e,t){C.logInfo("Invoking pbjs_vdo.aliasBidder",arguments),e&&t?E.aliasBidAdapter(e,t):C.logError("bidderCode and alias must be passed as arguments","pbjs_vdo.aliasBidder")},_.getAllWinningBids=function(){return l.a.getAllWinningBids()},_.getAllPrebidWinningBids=function(){return l.a.getBidsReceived().filter(function(e){return e.status===T.BID_STATUS.BID_TARGETING_SET})},_.getHighestCpmBids=function(e){var t=Object(d.a)(l.a.getBidsReceived(),i.getLatestHighestCpmBid);return d.b.getWinningBids(e,t)},_.markWinningBidAsUsed=function(e){var t=[];e.adUnitCode&&e.adId?t=l.a.getBidsReceived().filter(function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode}):e.adUnitCode?t=d.b.getWinningBids(e.adUnitCode):e.adId?t=l.a.getBidsReceived().filter(function(t){return t.adId===e.adId}):C.logWarn("Inproper usage of markWinningBidAsUsed. It'll need an adUnitCode and/or adId to function."),0<t.length&&(t[0].status=T.BID_STATUS.RENDERED)},_.getConfig=c.config.getConfig,_.setConfig=c.config.setConfig,_.que.push(function(){return Object(o.a)()}),_.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){C.logError("Error processing command :",e.message,e.stack)}else C.logError("Commands written into pbjs_vdo.cmd.push must be wrapped in a function")},_.que.push=_.cmd.push,_.processQueue=function(){u.b.ready(),V(_.que),V(_.cmd)},t.default=_},66:function(e,t,n){"use strict";t.a=_,n.d(t,"b",function(){return T});var r=n(0),i=n(3),o=n(27),a=n(37),s=n(60),c=n(2),l=n(8),d=n.n(l);function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n(0),g=n(4),y=[],v=Object.keys(g.TARGETING_KEYS).map(function(e){return g.TARGETING_KEYS[e]}),m=function(e){return e.responseTimestamp+1e3*e.ttl+1e3>Object(r.timestamp)()},b=function(e){return e&&(e.status&&!d()([g.BID_STATUS.BID_TARGETING_SET,g.BID_STATUS.RENDERED],e.status)||!e.status)};function _(e,t){var n=[],i=Object(r.groupBy)(e,"adUnitCode");return Object.keys(i).forEach(function(e){var o=Object(r.groupBy)(i[e],"bidderCode");Object.keys(o).forEach(function(e){return n.push(o[e].reduce(t))})}),n}var T=function(e){var t={},n={};function a(t){return"string"==typeof t?[t]:f.isArray(t)?t:e.getAdUnitCodes()||[]}function l(){var t=e.getBidsReceived();return i.config.getConfig("useBidCache")||(t=t.filter(function(e){return n[e.adUnitCode]===e.auctionId})),_(t=t.filter(function(e){return Object(r.deepAccess)(e,"video.context")!==c.a}).filter(function(e){return"banner"!==e.mediaType||Object(s.c)([e.width,e.height])}).filter(b).filter(m),r.getOldestHighestCpmBid)}function T(){return e.getStandardBidderAdServerTargeting().map(function(e){return e.key}).concat(v).filter(r.uniques)}function C(e,t,n,i){return Object.keys(t.adserverTargeting).filter(E()).forEach(function(n){var i,o;e.length&&e.filter((o=n,function(e){return e.adUnitCode===t.adUnitCode&&e.adserverTargeting[o]})).forEach((i=n,function(e){f.isArray(e.adserverTargeting[i])||(e.adserverTargeting[i]=[e.adserverTargeting[i]]),e.adserverTargeting[i]=e.adserverTargeting[i].concat(t.adserverTargeting[i]).filter(r.uniques),delete t.adserverTargeting[i]}))}),e.push(t),e}function E(){var e=T();return function(t){return-1===e.indexOf(t)}}function w(e){return h({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(E()).map(function(t){return h({},t.substring(0,20),[e.adserverTargeting[t]])}))}return t.setLatestAuctionForAdUnit=function(e,t){n[e]=t},t.resetPresetTargeting=function(t){if(Object(r.isGptPubadsDefined)()){var n=a(t),i=e.getAdUnits().filter(function(e){return d()(n,e.code)});window.googletag.pubads().getSlots().forEach(function(e){y.forEach(function(t){i.forEach(function(n){n.code!==e.getAdUnitPath()&&n.code!==e.getSlotElementId()||e.setTargeting(t,null)})})})}},t.resetPresetTargetingAST=function(e){a(e).forEach(function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach(function(e){d()(y,e.toLowerCase())||(r[e]=t.keywords[e])}),window.apntag.modifyTag(e,{keywords:r})}})},t.getAllTargeting=function(e){var n,s,c,m,b,E,S,A,k=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l(),I=a(e),P=(b=I,E=k,S=t.getWinningBids(b,E),A=T(),S.map(function(e){return h({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===A.indexOf(t)}).reduce(function(t,n){var r=[e.adserverTargeting[n]],i=h({},n.substring(0,20),r);if(n!==g.TARGETING_KEYS.DEAL)return[].concat(u(t),[i]);var o=h({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),r);return[].concat(u(t),[i,o])},[]))})).concat((m=I,k.filter(function(e){return d()(m,e.adUnitCode)}).map(function(e){return p({},e)}).reduce(C,[]).map(w).filter(function(e){return e}))).concat(i.config.getConfig("enableSendAllBids")?(n=I,s=k,c=v.concat(o.a),_(s,r.getHighestCpm).map(function(e){if(e.adserverTargeting&&n&&(f.isArray(n)&&d()(n,e.adUnitCode)||"string"==typeof n&&e.adUnitCode===n))return h({},e.adUnitCode,(t=e,c.filter(function(t){return void 0!==e.adserverTargeting[t]}).map(function(e){return h({},"".concat(e,"_").concat(t.bidderCode).substring(0,20),[t.adserverTargeting[e]])})));var t}).filter(function(e){return e})):[]);return P.map(function(e){Object.keys(e).map(function(t){e[t].map(function(e){-1===y.indexOf(Object.keys(e)[0])&&(y=Object.keys(e).concat(y))})})}),P=P.map(function(e){return h({},Object.keys(e)[0],e[Object.keys(e)[0]].map(function(e){return h({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))}).reduce(function(e,t){return p(t,e)},{}))}).reduce(function(e,t){var n=Object.keys(t)[0];return e[n]=p({},e[n],t[n]),e},{}),I.forEach(function(e){P[e]||(P[e]={})}),P},t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach(function(n){Object.keys(e).filter(t?t(n):Object(r.isAdUnitCodeMatchingSlot)(n)).forEach(function(t){return Object.keys(e[t]).forEach(function(r){var i=e[t][r].split(",");(i=1<i.length?[i]:i).map(function(e){return f.logMessage("Attempting to set key value for slot: ".concat(n.getSlotElementId()," key: ").concat(r," value: ").concat(e)),e}).forEach(function(e){n.setTargeting(r,e)})})})})},t.getWinningBids=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l(),n=a(e);return t.filter(function(e){return d()(n,e.adUnitCode)}).filter(function(e){return 0<e.cpm}).map(function(e){return e.adUnitCode}).filter(r.uniques).map(function(e){return t.filter(function(t){return t.adUnitCode===e?t:null}).reduce(r.getHighestCpm)})},t.setTargetingForAst=function(){var e=t.getAllTargeting();try{t.resetPresetTargetingAST()}catch(e){f.logError("unable to reset targeting for AST"+e)}Object.keys(e).forEach(function(t){return Object.keys(e[t]).forEach(function(n){if(f.logMessage("Attempting to set targeting for targetId: ".concat(t," key: ").concat(n," value: ").concat(e[t][n])),f.isStr(e[t][n])||f.isArray(e[t][n])){var r={};n.search(/pt[0-9]/)<0?r[n.toUpperCase()]=e[t][n]:r[n]=e[t][n],window.apntag.setKeywords(t,r,{overrideKeyValue:!0})}})})},t.isApntagDefined=function(){if(window.apntag&&f.isFn(window.apntag.setKeywords))return!0},t}(a.a)},67:function(e,t,n){"use strict";var r=n(136)(!0);n(49)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},68:function(e,t,n){var r=n(25),i=n(139),o=n(69),a=n(50)("IE_PROTO"),s=function(){},c="prototype",l=function(){var e,t=n(54)("iframe"),r=o.length;for(t.style.display="none",n(142).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l[c][o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[c]=r(e),n=new s,s[c]=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},69:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"gdprDataHandler",function(){return A}),t.setS2STestingModule=function(e){y=e};var r=n(0),i=n(60),o=n(27),a=n(1),s=n(5),c=n(3),l=n(8),d=n.n(l),u=n(11),p=n.n(u),h=n(61),f=n(62);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y,v=n(0),m=n(4),b=n(9),_={},T=_.bidderRegistry={},C=_.aliasRegistry={},E={};c.config.getConfig("s2sConfig",function(e){E=e.s2sConfig});var w={};function S(e){var t=e.bidderCode,n=e.auctionId,a=e.bidderRequestId,s=e.adUnits,c=e.labels,l=e.src;return s.reduce(function(e,s){var d=Object(i.b)(Object(i.a)(s,c),s.mediaTypes,s.sizes),u=d.active,p=d.mediaTypes,f=d.filterResults;return u?f&&v.logInfo('Size mapping filtered adUnit "'.concat(s.code,'" banner sizes from '),f.before,"to ",f.after):v.logInfo('Size mapping disabled adUnit "'.concat(s.code,'"')),u&&e.push(s.bids.filter(function(e){return e.bidder===t}).reduce(function(e,t){var d=s.nativeParams||v.deepAccess(s,"mediaTypes.native");d&&(t=g({},t,{nativeParams:Object(o.g)(d)})),t=g({},t,Object(r.getDefinedParams)(s,["mediaType","renderer"]));var u=Object(i.b)(Object(i.a)(t,c),p),f=u.active,y=u.mediaTypes,m=u.filterResults;return f?m&&v.logInfo('Size mapping filtered adUnit "'.concat(s.code,'" bidder "').concat(t.bidder,'" banner sizes from '),m.before,"to ",m.after):v.logInfo('Size mapping deactivated adUnit "'.concat(s.code,'" bidder "').concat(t.bidder,'"')),v.isValidMediaTypes(y)?t=g({},t,{mediaTypes:y}):v.logError("mediaTypes is not correctly configured for adunit ".concat(s.code)),f&&e.push(g({},t,{adUnitCode:s.code,transactionId:s.transactionId,sizes:v.deepAccess(y,"banner.sizes")||v.deepAccess(y,"video.playerSize")||[],bidId:t.bid_id||v.getUniqueIdentifierStr(),bidderRequestId:a,auctionId:n,src:l,bidRequestsCount:h.a.getCounter(s.code)})),e},[])),e},[]).reduce(r.flatten,[]).filter(function(e){return""!==e})}var A={consentData:null,setConsentData:function(e){A.consentData=e},getConsentData:function(){return A.consentData}};function k(){return E&&E.enabled&&E.testing&&y}function I(e,t,n){try{var r=T[e].getSpec();r&&r[t]&&"function"==typeof r[t]&&(v.logInfo("Invoking ".concat(e,".").concat(t)),r[t](n))}catch(n){v.logWarn("Error calling ".concat(t," of ").concat(e))}}_.makeBidRequests=function(e,t,n,i,o){var a=[],s=Object(r.getBidderCodes)(e);c.config.getConfig("bidderSequence")===c.RANDOM&&(s=Object(r.shuffle)(s));var l,u,h,g=Object(f.b)(),b=s,_=[];if(E.enabled){k()&&(_=y.getSourceBidderMap(e)[y.CLIENT]);var C=E.bidders;b=s.filter(function(e){return!d()(C,e)||d()(_,e)});var w=(l=e,u=E.bidders,(h=v.deepClone(l)).forEach(function(e){e.bids=e.bids.filter(function(e){return d()(u,e.bidder)&&(!k()||e.finalSource!==y.CLIENT)}).map(function(e){return e.bid_id=v.getUniqueIdentifierStr(),e})}),h.filter(function(e){return 0!==e.bids.length})),I=v.generateUUID();C.forEach(function(e){var r=v.getUniqueIdentifierStr(),i={bidderCode:e,auctionId:n,bidderRequestId:r,tid:I,bids:S({bidderCode:e,auctionId:n,bidderRequestId:r,adUnits:v.deepClone(w),labels:o,src:m.S2S.SRC}),auctionStart:t,timeout:E.timeout,src:m.S2S.SRC,refererInfo:g};0!==i.bids.length&&a.push(i)}),w.forEach(function(e){var t=e.bids.filter(function(e){return p()(a,function(t){return p()(t.bids,function(t){return t.bidId===e.bid_id})})});e.bids=t}),a.forEach(function(e){e.adUnitsS2SCopy=w.filter(function(e){return 0<e.bids.length})})}var P,O,j=(P=e,(O=v.deepClone(P)).forEach(function(e){e.bids=e.bids.filter(function(e){return!k()||e.finalSource!==y.SERVER})}),O.filter(function(e){return 0!==e.bids.length}));return b.forEach(function(e){var r=v.getUniqueIdentifierStr(),s={bidderCode:e,auctionId:n,bidderRequestId:r,bids:S({bidderCode:e,auctionId:n,bidderRequestId:r,adUnits:v.deepClone(j),labels:o,src:"client"}),auctionStart:t,timeout:i,refererInfo:g},c=T[e];c||v.logError("Trying to make a request for bidder that does not exist: ".concat(e)),c&&s.bids&&0!==s.bids.length&&a.push(s)}),A.getConsentData()&&a.forEach(function(e){e.gdprConsent=A.getConsentData()}),a},_.callBids=function(e,t,n,i,o,a,c){if(t.length){var l=(A=t.reduce(function(e,t){return e[Number(void 0!==t.src&&t.src===m.S2S.SRC)].push(t),e},[[],[]]),k=2,function(e){if(Array.isArray(e))return e}(A)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(A,k)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),u=l[0],p=l[1];if(p.length){var h=Object(s.b)(a,o?{request:o.request.bind(null,"s2s"),done:o.done}:void 0),f=E.bidders,g=T[E.adapter],y=p[0].tid,_=p[0].adUnitsS2SCopy;if(g){var C={tid:y,ad_units:_};if(C.ad_units.length){var w=p.map(function(e){return e.start=Object(r.timestamp)(),i.bind(e)}),S=C.ad_units.reduce(function(e,t){return e.concat((t.bids||[]).reduce(function(e,t){return e.concat(t.bidder)},[]))},[]);v.logMessage("CALLING S2S HEADER BIDDERS ==== ".concat(f.filter(function(e){return d()(S,e)}).join(","))),p.forEach(function(e){b.emit(m.EVENTS.BID_REQUESTED,e)}),g.callBids(C,p,function(e,t){var i=Object(r.getBidderRequest)(p,t.bidderCode,e);i&&n.call(i,e,t)},function(){return w.forEach(function(e){return e()})},h)}}}u.forEach(function(e){e.start=Object(r.timestamp)();var t=T[e.bidderCode];v.logMessage("CALLING BIDDER ======= ".concat(e.bidderCode)),b.emit(m.EVENTS.BID_REQUESTED,e);var l=Object(s.b)(a,o?{request:o.request.bind(null,e.bidderCode),done:o.done}:void 0);t.callBids(e,n.bind(e),i.bind(e),l,c)})}else v.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");var A,k},_.videoAdapters=[],_.registerBidAdapter=function(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,r=void 0===n?[]:n;e&&t?"function"==typeof e.callBids?(T[t]=e,d()(r,"video")&&_.videoAdapters.push(t),d()(r,"native")&&o.e.push(t)):v.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):v.logError("bidAdaptor or bidderCode not specified")},_.aliasBidAdapter=function(e,t){if(void 0===T[t]){var n=T[e];if(void 0===n){var r=c.config.getConfig("s2sConfig"),i=r&&r.bidders;i&&d()(i,t)?C[t]=e:v.logError('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}else try{var s,l=(p=e,h=[],d()(_.videoAdapters,p)&&h.push("video"),d()(o.e,p)&&h.push("native"),h);if(n.constructor.prototype!=Object.prototype)(s=new n.constructor).setBidderCode(t);else{var u=n.getSpec();s=Object(a.newBidder)(g({},u,{code:t})),C[t]=e}_.registerBidAdapter(s,t,{supportedMediaTypes:l})}catch(t){v.logError(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else v.logMessage('alias name "'+t+'" has been already specified.');var p,h},_.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,w[n]=t):v.logError('Prebid Error: Analytics adaptor error for analytics "'.concat(n,'"\n        analytics adapter must implement an enableAnalytics() function')):v.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},_.enableAnalytics=function(e){v.isArray(e)||(e=[e]),v._each(e,function(e){var t=w[e.provider];t?t.enableAnalytics(e):v.logError("Prebid Error: no analytics adapter found in registry for\n        ".concat(e.provider,"."))})},_.getBidAdapter=function(e){return T[e]},_.callTimedOutBidders=function(e,t,n){t=t.map(function(t){return t.params=v.getUserConfiguredParams(e,t.adUnitCode,t.bidder),t.timeout=n,t}),t=v.groupBy(t,"bidder"),Object.keys(t).forEach(function(e){I(e,"onTimeout",t[e])})},_.callBidWonBidder=function(e,t,n){t.params=v.getUserConfiguredParams(n,t.adUnitCode,t.bidder),I(e,"onBidWon",t)},_.callSetTargetingBidder=function(e,t){I(e,"onSetTargeting",t)},t.default=_},70:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},71:function(e,t,n){var r=n(20);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},72:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},73:function(e,t,n){var r=n(25);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},74:function(e,t,n){var r=n(28),i=n(15)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},75:function(e,t,n){var r=n(76),i=n(15)("iterator"),o=n(28);e.exports=n(14).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},76:function(e,t,n){var r=n(31),i=n(15)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},77:function(e,t,n){var r=n(43)("meta"),i=n(16),o=n(26),a=n(19).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(30)(function(){return c(Object.preventExtensions({}))}),d=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},u=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";d(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;d(e)}return e[r].w},onFreeze:function(e){return l&&u.NEED&&c(e)&&!o(e,r)&&d(e),e}}},78:function(e,t,n){var r=n(16);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},79:function(e,t,n){"use strict";t.a=function(e,t){o.adServers=o.adServers||{},o.adServers[e]=o.adServers[e]||{},Object.keys(t).forEach(function(n){o.adServers[e][n]?Object(i.logWarn)("Attempting to add an already registered function property ".concat(n," for AdServer ").concat(e,".")):o.adServers[e][n]=t[n]})};var r=n(48),i=n(0),o=Object(r.a)()},8:function(e,t,n){n(88),e.exports=n(14).Array.includes},80:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setStorageItem=g,t.getStorageItem=y,t.removeStorageItem=v,t.isPubcidEnabled=function(){return f.enabled},t.getExpInterval=function(){return f.interval},t.getPubcidConfig=function(){return f},t.requestBidHook=_,t.setCookie=T,t.getCookie=C,t.setConfig=E,t.initPubcid=w;var r=n(0),i=n(3);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s="_pubcid",c="_pubcid_optout",l=525600,d="PublisherCommonId",u="_exp",p="cookie",h="html5",f={enabled:!0,interval:l,typeEnabled:h,readOnly:!1};function g(e,t,n){try{if(void 0!==n&&null!=n){var i=new Date(Date.now()+60*n*1e3).toUTCString();localStorage.setItem(e+u,i)}localStorage.setItem(e,t)}catch(e){r.logMessage(e)}}function y(e){var t=null;try{var n=localStorage.getItem(e+u);n?0<new Date(n).getTime()-Date.now()?t=localStorage.getItem(e):v(e):t=localStorage.getItem(e)}catch(e){r.logMessage(e)}return t}function v(e){try{localStorage.removeItem(e+u),localStorage.removeItem(e)}catch(e){r.logMessage(e)}}function m(e){var t;return f.typeEnabled===p?t=C(e):f.typeEnabled===h&&((t=y(e))||(t=C(e))),"undefined"===t||"null"===t?null:t}function b(e,t,n){e&&t&&(f.typeEnabled===p?T(e,t,n):f.typeEnabled===h&&g(e,t,n))}function _(e,t){var n=t.adUnits||pbjs_vdo.adUnits,i=null;return f.enabled&&f.typeEnabled&&("object"===a(window[d])?(i=window[d].getId(),r.logMessage(d+": pubcid = "+i)):(i=m(s),f.readOnly||(i?b(s,i,f.interval):(i=r.generateUUID(),b(s,i,f.interval),i=m(s))),r.logMessage("pbjs: pubcid = "+i)),n&&i&&n.forEach(function(e){e.bids.forEach(function(e){o(e,{crumbs:{pubcid:i}})})})),e.call(this,t)}function T(e,t,n){var r=new Date;r.setTime(r.getTime()+1e3*n*60),window.document.cookie=e+"="+encodeURIComponent(t)+";path=/;expires="+r.toGMTString()}function C(e){if(e&&window.document.cookie){var t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}return null}function E(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.enable,n=void 0===t||t,i=e.expInterval,o=void 0===i?l:i,a=e.type,s=void 0===a?"html5,cookie":a,c=e.readOnly,d=void 0!==c&&c;f.enabled=n,f.interval=parseInt(o,10),isNaN(f.interval)&&(f.interval=l),f.readOnly=d,f.typeEnabled=null;for(var u=s.split(","),g=0;g<u.length;++g){var y=u[g].trim();if(y===p){if(r.cookiesAreEnabled()){f.typeEnabled=p;break}}else if(y===h&&r.hasLocalStorage()){f.typeEnabled=h;break}}}function w(){i.config.getConfig("pubcid",function(e){return E(e.pubcid)}),m(c)||pbjs_vdo.requestBids.before(_)}w()},83:function(e,t,n){"use strict";var r=n(13),i=n(40)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(34)("find")},84:function(e,t,n){e.exports=!n(21)&&!n(30)(function(){return 7!=Object.defineProperty(n(54)("div"),"a",{get:function(){return 7}}).a})},85:function(e,t,n){var r=n(16);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},86:function(e,t,n){var r=n(87);e.exports=function(e,t){return new(r(e))(t)}},87:function(e,t,n){var r=n(16),i=n(56),o=n(15)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},88:function(e,t,n){"use strict";var r=n(13),i=n(59)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(34)("includes")},89:function(e,t,n){var r=n(42),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},9:function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i,o,a=n(0),s=n(4),c=Array.prototype.slice,l=Array.prototype.push,d=a._map(s.EVENTS,function(e){return e}),u=s.EVENT_ID_PATHS,p=[];e.exports=(i={},(o={}).on=function(e,t,n){if(o=e,a.contains(d,o)){var r=i[e]||{que:[]};n?(r[n]=r[n]||{que:[]},r[n].que.push(t)):r.que.push(t),i[e]=r}else a.logError("Wrong event name : "+e+" Valid event names :"+d);var o},o.emit=function(e){!function(e,t){a.logMessage("Emitting event for: "+e);var n=t[0]||{},r=n[u[e]],o=i[e]||{que:[]},s=a._map(o,function(e,t){return t}),c=[];p.push({eventType:e,args:n,id:r}),r&&a.contains(s,r)&&l.apply(c,o[r].que),l.apply(c,o.que),a._each(c,function(e){if(e)try{e.apply(null,t)}catch(e){a.logError("Error executing handler:","events.js",e)}})}(e,c.call(arguments,1))},o.off=function(e,t,n){var r=i[e];a.isEmpty(r)||a.isEmpty(r.que)&&a.isEmpty(r[n])||n&&(a.isEmpty(r[n])||a.isEmpty(r[n].que))||(n?a._each(r[n].que,function(e){var i=r[n].que;e===t&&i.splice(a.indexOf.call(i,e),1)}):a._each(r.que,function(e){var n=r.que;e===t&&n.splice(a.indexOf.call(n,e),1)}),i[e]=r)},o.get=function(){return i},o.getEvents=function(){var e=[];return a._each(p,function(t){var n=r({},t);e.push(n)}),e},o)},90:function(e,t){d.SYNC=1,d.ASYNC=2,d.QUEUE=4;var n="fun-hooks",r="function"==typeof Proxy,i=Object.freeze({useProxy:r,ready:0}),o=Object.getPrototypeOf({}),a="2,1,0"===[1].reduce(function(e,t,n){return[e,t,n]},2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,o=0;if(t)n=t;else{for(;o<i&&!(o in r);)o++;n=r[o++]}for(;o<i;)o in r&&(n=e(n,r[o],o,r)),o++;return n},s=4===function(e,t){return t}.bind(null,1,4)()?Function.prototype.bind:function(e){var t=this,n=l(arguments,1);return function(){return t.apply(e,n.concat(l(arguments)))}};function c(e){return a.call(l(arguments,1),function(e,t){return t&&Object.keys(t).forEach(function(n){e[n]=t[n]}),e},e)}function l(e,t){return Array.prototype.slice.call(e,t)}function d(e){var t,r={},u=[];function p(e,t){return"function"==typeof e?g.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?g.apply(null,arguments):"object"==typeof e?function(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);for(var i={},a=["constructor"];(t=t.filter(function(t){return!("function"!=typeof e[t]||-1!==a.indexOf(t)||t.match(/^_/))})).forEach(function(t){var r=t.split(":"),o=r[0],a=r[1]||"sync";if(!i[o]){var s=e[o];i[o]=e[o]=g(a,s,n?[n,o]:void 0)}}),e=Object.getPrototypeOf(e),r&&e!==o;);return i}.apply(null,arguments):void 0}function h(e){var n=Array.isArray(e)?e:e.split(".");return a.call(n,function(e,r,i){var o=e[r];return o||(i===n.length-1?(t||u.push(function(){}),e[r]=f(function(t){e[r]=t,!0})):e[r]={})},r)}function f(e){var t=[],n=[],r=function(){};return{__funHook:{install:function(i,o,a){this.type=i,this.fn=o,(r=a)(t,n),e&&e(o)}},before:function(e,n){return i.call(this,t,"before",e,n)},after:function(e,t){return i.call(this,n,"after",e,t)},getHooks:function(e){var r=t.concat(n);return"object"==typeof e&&(r=r.filter(function(t){return Object.keys(e).every(function(n){return t[n]===e[n]})})),c(r,{remove:function(){return r.forEach(function(e){e.remove()}),this}})},removeAll:function(){return this.getHooks().remove()}};function i(e,i,o,a){var s={hook:o,type:i,priority:a||10,remove:function(){var i=e.indexOf(s);-1!==i&&(e.splice(i,1),r(t,n))}};return e.push(s),e.sort(function(e,t){return t.priority-e.priority}),r(t,n),this}}function g(r,i,o){if(i.__funHook){if(i.__funHook.type!==r)throw n+": recreated hookable with different type";return i.__funHook.fn}var a,p,g=o?h(o):f(),y={get:function(e,t){return g[t]||Reflect.get.apply(Reflect,arguments)}};return t||u.push(v),e.useProxy?p=new Proxy(i,y):c(p=function(){return y.apply?y.apply(i,this,l(arguments)):i.apply(this,arguments)},g),g.__funHook.install(r,p,function(e,t){if(e.length||t.length){var n;if("sync"===r){var i,o="r=t.apply(h,"+(e.length?"arguments":"g")+")";t.length&&(i=l(t,"a","n(function extract(s){r=s},e)")),e.length&&(o=l(e,"b","n(function extract(){"+o+";"+i+"},e)"),i=""),n=["var r,e={bail:function(a){r=a}}",o,i,"return r"].join(";")}else"async"===r&&(n="t.apply(h,"+(e.length?"Array.prototype.slice.call(arguments)":"g")+".concat("+l(t,"a","z?n(z,e):[]")+"))",e.length&&(n="n(function partial(){"+n+"},e)"),n=["var z",'typeof g[g.length-1]==="function"&&(z=i.call(g.pop(),null))',"var e={bail:z}",l(e,"b",n)].join(";"));a=s.call(new Function("i,b,a,n,t,h,g",n),null,s,e,t,Object.assign||c)}else a=void 0;function l(e,t,n){for(var i=e.length;0<i--;)0!==i||"async"===r&&"a"===t?(n="i.call("+t+"["+i+"].hook, h,"+n+")","async"===r&&"a"===t&&0===i||(n="n("+n+",e)")):n=t+"["+i+"].hook.apply(h,["+n+("b"===t?"].concat(g))":",r])");return n}v()}),p;function v(){!t&&("sync"!==r||e.ready&d.SYNC)&&("async"!==r||e.ready&d.ASYNC)?"sync"!==r&&e.ready&d.QUEUE?y.apply=function(){var e=arguments;u.push(function(){p.apply(e[1],e[2])})}:y.apply=function(){throw n+": hooked function not ready"}:y.apply=a}}return(e=c({},i,e)).ready?p.ready=function(){t=!0,function(e){for(var t;t=e.shift();)t()}(u)}:t=!0,p.get=h,p}e.exports=d},91:function(e,t){e.exports=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t){var i=t[r];n[r]=i&&"object"==typeof i?e(i):i}return n}}}),pbjs_vdoChunk([197],{193:function(e,t,n){e.exports=n(194)},194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return T});var r=n(12),i=n(0),o=n(3),a=n(1),s=n(2),c=n(11),l=n.n(c),d=n(8),u=n.n(d);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var g="//ib.adnxs.com/ut/v3/prebid",y=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],v=["age","externalUid","segments","gender","dnt","language"],m=["geo","device_id"],b=["enabled","dongle","member_id","debug_timeout"],_={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},icon:{serverName:"icon",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},T={code:"appnexus",aliases:["appnexusAst","brealtime","emxdigital","pagescience","defymedia","gourmetads","matomy","featureforward","oftmedia","districtm"],supportedMediaTypes:[s.b,s.d,s.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var n,r=e.map(w),a=l()(e,A);a&&(n={},Object.keys(a.params.user).filter(function(e){return u()(v,e)}).forEach(function(e){return n[e]=a.params.user[e]}));var s,c=l()(e,I);c&&c.params&&c.params.app&&(s={},Object.keys(c.params.app).filter(function(e){return u()(m,e)}).forEach(function(e){return s[e]=c.params.app[e]}));var d,p=l()(e,P);p&&p.params&&c.params.app&&c.params.app.id&&(d={appid:p.params.app.id});var h={},y={},_=i.getCookie("apn_prebid_debug")||null;if(_)try{h=JSON.parse(_)}catch(e){i.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var T=l()(e,O);T&&T.debug&&(h=T.debug)}h&&h.enabled&&Object.keys(h).filter(function(e){return u()(b,e)}).forEach(function(e){y[e]=h[e]});var C=l()(e,k),E=C?parseInt(C.params.member,10):0,S={tags:f(r),user:n,sdk:{source:"pbjs",version:"2.13.0-pre"}};if(0<E&&(S.member_id=E),c&&(S.device=s),p&&(S.app=d),o.config.getConfig("adpod.brandCategoryExclusion")&&(S.brand_category_uniqueness=!0),y.enabled&&(S.debug=y,i.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(y,null,4))),t&&t.gdprConsent&&(S.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.refererInfo){var D={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")};S.referrer_detection=D}return l()(e,j)&&e.filter(j).forEach(function(e){var t=function(e,t){var n,r,o,a,s,c,l=t.mediaTypes.video,d=l.durationRangeSec,u=l.requireExactDuration,p=(n=t.mediaTypes.video,r=n.adPodDurationSec,o=n.durationRangeSec,a=n.requireExactDuration,s=i.getMinValueFromArray(o),c=Math.floor(r/s),a?Math.max(c,o.length):c),h=i.getMaxValueFromArray(d),g=e.filter(function(e){return e.uuid===t.bidId}),y=i.fill.apply(i,f(g).concat([p]));if(u){var v=Math.ceil(p/d.length),m=i.chunk(y,v);d.forEach(function(e,t){m[t].map(function(t){x(t,"minduration",e),x(t,"maxduration",e)})})}else y.map(function(e){return x(e,"maxduration",h)});return y}(r,e),n=S.tags.filter(function(t){return t.uuid!==e.bidId});S.tags=[].concat(f(n),f(t))}),function(e,t){var n=[];if(15<e.tags.length){var r=i.deepClone(e);i.chunk(e.tags,15).forEach(function(e){r.tags=e;var i=JSON.stringify(r);n.push({method:"POST",url:g,data:i,bidderRequest:t})})}else{var o=JSON.stringify(e);n={method:"POST",url:g,data:o,bidderRequest:t}}return n}(S,t)},interpretResponse:function(e,t){var n=this,o=t.bidderRequest;e=e.body;var c=[];if(!e||e.error){var d="in response for ".concat(o.bidderCode," adapter");return e&&e.error&&(d+=": ".concat(e.error)),i.logError(d),c}if(e.tags&&e.tags.forEach(function(e){var t,d,p=(t=e)&&t.ads&&t.ads.length&&l()(t.ads,function(e){return e.rtb});if(p&&0!==p.cpm&&u()(n.supportedMediaTypes,p.ad_type)){var f=function(e,t,n){var o=i.getBidRequest(e.uuid,[n]),c={requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:o.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.rtb.video){if(h(c,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastUrl:t.rtb.video.asset_url,vastImpUrl:t.notify_url,ttl:3600}),i.deepAccess(o,"mediaTypes.video.context")===s.a){var l=Object(a.getIabSubCategory)(o.bidder,t.brand_category_id);c.meta={iabSubCatId:l},c.video={context:s.a,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3)}}if(t.renderer_url){var d=i.deepAccess(n.bids[0],"renderer.options");h(c,{adResponse:e,renderer:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=r.a.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{o.setRender(D)}catch(e){i.logWarn("Prebid Error calling setRender on renderer",e)}return o.setEventHandlers({impression:function(){return i.logMessage("AppNexus outstream video impression event")},loaded:function(){return i.logMessage("AppNexus outstream video loaded event")},ended:function(){i.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),o}(c.adUnitCode,t,d)}),c.adResponse.ad=c.adResponse.ads[0],c.adResponse.ad.video=c.adResponse.ad.rtb.video}}else if(t.rtb[s.c]){var u=t.rtb[s.c];c[s.c]={title:u.title,body:u.desc,body2:u.desc2,cta:u.ctatext,rating:u.rating,sponsoredBy:u.sponsored,privacyLink:u.privacy_link,address:u.address,downloads:u.downloads,likes:u.likes,phone:u.phone,price:u.price,salePrice:u.saleprice,clickUrl:u.link.url,displayUrl:u.displayurl,clickTrackers:u.link.click_trackers,impressionTrackers:u.impression_trackers,javascriptTrackers:u.javascript_trackers},u.main_img&&(c.native.image={url:u.main_img.url,height:u.main_img.height,width:u.main_img.width}),u.icon&&(c.native.icon={url:u.icon.url,height:u.icon.height,width:u.icon.width})}else{h(c,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{var p=t.rtb.trackers[0].impression_urls[0],f=i.createTrackPixelHtml(p);c.ad+=f}catch(e){i.logError("Error appending tracking pixel",e)}}return c}(e,p,o);f.mediaType=(d=p.ad_type)===s.d?s.d:d===s.c?s.c:s.b,c.push(f)}}),e.debug&&e.debug.debug_info){var p="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;p=p.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),i.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),i.logMessage(p)}return c},getMappingFileInfo:function(){return{url:"//acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:7}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]},transformBidParams:function(e,t){return e=i.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:i.transformBidderParamKeywords},e),t&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,C(e.keywords)&&e.keywords.forEach(E),Object.keys(e).forEach(function(t){var n=i.convertCamelToUnderscore(t);n!==t&&(e[n]=e[t],delete e[t])})),e}};function C(e){return!!(i.isArray(e)&&0<e.length)}function E(e){C(e.value)&&""===e.value[0]&&delete e.value}function w(e){var t,n,r={};if(r.sizes=S(e.sizes),r.primary_size=r.sizes[0],r.ad_types=[],r.uuid=e.bidId,e.params.placementId?r.id=parseInt(e.params.placementId,10):r.code=e.params.invCode,r.allow_smaller_sizes=e.params.allowSmallerSizes||!1,r.use_pmt_rule=e.params.usePaymentRule||!1,r.prebid=!0,r.disable_psa=!0,e.params.reserve&&(r.reserve=e.params.reserve),e.params.position&&(r.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(r.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(r.private_sizes=S(e.params.privateSizes)),e.params.supplyType&&(r.supply_type=e.params.supplyType),e.params.pubClick&&(r.pubclick=e.params.pubClick),e.params.extInvCode&&(r.ext_inv_code=e.params.extInvCode),e.params.externalImpId&&(r.external_imp_id=e.params.externalImpId),!i.isEmpty(e.params.keywords)){var o=i.transformBidderParamKeywords(e.params.keywords);0<o.length&&o.forEach(E),r.keywords=o}if((e.mediaType===s.c||i.deepAccess(e,"mediaTypes.".concat(s.c)))&&(r.ad_types.push(s.c),0===r.sizes.length&&(r.sizes=S([1,1])),e.nativeParams)){var a=(t=e.nativeParams,n={},Object.keys(t).forEach(function(e){var r=_[e]&&_[e].serverName||_[e]||e,i=_[e]&&_[e].requiredParams;n[r]=h({},i,t[e]);var o=_[e]&&_[e].minimumParams;if(i&&o){var a=Object.keys(t[e]),s=Object.keys(i);0===a.filter(function(e){return!u()(s,e)}).length&&(n[r]=h({},n[r],o))}}),n);r[s.c]={layouts:[a]}}var c=i.deepAccess(e,"mediaTypes.".concat(s.d)),l=i.deepAccess(e,"mediaTypes.video.context");return(e.mediaType===s.d||c)&&r.ad_types.push(s.d),(e.mediaType===s.d||c&&"outstream"!==l)&&(r.require_asset_url=!0),e.params.video&&(r.video={},Object.keys(e.params.video).filter(function(e){return u()(y,e)}).forEach(function(t){return r.video[t]=e.params.video[t]})),(i.isEmpty(e.mediaType)&&i.isEmpty(e.mediaTypes)||e.mediaType===s.b||e.mediaTypes&&e.mediaTypes[s.b])&&r.ad_types.push(s.b),r}function S(e){var t=[],n={};if(i.isArray(e)&&2===e.length&&!i.isArray(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===p(e))for(var r=0;r<e.length;r++){var o=e[r];(n={}).width=parseInt(o[0],10),n.height=parseInt(o[1],10),t.push(n)}return t}function A(e){return!!e.params.user}function k(e){return!!parseInt(e.params.member,10)}function I(e){if(e.params)return!!e.params.app}function P(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function O(e){return!!e.debug}function j(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===s.a}function x(e,t,n){i.isEmpty(e.video)&&(e.video={}),e.video[t]=n}function D(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}.bind(null,e))})}Object(a.registerBidder)(T)}},[193]),pbjs_vdoChunk([115],{388:function(e,t,n){e.exports=n(389)},389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return o});var r=n(0),i=n(1);var o={code:"oneVideo",ENDPOINT:"//ads.adaptv.advertising.com/rtb/openrtb?ext_id=",SYNC_ENDPOINT1:"https://cm.g.doubleclick.net/pixel?google_nid=adaptv_dbm&google_cm&google_sc",SYNC_ENDPOINT2:"https://pr-bh.ybp.yahoo.com/sync/adaptv_ortb/{combo_uid}",SYNC_ENDPOINT3:"https://sync-tm.everesttech.net/upi/pid/m7y5t93k?redir=https%3A%2F%2Fsync.adap.tv%2Fsync%3Ftype%3Dgif%26key%3Dtubemogul%26uid%3D%24%7BUSER_ID%7D",SYNC_ENDPOINT4:"https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1",supportedMediaTypes:["video"],isBidRequestValid:function(e){return"oneVideo"===e.bidder&&void 0!==e.params&&void 0!==e.params.video&&void 0!==e.params.video.playerWidth&&void 0!==e.params.video.playerHeight&&void 0!==e.params.video.mimes&&void 0!==e.params.pubId},buildRequests:function(e,t){var n=t?t.gdprConsent:null;return e.map(function(e){return{method:"POST",url:location.protocol+o.ENDPOINT+e.params.pubId,data:(t=e,i=n,a=r.getTopWindowLocation(),s=t.params.site&&t.params.site.page?t.params.site.page:a.href,c=t.params.site&&t.params.site.referrer?t.params.site.referrer:r.getTopWindowReferrer(),l={id:r.generateUUID(),at:2,cur:t.cur||"USD",imp:[{id:"1",secure:"https:"===document.location.protocol,bidfloor:t.params.bidfloor,video:{mimes:t.params.video.mimes,w:t.params.video.playerWidth,h:t.params.video.playerHeight,linearity:1,protocols:t.params.video.protocols||[2,5]},ext:{hb:1}}],site:{page:s,ref:c},device:{ua:navigator.userAgent},tmax:200},t.params.video.maxbitrate&&(l.imp[0].video.maxbitrate=t.params.video.maxbitrate),t.params.video.maxduration&&(l.imp[0].video.maxduration=t.params.video.maxduration),t.params.video.minduration&&(l.imp[0].video.minduration=t.params.video.minduration),t.params.video.api&&(l.imp[0].video.api=t.params.video.api),t.params.video.delivery&&(l.imp[0].video.delivery=t.params.video.delivery),t.params.video.position&&(l.imp[0].video.pos=t.params.video.position),t.params.video.playbackmethod&&(l.imp[0].video.playbackmethod=t.params.video.playbackmethod),t.params.video.placement&&(l.imp[0].ext.placement=t.params.video.placement),t.params.site&&t.params.site.id&&(l.site.id=t.params.site.id),i&&i.gdprApplies&&(l.regs={ext:{gdpr:1}},i.consentString&&(l.user={ext:{consent:i.consentString}})),l),bidRequest:e};var t,i,a,s,c,l})},interpretResponse:function(e,t){var n,i,a,s,c,l,d,u,p,h,f=t.bidRequest;try{n=(e=e.body).seatbid[0].bid[0]}catch(t){e=null}return e&&n&&(n.adm||n.nurl)&&n.price?(s=f.sizes,d=r.parseSizesInput(s),c=d.length?d[0].split("x"):[],l=2,u=function(e){if(Array.isArray(e))return e}(c)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(c,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),p=u[0],h=u[1],i={width:parseInt(p,10)||void 0,height:parseInt(h,10)||void 0},a={requestId:f.bidId,bidderCode:o.code,cpm:n.price,creativeId:n.id,width:i.width,height:i.height,mediaType:"video",currency:e.cur,ttl:100,netRevenue:!0},n.nurl?a.vastUrl=n.nurl:n.adm&&(a.vastXml=n.adm),a):(r.logWarn("No valid bids from ".concat(o.code," bidder")),[])},getUserSyncs:function(e){if(e.pixelEnabled)return[{type:"image",url:o.SYNC_ENDPOINT1},{type:"image",url:o.SYNC_ENDPOINT2},{type:"image",url:o.SYNC_ENDPOINT3},{type:"image",url:o.SYNC_ENDPOINT4}]}};Object(i.registerBidder)(o)}},[388]),pbjs_vdoChunk([96],{434:function(e,t,n){e.exports=n(435)},435:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return I});var r=n(0),i=n(1),o=n(2),a=n(3);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c="PubMatic: ",l="nFIn8aLzbd",d=void 0,u={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},p={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},h={mimes:p.ARRAY,minduration:p.NUMBER,maxduration:p.NUMBER,startdelay:p.NUMBER,playbackmethod:p.ARRAY,api:p.ARRAY,protocols:p.ARRAY,w:p.NUMBER,h:p.NUMBER,battr:p.ARRAY,linearity:p.NUMBER,placement:p.NUMBER,minbitrate:p.NUMBER,maxbitrate:p.NUMBER},f={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},g={ICON:1,LOGO:2,IMAGE:3},y=[{id:f.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:f.TITLE.ID,required:!0},{id:f.IMAGE.ID,required:!0}],v={1:"PMP",5:"PREF",6:"PMPG"},m=0,b=!1,_={},T={};function C(e,t){if(!r.isStr(t))return t&&r.logWarn(c+"Ignoring param key: "+e+", expects string-value, found "+s(t)),d;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map(function(e){return e.trim()}).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||d;case"yob":return parseInt(t)||d;default:return t}}function E(e,t,n){var i,o="Ignoring param key: "+e+", expects "+n+", found "+s(t);switch(n){case p.BOOLEAN:i=r.isBoolean;break;case p.NUMBER:i=r.isNumber;break;case p.STRING:i=r.isStr;break;case p.ARRAY:i=r.isArray}return i(t)?t:(r.logWarn(c+o),d)}function w(e){var t,n,i,o={assets:[]};for(var a in e){if(e.hasOwnProperty(a)){var s={};if(!(o.assets&&0<o.assets.length&&o.assets.hasOwnProperty(a)))switch(a){case f.TITLE.KEY:e[a].len||e[a].length?s={id:f.TITLE.ID,required:e[a].required?1:0,title:{len:e[a].len||e[a].length,ext:e[a].ext}}:r.logWarn(c+"Error: Title Length is required for native ad: "+JSON.stringify(e));break;case f.IMAGE.KEY:e[a].sizes&&0<e[a].sizes.length?s={id:f.IMAGE.ID,required:e[a].required?1:0,img:{type:g.IMAGE,w:e[a].w||e[a].width||(e[a].sizes?e[a].sizes[0]:d),h:e[a].h||e[a].height||(e[a].sizes?e[a].sizes[1]:d),wmin:e[a].wmin||e[a].minimumWidth||(e[a].minsizes?e[a].minsizes[0]:d),hmin:e[a].hmin||e[a].minimumHeight||(e[a].minsizes?e[a].minsizes[1]:d),mimes:e[a].mimes,ext:e[a].ext}}:r.logWarn(c+"Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case f.ICON.KEY:e[a].sizes&&0<e[a].sizes.length?s={id:f.ICON.ID,required:e[a].required?1:0,img:{type:g.ICON,w:e[a].w||e[a].width||(e[a].sizes?e[a].sizes[0]:d),h:e[a].h||e[a].height||(e[a].sizes?e[a].sizes[1]:d)}}:r.logWarn(c+"Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case f.VIDEO.KEY:s={id:f.VIDEO.ID,required:e[a].required?1:0,video:{minduration:e[a].minduration,maxduration:e[a].maxduration,protocols:e[a].protocols,mimes:e[a].mimes,ext:e[a].ext}};break;case f.EXT.KEY:s={id:f.EXT.ID,required:e[a].required?1:0};break;case f.LOGO.KEY:s={id:f.LOGO.ID,required:e[a].required?1:0,img:{type:g.LOGO,w:e[a].w||e[a].width||(e[a].sizes?e[a].sizes[0]:d),h:e[a].h||e[a].height||(e[a].sizes?e[a].sizes[1]:d)}};break;case f.SPONSOREDBY.KEY:case f.BODY.KEY:case f.RATING.KEY:case f.LIKES.KEY:case f.DOWNLOADS.KEY:case f.PRICE.KEY:case f.SALEPRICE.KEY:case f.PHONE.KEY:case f.ADDRESS.KEY:case f.DESC2.KEY:case f.DISPLAYURL.KEY:case f.CTA.KEY:n=e,i=(t=T[a]).KEY,s={id:t.ID,required:n[i].required?1:0,data:{type:t.TYPE,len:n[i].len,ext:n[i].ext}}}}s&&s.id&&(o.assets[o.assets.length]=s)}var l=y.length,u=0;return y.forEach(function(e){for(var t=o.assets.length,n=0;n<t;n++)if(e.id==o.assets[n].id){u++;break}}),b=l!=u,o}function S(e){var t,n=e.mediaTypes.banner.sizes,i=[];if(n!==d&&r.isArray(n)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===n.length)return t=d,r.logWarn(c+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(n[0][0]),t.h=parseInt(n[0][1]),n=n.splice(1,n.length-1)}0<n.length&&(i=[],n.forEach(function(e){1<e.length&&i.push({w:e[0],h:e[1]})}),0<i.length&&(t.format=i)),t.pos=0,t.topframe=r.inIframe()?0:1}else r.logWarn(c+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=d;return t}function A(e){var t,n=e.params.video;if(n!==d){for(var i in t={},h)n.hasOwnProperty(i)&&(t[i]=E(i,n[i],h[i]));r.isArray(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0]),t.h=parseInt(e.mediaTypes.video.playerSize[0][1])):r.isNumber(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0]),t.h=parseInt(e.mediaTypes.video.playerSize[1])),e.params.video.hasOwnProperty("skippable")&&(t.ext={video_skippable:e.params.video.skippable?1:0})}else t=d,r.logWarn(c+"Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function k(e){var t,n,i,o,s,c,d,u=[];i=u,o=l,null!==(d=!(c=(s=window.DigiTrust&&(a.config.getConfig("digiTrustId")||window.DigiTrust.getUser({member:o})))&&s.success&&s.identity||null)||c.privacy&&c.privacy.optout?null:c)&&i.push({source:"digitru.st",uids:[{id:d.id||"",atype:1,ext:{keyv:parseInt(d.keyv)||0}}]}),t=u,(n=a.config.getConfig("adsrvrOrgId"))&&r.isStr(n.TDID)&&t.push({source:"adserver.org",uids:[{id:n.TDID,atype:1,ext:{rtiPartner:"TDID"}}]}),0<u.length&&(e.user.eids=u)}r._each(f,function(e){_[e.ID]=e.KEY}),r._each(f,function(e){T[e.KEY]=e});var I={code:"pubmatic",supportedMediaTypes:[o.b,o.d,o.c],isBidRequestValid:function(e){return!(!e||!e.params||(r.isStr(e.params.publisherId)?r.isStr(e.params.adSlot)?!(!e.params.hasOwnProperty("video")||e.params.video.hasOwnProperty("mimes")&&r.isArray(e.params.video.mimes)&&0!==e.params.video.mimes.length)&&(r.logWarn(c+"Error: For video ads, mimes is mandatory and must specify atlease 1 mime value. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),1):(r.logWarn(c+"Error: adSlotId is mandatory and cannot be numeric. Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),1):(r.logWarn(c+"Error: publisherId is mandatory and cannot be numeric. Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),1)))},buildRequests:function(e,t){var n;t&&t.refererInfo&&(n=t.refererInfo);var i,a,l,p,h,f,g,y,v,_=(p=n,(h={}).pageURL=r.getTopWindowUrl(),p&&p.referer?h.refURL=p.referer:h.refURL="",h),T=(l=_,{id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:l.pageURL,ref:l.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}),E="",I="",P=[],O=[];if(e.forEach(function(e){if(function(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,r.isStr(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):"");var n=e.params.adSlot,i=n.split(":");if(n=i[0],2==i.length&&(e.params.adUnitIndex=i[1]),i=n.split("@"),e.params.adUnit=i[0],1<i.length){if(2!=(i=i[1].split("x")).length)return void r.logWarn(c+"AdSlot Error: adSlot not in required format");e.params.width=parseInt(i[0]),e.params.height=parseInt(i[1])}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(o.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var a=0,s=[];a<e.mediaTypes.banner.sizes.length;a++)2===e.mediaTypes.banner.sizes[a].length&&s.push(e.mediaTypes.banner.sizes[a]);e.mediaTypes.banner.sizes=s,1<=e.mediaTypes.banner.sizes.length&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(a=r.deepClone(e)),a.params.hasOwnProperty("video")){if(!(a.params.adSlot&&a.params.adUnit&&a.params.adUnitIndex))return void r.logWarn(c+"Skipping the non-standard adslot: ",a.params.adSlot,JSON.stringify(a))}else{if(!(a.params.adSlot&&a.params.adUnit&&a.params.adUnitIndex))return void r.logWarn(c+"Skipping the non-standard adslot: ",a.params.adSlot,JSON.stringify(a));if(!(a.hasOwnProperty("mediaTypes")&&a.mediaTypes.hasOwnProperty(o.c)||0!==a.params.width||0!==a.params.height))return void r.logWarn(c+"Skipping the non-standard adslot: ",a.params.adSlot,JSON.stringify(a))}_.pubId=_.pubId||a.params.publisherId,(_=function(e,t){var n,i,o;for(n in t.kadpageurl||(t.kadpageurl=t.pageURL),u)u.hasOwnProperty(n)&&(i=e[n])&&("object"===s(o=u[n])&&(i=o.f(i,t)),r.isStr(i)?t[n]=i:r.logWarn(c+"Ignoring param : "+n+" with value : "+u[n]+", expects string-value, found "+s(i)));return t}(a.params,_)).transactionId=a.transactionId,""===E?E=a.params.currency||d:a.params.hasOwnProperty("currency")&&E!==a.params.currency&&r.logWarn(c+"Currency specifier ignored. Only one currency permitted."),a.params.currency=E,a.params.hasOwnProperty("dctr")&&r.isStr(a.params.dctr)&&P.push(a.params.dctr),a.params.hasOwnProperty("bcat")&&r.isArray(a.params.bcat)&&(O=O.concat(a.params.bcat));var t=function(e,t){var n,i,a={},s={},l=e.hasOwnProperty("sizes")?e.sizes:[],u="",p=[];if(a={id:e.bidId,tagid:e.params.adUnit,bidfloor:C("kadfloor",e.params.kadfloor),secure:"https:"===window.location.protocol?1:0,ext:{pmZoneId:C("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?C("currency",e.params.currency):"USD"},e.hasOwnProperty("mediaTypes"))for(u in e.mediaTypes)switch(u){case o.b:(n=S(e))!==d&&(a.banner=n);break;case o.c:s.request=JSON.stringify(w(e.nativeParams)),b?r.logWarn(c+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):a.native=s;break;case o.d:(i=A(e))!==d&&(a.video=i)}else n={pos:0,w:e.params.width,h:e.params.height,topframe:r.inIframe()?0:1},r.isArray(l)&&1<l.length&&((l=l.splice(1,l.length-1)).forEach(function(e){p.push({w:e[0],h:e[1]})}),n.format=p),a.banner=n;return a.hasOwnProperty(o.b)||a.hasOwnProperty(o.c)||a.hasOwnProperty(o.d)?a:d}(a);t&&T.imp.push(t)}),0!=T.imp.length){if(T.site.publisher.id=_.pubId.trim(),m=_.pubId.trim(),T.ext.wrapper={},T.ext.wrapper.profile=parseInt(_.profId)||d,T.ext.wrapper.version=parseInt(_.verId)||d,T.ext.wrapper.wiid=_.wiid||d,T.ext.wrapper.wv="prebid_prebid_2.13.0-pre",T.ext.wrapper.transactionId=_.transactionId,T.ext.wrapper.wp="pbjs",T.user.gender=_.gender?_.gender.trim():d,T.user.geo={},t&&t.gdprConsent&&(T.user.ext={consent:t.gdprConsent.consentString},T.regs={ext:{gdpr:t.gdprConsent.gdprApplies?1:0}}),T.user.geo.lat=C("lat",_.lat),T.user.geo.lon=C("lon",_.lon),T.user.yob=C("yob",_.yob),T.device.geo=T.user.geo,T.site.page=_.kadpageurl.trim()||T.site.page.trim(),T.site.domain=(y=T.site.page,(v=document.createElement("a")).href=y,v.hostname),0<P.length)if(e[0].params.hasOwnProperty("dctr")){if(I=e[0].params.dctr,r.isStr(I)&&0<I.length){var j=I.split("|");I="",j.forEach(function(e){I+=0<e.length?e.trim()+"|":""}),i=I.length,"|"===I.substring(i,i-1)&&(I=I.substring(0,i-1)),T.site.ext={key_val:I.trim()}}else r.logWarn(c+"Ignoring param : dctr with value : "+I+", expects string-value, found empty or non-string value");1<P.length&&r.logWarn(c+"dctr value found in more than 1 adunits. Value from 1st adunit will be picked. Ignoring values from subsequent adunits")}else r.logWarn(c+"dctr value not found in 1st adunit, ignoring values from subsequent adunits");return k(T),f=T,0<(g=(g=O).filter(function(e){return"string"==typeof e||(r.logWarn(c+"bcat: Each category should be a string, ignoring category: "+e),!1)}).map(function(e){return e.trim()}).filter(function(e,t,n){if(3<e.length)return n.indexOf(e)===t;r.logWarn(c+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)})).length&&(r.logWarn(c+"bcat: Selected: ",g),f.bcat=g),{method:"POST",url:"//hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(T)}}},interpretResponse:function(e,t){var n=[],i="USD";try{e.body&&e.body.seatbid&&r.isArray(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach(function(e){e.bid&&r.isArray(e.bid)&&e.bid.forEach(function(e){var a=JSON.parse(t.data),s={requestId:e.impid,cpm:(parseFloat(e.price)||0).toFixed(2),width:e.w,height:e.h,creativeId:e.crid||e.id,dealId:e.dealid,currency:i,netRevenue:!1,ttl:300,referrer:a.site&&a.site.ref?a.site.ref:"",ad:e.adm};a.imp&&0<a.imp.length&&a.imp.forEach(function(t){if(e.impid===t.id)switch(function(e,t){var n="",i=new RegExp(/VAST\s+version/);if(0<=e.indexOf('span class="PubAPIAd"'))t.mediaType=o.b;else if(i.test(e))t.mediaType=o.d;else try{(n=JSON.parse(e.replace(/\\/g,"")))&&n.native&&(t.mediaType=o.c)}catch(t){r.logWarn(c+"Error: Cannot parse native reponse for ad response: "+e)}}(e.adm,s),s.mediaType){case o.b:break;case o.d:s.width=e.hasOwnProperty("w")?e.w:t.video.w,s.height=e.hasOwnProperty("h")?e.h:t.video.h,s.vastXml=e.adm;break;case o.c:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var n="";try{n=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return r.logWarn(c+"Error: Cannot parse native reponse for ad response: "+t.adm)}if(n&&n.native&&n.native.assets&&0<n.native.assets.length){t.mediaType=o.c;for(var i=0,a=n.native.assets.length;i<a;i++)switch(n.native.assets[i].id){case f.TITLE.ID:t.native.title=n.native.assets[i].title&&n.native.assets[i].title.text;break;case f.IMAGE.ID:t.native.image={url:n.native.assets[i].img&&n.native.assets[i].img.url,height:n.native.assets[i].img&&n.native.assets[i].img.h,width:n.native.assets[i].img&&n.native.assets[i].img.w};break;case f.ICON.ID:t.native.icon={url:n.native.assets[i].img&&n.native.assets[i].img.url,height:n.native.assets[i].img&&n.native.assets[i].img.h,width:n.native.assets[i].img&&n.native.assets[i].img.w};break;case f.SPONSOREDBY.ID:case f.BODY.ID:case f.LIKES.ID:case f.DOWNLOADS.ID:case f.PRICE:case f.SALEPRICE.ID:case f.PHONE.ID:case f.ADDRESS.ID:case f.DESC2.ID:case f.CTA.ID:case f.RATING.ID:case f.DISPLAYURL.ID:t.native[_[n.native.assets[i].id]]=n.native.assets[i].data&&n.native.assets[i].data.value}t.native.clickUrl=n.native.link&&n.native.link.url,t.native.clickTrackers=n.native.link&&n.native.link.clicktrackers||[],t.native.impressionTrackers=n.native.imptrackers||[],t.native.jstracker=n.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}}(e,s)}}),e.ext&&e.ext.deal_channel&&(s.dealChannel=v[e.ext.deal_channel]||null),s.meta={},e.ext&&e.ext.dspid&&(s.meta.networkId=e.ext.dspid),e.ext&&e.ext.advid&&(s.meta.buyerId=e.ext.advid),e.adomain&&0<e.adomain.length&&(s.meta.clickUrl=e.adomain[0]),n.push(s)})}))}catch(e){r.logError(e)}return n},getUserSyncs:function(e,t,n){var i="//ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+m;if(n&&(i+="&gdpr="+(n.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),e.iframeEnabled)return[{type:"iframe",url:i}];r.logWarn(c+"Please enable iframe based user sync.")},transformBidParams:function(e,t){return r.convertTypes({publisherId:"string",adSlot:"string"},e)}};Object(i.registerBidder)(I)}},[434]),pbjs_vdo.processQueue(),window.vdo_ai_=window.vdo_ai_?window.vdo_ai_:{},function(e,t,n,r,i){var o,a,s,c,l,d,u,p,h,f,g,y=!0,v=0,m=0,b=[],_=!1,T=0,C=!1,E=!1,w=0;function S(c){if(!y)return gtag("event","blocked_url"),!1;var f,g,m,T;if(n=c,vdo_ai_[n.unitId]={},vdo_ai_[n.unitId].id=n.id,i=null,g=!1,f=navigator.userAgent||navigator.vendor||e.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(f)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|)|g1 u|g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| ||a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(f.substr(0,4)))&&(g=!0),1==c[l=g?"mobile":"desktop"].show){if(F("Show on "+l+" is allowed"),n.height=c[l].height,n.width=c[l].width,n.smallHeight=c[l].smallHeight,n.smallWidth=c[l].smallWidth,n.unitType=c[l].unitType,"floating"!=n.unitType&&(d=t.getElementById(n.parent_div),u="#"+n.parent_div,e.inView.threshold(.5),e.inView(u).check()),void 0===c[l].cancelTimeoutType&&(c[l].cancelTimeoutType={},c[l].cancelTimeoutType.allow=!0),0==c[l].cancelTimeoutType.allow&&void 0!==c[l].cancelTimeoutType.allow||(m=c,T=l,F("Setting Cancel Button"),null==m[T].cancelTimeoutType&&(n[T].cancelTimeoutType.type="timeout",n[T].cancelTimeoutType.timeout=n.cancelTimeout)),F("Create Video Element"),vdo=t.createElement("video"),vdo.id=n.id,vdo.setAttribute("muted","true"),vdo.setAttribute("autoplay","true"),vdo.setAttribute("playsinline","true"),vdo.classList.add("vdo-js","vjs-default-skin"),o.appendChild(vdo),null==c[l].unitType)c[l].unitType="floating",k(c,l);else switch(c[l].unitType){case"floating":k(c,l);break;case"content":A(c,l)}!function(){F("Checking Player Mode"),e.location.href.indexOf("debug_mode=2")>0?(a=!0,n.waterfallConfigUrl="https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator="):e.location.href.indexOf("sample_mode")>0?(n.waterfallConfigUrl="https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator=",a=!1):a=e.location.href.indexOf("debug_mode=1")>0;c=n.bidConfigUrl,F("getXML from ad tag"),fetch(c).then(function(e){return e.json()}).then(function(c){p=c,function(){F("setupPlayer"),b=[];var c,p=n.id;if("content-header"==n.unitType||"content-floating"==n.unitType)if(!e.inView.is(t.querySelector(u))&&v>=1){var f=JSON.parse(JSON.stringify(n));f.height=n.smallHeight,f.width=n.smallWidth,i=videojs(p,f),F("Not in view at the time of setupPlayer")}else i=videojs(p,n);else i=videojs(p,n);i.ima({id:p,disableFlashAds:!0,debug:a,autoPlayAdBreaks:!0,vpaidMode:google.ima.ImaSdkSettings.VpaidMode.INSECURE,adsRenderingSettings:{loadVideoTimeout:16e3}}),c=n.muted?0:1,i.muted(!0),i.on("adsready",function(){i.ima.addEventListener(google.ima.AdEvent.Type.LOADED,function(){i.ima.getAdsManager().setVolume(c),F("Player Volume is set to "+c)})}),i.ima.setAdBreakReadyListener(O),F(b=n.adbreak_offsets.map(Number)),F("showPlayer"),i.on(n.show_on,D),i.on("play",function(){F("play"),j()}),i.on("adstart",function(){F("adstart"),_&&(F("pauseAdBreakTimer"),clearInterval(h),_=!1)}),i.on("adend",function(){F("adend"),j()}),i.on("adtimeout",function(){F("adtimeout occured"),j()}),i.on("contentended",replayVdo),n[l].passback&&n[l].passback.allow?(F("Passback Allowed"),vdo_ai_[n.unitId].passbackTimer=setTimeout(function(){F("Checking for Passback"),0==s&&null!=n[l].passback.src&&(new CustomEvent("passbackset"),U(vdo_ai_[n.unitId]),function(){F("Setting Passback");var e=n[l].passback.string,r=t.createElement("script");null!=n[l].passback.src&&""!=n[l].passback.src&&(r.src=n[l].passback.src),r.innerHTML=e,o.appendChild(r),"floating"!=n.unitType&&(d.style.height="auto"),o.style.display="block",delete vdo_ai_[n.unitId]}())},n[l].passback.timeout)):F("Passback not Allowed"),i.ready(function(){i.paused()&&["touchstart","touch","click"].forEach(function(e){t.body.addEventListener(e,x)})}),i.controls()&&(F("animateControlBar"),i.controlBar.el_.addEventListener("mouseover",function(){r.style.bottom="33px"}),i.controlBar.el_.addEventListener("mouseout",function(){r.style=""}))}()});var c}()}else F("Show on "+l+" is not allowed")}function A(e,t){o.classList.contains("vdo_floating")?o.classList.remove("vdo_floating"):o.classList.contains("vdo_header")&&o.classList.remove("vdo_header"),o.classList.add("vdo_content"),o.parentElement.style.width="100%",o.style.bottom="",o.style.right="",o.style.left=""}function k(e,t){F("vdo_floating"),o.classList.contains("vdo_content")?o.classList.remove("vdo_content"):o.classList.contains("vdo_header")&&o.classList.remove("vdo_header"),o.classList.add("vdo_floating"),null==e[t].bottomMargin?null==e.bottomMargin?o.style.bottom="15px":o.style.bottom=e.bottomMargin+"px":o.style.bottom=e[t].bottomMargin+"px",null==e[t].leftOrRight.position?o.style.right="10px":"left"==e[t].leftOrRight.position?(o.style.right="",o.style.left=e[t].leftOrRight.margin+"px"):(o.style.right=e[t].leftOrRight.margin+"px",o.style.left="")}function I(e,t){o.classList.contains("vdo_content")?o.classList.remove("vdo_content"):o.classList.remove("vdo_floating")&&o.classList.remove("vdo_floating"),o.classList.add("vdo_header"),o.style.width="100%",o.style.marginTop="0px",o.style.zIndex="9999999999",o.style.padding="0px",o.firstChild.style.position="relative",o.firstChild.style.margin="auto"}function P(e){i.ima.changeAdTag(e),i.ima.requestAds(),playPromise=i.play(),void 0!==playPromise&&playPromise.then(function(){}).catch(function(e){})}function O(){F("myAdBreakReadyListener")}function j(){_||(_=!0,F("startAdBreakTimer"),h=setInterval(function(){F(m),-1!=b.indexOf(m)&&(adsTriggered=!1,getBids(m)),m+=1},1e3))}function x(){c++,playPromise=i.play(),void 0!==playPromise?(F("playPromise supported"),playPromise.then(function(){["touchstart","touch","click"].forEach(function(e){t.body.removeEventListener(e,x)})}).catch(function(e){c>=2&&["touchstart","touch","click"].forEach(function(e){t.body.removeEventListener(e,x)})})):(F("playPromise not supported"),i.paused()?c>=2&&["touchstart","touch","click"].forEach(function(e){t.body.removeEventListener(e,x)}):["touchstart","touch","click"].forEach(function(e){t.body.removeEventListener(e,x)}))}function D(){i&&(w++,s=!0,F("playerReady"),F("setBrandLogo"),(r=t.createElement("a")).href="https://vdo.ai",r.target="_blank",r.id="vdo_logo",r.classList.add("vdo_logo"),r.innerHTML='<img src="https://vdo.ai/logo.svg" alt="VDO.AI" style="verticle-align:middle">',i.el_.appendChild(r),function(){F("playerTransitionUp"),t.getElementById(n.id+"_ima-controls-div").style.display="none","floating"!=n.unitType&&(d.style.height=n.height+"px");o.style.display="block"}(),function(){F("Cancel Request Type is "+n[l].cancelTimeoutType.type),null==n[l].cancelTimeoutType.type&&(n[l].cancelTimeoutType.type="timeout");"content"!=n.unitType&&"floating"!=n.unitType||("event"==n[l].cancelTimeoutType.type?n.show_on==n[l].cancelTimeoutType.eventtype?B():i.on(n[l].cancelTimeoutType.eventtype,function(){B()}):(F("Timeout inside"),null==n[l].cancelTimeoutType.cancelTimeout&&(n[l].cancelTimeoutType.cancelTimeout=n.cancelTimeout),vdo_ai_[n.unitId].cancelTimer=setTimeout(function(){!0,B()},n[l].cancelTimeoutType.cancelTimeout)))}(),1==w&&"floating"!=n.unitType&&function(){F("startViewPortChecks"),"content-floating"==n[l].unitType&&(!e.inView.is(t.querySelector(u))&&v>=1?(F("not in view at the time of startViewPortChecks"),k(n,l),1!=E?B():t.getElementById("vdo_ai_cross")&&(t.getElementById("vdo_ai_cross").style.display="block")):(F("Starting in-content"),A(),R()));"content-header"==n[l].unitType&&(!e.inView.is(t.querySelector(u))&&v>=1?(F("not in view at the time of startViewPortChecks"),I(),1!=E?B():t.getElementById("vdo_ai_cross")&&(t.getElementById("vdo_ai_cross").style.display="block")):(F("Starting in-content"),A(),R()));C||e.inView(u).on("enter",function(){!function(){"content-floating"!=n.unitType&&"content-header"!=n.unitType||(M(),A(),F("Player found in viewport - setting content css now"));t.getElementById("vdo_ai_cross")&&(t.getElementById("vdo_ai_cross").style.display="none");s&&R()}()}).on("exit",function(){i&&(F("stopped view timer at: "+T),clearInterval(vdo_ai_[n.unitId].viewTimer),F("I have left the viewport"),"content-header"==n.unitType?T>=2&&(F("player in view for "+T+"s - moving it to sticky position"),I(),N(),1!=E?B():t.getElementById("vdo_ai_cross")&&(t.getElementById("vdo_ai_cross").style.display="block")):"content-floating"==n.unitType&&T>=2&&(F("player in view for "+T+"s - moving it to sticky position"),k(n,l),N(),1!=E?B():t.getElementById("vdo_ai_cross")&&(t.getElementById("vdo_ai_cross").style.display="block")))})}())}function R(){F("started view timer"),e.inView.is(t.querySelector(u))&&(vdo_ai_[n.unitId].viewTimer=setInterval(function(){T+=.1},100))}function N(){i.height()==n.smallHeight&&i.width()==n.smallWidth||(F("resizing to smallerSize"),i.height(n.smallHeight),i.width(n.smallWidth),i.ima.getAdsManager()&&i.ima.getAdsManager().resize(n.smallWidth,n.smallHeight,google.ima.ViewMode.NORMAL))}function M(){i.height()==n.height&&i.width()==n.width||(F("resizing to originalSize"),i.height(n.height),i.width(n.width),i.ima.getAdsManager()&&i.ima.getAdsManager().resize(n.width,n.height,google.ima.ViewMode.NORMAL))}function B(){if(F("setCancelButton Called"),!t.getElementById("vdo_ai_cross")){var e=t.createElement("img");e.src="https://vdo.ai/cross.svg",e.classList.add("cross"),e.id="vdo_ai_cross",i.el_.appendChild(e),e.addEventListener("click",L),E=!0}}function L(r){F("clearPlayer"),C=!0,"content-header"==n.unitType||"content-floating"==n.unitType?(M(),A(),t.getElementById("vdo_ai_cross").style.display="none",e.inView(u).off("enter"),e.inView(u).off("exit")):U(vdo_ai_[n.unitId])}function U(r,i){"content-header"!=n.unitType&&"content-floating"!=n.unitType||(o.classList.remove("vdo_header"),o.style.width="100%",o.style.marginLeft="0px"),function(t){0==s&&(T=0);"floating"!=n.unitType&&(e.inView(u).off("enter"),e.inView(u).off("exit"));"init",o.style.display="none",c=0,s=!1,E=!1,C=!1,!0,m=0,_=!1,w=0,clearInterval(h),clearTimeout(t.passbackTimer),clearTimeout(t.cancelTimer)}(r),setTimeout(function(){try{videojs(t.getElementById(r.id)).dispose()}catch(e){F(e)}i&&i()},100)}function F(t){(e.location.href.indexOf("debug_mode=2")>0||e.location.href.indexOf("debug_mode=1")>0)&&videojs.log(t)}Element.prototype.remove||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),e.initVdo=function(e){var r=location.host+location.pathname;r=r.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"");var i=new XMLHttpRequest;i.onload=function(){F(this.responseText),"false"==this.responseText?(y=!1,F("not allowed")):F("allowed")},i.open("get","//a.vdo.ai/core/allowed_url.php?url="+encodeURIComponent(r),!1),i.send(),c=0,s=!1,v=!1,!0,n=e,null==(o=t.getElementById(n.unitId))&&(n.unitId="_vdo_ads_player_ai_",o=t.getElementById("_vdo_ads_player_ai_")),o.style.display="none",null!=vdo_ai_[n.unitId]?(U(vdo_ai_[n.unitId],S(n)),F("cleared existing player first")):S(n)},e.getBids=function(e){F("Getting Bids"),F(p);var t=p[e];if(void 0!==t){for(var r=t.bids,i=!0,o=0;o<r.length;o++)"demo"==r[o].bidType&&(i=!1);if(1==i){pbjs_vdo=pbjs_vdo||{},pbjs_vdo.removeAdUnit(),pbjs_vdo.que=pbjs_vdo.que||[];var a={code:"video1",mediaTypes:{video:{playerSize:[n.width,n.height],context:"instream"}},bids:r};pbjs_vdo.que.push(function(){pbjs_vdo.addAdUnits(a),pbjs_vdo.setConfig({debug:!0,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}}},bidderTimeout:3e3}),pbjs_vdo.requestBids({bidsBackHandler:function(t){var r=a.code;if(void 0===t[r])F("No Bids Recieved - falling to waterfall"),videoUrl=n.waterfallConfigUrl+"?offset="+e,P(videoUrl);else{F("Prebid won: ");var i=pbjs_vdo.getHighestCpmBids(r);F("Bids Recieved Successfully"),F(i),videoUrl=i[0].vastUrl,P(videoUrl)}}})})}else F("RealTags"),videoUrl=n.waterfallConfigUrl+"?offset="+e,P(videoUrl)}else F("Bids offset not found"),videoUrl=n.waterfallConfigUrl+"?offset="+e,P(videoUrl)},e.replayVdo=function(e){F("replayVdo"),userGeneratedStop=!0,U(vdo_ai_[n.unitId],function(){v++,n.id="vdo_ai_"+Math.ceil(9999999*Math.random()),S(n)})},(g=(f=t).createElement("script")).async=!0,g.src="https://www.googletagmanager.com/gtag/js?id=UA-113932176-9",f.head.appendChild(g),function(){function t(){dataLayer.push(arguments)}e.dataLayer=e.dataLayer||[],t("js",new Date),t("config","UA-113932176-9")}()}(window,document);